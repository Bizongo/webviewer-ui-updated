{"version":3,"sources":["webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss?f704","webpack:///./src/helpers/pageManipulationFunctions.js","webpack:///./src/components/ThumbnailControls/ThumbnailControls.scss?4580","webpack:///./src/components/ThumbnailControls/ThumbnailControls.scss","webpack:///./src/components/Thumbnail/Thumbnail.scss?ff19","webpack:///./src/components/Thumbnail/Thumbnail.scss","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabsContainer.scss","webpack:///./src/components/DocumentControls/DocumentControls.scss?f0c8","webpack:///./src/components/DocumentControls/DocumentControls.scss","webpack:///./src/components/ThumbnailsPanel/ThumbnailsPanel.scss?89e0","webpack:///./src/components/ThumbnailsPanel/ThumbnailsPanel.scss","webpack:///./src/components/PageManipulationOverlayButton/PageManipulationOverlayButtonContainer.js","webpack:///./src/components/PageManipulationOverlayButton/index.js","webpack:///./src/components/ThumbnailControls/ThumbnailControls.js","webpack:///./src/components/ThumbnailControls/index.js","webpack:///./src/components/Thumbnail/Thumbnail.js","webpack:///./src/components/Thumbnail/ThumbnailRedux.js","webpack:///./src/components/Thumbnail/index.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall.js","webpack:///./src/components/LeftPanelPageTabs/CustomLeftPanelOperations/CustomLeftPanelOperations.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsMore/LeftPanelPageTabsMore.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsInsert/LeftPanelPageTabsInsert.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsOperations/LeftPanelPageTabsOperations.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsLarge/LeftPanelPageTabsLarge.js","webpack:///./src/components/LeftPanelPageTabs/LeftPanelPageTabsContainer.js","webpack:///./src/components/LeftPanelPageTabs/index.js","webpack:///./src/components/DocumentControls/DocumentControls.js","webpack:///./src/components/DocumentControls/index.js","webpack:///./src/helpers/pageManipulation.js","webpack:///./src/components/ThumbnailsPanel/ThumbnailsPanel.js","webpack:///./src/components/ThumbnailsPanel/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","_regeneratorRuntime","e","t","r","Object","prototype","n","hasOwnProperty","o","defineProperty","value","Symbol","a","iterator","c","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","type","arg","call","h","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","d","getPrototypeOf","v","values","g","defineIteratorMethods","_invoke","AsyncIterator","invoke","_typeof","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","asyncGeneratorStep","gen","reject","_next","_throw","key","info","error","_asyncToGenerator","fn","self","args","arguments","apply","err","undefined","ownKeys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","_objectSpread","_defineProperty","getOwnPropertyDescriptors","defineProperties","obj","toPrimitive","String","Number","_toPrimitive","_createForOfIteratorHelper","allowArrayLike","it","Array","isArray","minLen","_arrayLikeToArray","toString","from","test","_unsupportedIterableToArray","F","_e","normalCompletion","didErr","step","_e2","arr","len","arr2","getNewRotation","curr","counterClockwise","_window$Core$PageRota","Core","PageRotation","E_0","E_90","E_180","E_270","rotatePages","pageNumbers","doc","core","getDocument","docType","workerTypes","PDF","IMAGE","WEBVIEWER_SERVER","isWebViewerServerDocument","rotation","index","_step","docViewer","getDocumentViewer","currentRotations","getPageRotations","_iterator","page","setRotation","rotateClockwise","createAnnouncement","concat","i18next","getPageRotation","getCurrentPage","rotateCounterClockwise","insertAbove","width","height","insertBlankPages","insertBelow","map","replace","dispatch","actions","closeElement","DataElements","PAGE_MANIPULATION_OVERLAY","openElement","extractPages","message","title","confirmBtnText","secondaryBtnText","extractAnnouncement","deleteAnnouncement","warning","onConfirm","extractPagesWithAnnotations","file","saveAs","onSecondary","removePages","setSelectedPageThumbnails","showWarningMessage","deletePages","isModalEnabled","setShiftKeyThumbnailsPivotIndex","getPageCount","movePagesToBottom","movePages","getTotalPages","movePagesToTop","noPagesSelectedWarning","keepOpen","exitPageInsertionWarning","closeModal","exitPageReplacementWarning","redactPages","redactionStyles","applyRedactions","createPageRedactions","_step2","annots","_iterator2","pageInfo","getPageInfo","pageRotation","redaction","Annotations","RedactionAnnotation","PageNumber","Rect","redactionTypeMap","setCustomData","Author","getCurrentUser","getAnnotationManager","addAnnotations","drawAnnotationsFromList","replacePages","_ref","_callee","sourceDocument","pagesToRemove","pagesToReplaceIntoDocument","documentLoadedInViewer","pageCountOfLoadedDocument","pagesToRemoveFromOriginal","_context","sort","b","insertPages","_x","_x2","_x3","_ref2","_callee2","pagesToInsert","insertBeforeThisPage","_args2","_context2","_x4","_x5","___CSS_LOADER_API_IMPORT___","PageManipulationOverlayButtonContainer","PageManipulationOverlayButton","props","className","pageIndex","useDispatch","selectedPageIndexes","useSelector","state","selectors","getSelectedThumbnailPageIndexes","React","createElement","onClick","indexOf","ToggleElementButton","dataElement","PAGE_MANIPULATION_OVERLAY_BUTTON","element","img","propTypes","PropTypes","number","isRequired","ThumbnailControls","useTranslation","isElementDisabled","_slicedToArray","isMoreOptionDisabled","_useSelector6","pageDeletionConfirmationModalEnabled","isPageDeletionConfirmationModalEnabled","selectedIndexes","_useSelector8","getThumbnailControlMenuItems","shallowEqual","currentPage","pageThumbnailControlMenuItems","includes","documentType","isXod","XOD","isOffice","OFFICE","LEGACY_OFFICE","BUTTONS_MAP","Button","onClickAnnouncement","isCustomized","occurredButtons","buttons","item","component","cloneElement","data-element","style","display","classNames","_arrayWithHoles","l","_iterableToArrayLimit","_nonIterableRest","Thumbnail","isSelected","updateAnnotations","shiftKeyThumbnailPivotIndex","onFinishLoading","onLoad","_ref$onRemove","onRemove","onDragStart","onDragOver","isDraggable","shouldShowControls","thumbnailSize","_ref$pageLabels","pageLabels","isThumbnailMultiselectEnabled","isReaderModeOrReadOnly","isMobile","canLoad","onCancel","isThumbnailSelectingPages","thumbnailSelectionMode","activeDocumentViewerKey","panelSelector","thumbSize","_useState2","useState","dimensions","setDimensions","_useState4","loaded","setLoaded","loadTimeout","loadThumbnailAsync","setTimeout","_drawComplete","thumbnailContainer","getRootNode","querySelector","pageNum","viewerRotation","getRotation","id","loadCanvas","pageNumber","drawComplete","thumb","childElement","ratio","cssTransform","removeChild","Math","min","abs","allowUseOfOptimizedThumbnail","useEffect","onPagesUpdated","changes","contentChanged","moved","added","removed","isPageAdded","didPageChange","some","changedPage","didPageMove","movedPage","parseInt","isPageRemoved","newPageCount","onRotationUpdated","addEventListener","removeEventListener","clearTimeout","useDidUpdate","isActive","pageLabel","checkboxRotateClass","active","selected","draggable","checkboxToggled","target","multiSelectionKeyPressed","ctrlKey","metaKey","shiftKeyPressed","shiftKey","updatedSelectedPages","_toConsumableArray","setThumbnailSelectingPages","shiftKeyPivot","currSelectMinIndex","currSelectMaxIndex","max","Set","_","thumbnailSelectionModes","lastSelectedPageIndex","setCurrentPage","Choice","checked","_useSelector2","getPageLabels","isReaderMode","isDocumentReadOnly","getShiftKeyThumbnailPivotIndex","getThumbnailSelectionMode","getActiveDocumentViewerKey","selectionModes","_extends","LeftPanelPageTabsMoreSmall","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL","THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER","LeftPanelPageTabsInsertSmall","CustomLeftPanelOperations","operations","Fragment","operation","LeftPanelPageTabsRotate","onRotateClockwise","onRotateCounterClockwise","InitialLeftPanelPageTabsSmall","children","multiPageManipulationControlsItems","childrenArray","Children","toArray","find","child","LeftPanelPageTabsSmall","multiPageManipulationControlsItemsSmall","LeftPanelPageTabsMore","THUMBNAILS_CONTROL_MANIPULATE_POPUP","THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER","LeftPanelPageTabsMove","moveToTop","moveToBottom","InitialLeftPanelPageTabs","LeftPanelPageTabs","LeftPanelPageTabsInsert","onInsert","LeftPanelPageTabsOperations","onReplace","onExtractPages","onDeletePages","LeftPanelPageTabsLarge","LeftPanelPageTabsContainer","widthMinusMargins","parentElement","isInMobile","getPanelWidth","getLeftPanelWidth","getMultiPageManipulationControlsItems","getMultiPageManipulationControlsItemsSmall","getMultiPageManipulationControlsItemsLarge","isInDesktopOnlyMode","panelWidth","deleteModalEnabled","multiPageManipulationControlsSmall","multiPageManipulationControlsLarge","isDesktopOnlyMode","getBoundingClientRect","panelMinWidth","isPanelLarge","childProps","getPageString","selectedPageArray","pagesToPrint","sortedPages","prevIndex","DocumentControls","isDisabled","initialPagesString","pageString","setPageString","previousPageString","setPreviousPageString","enableThumbnailSelectingPages","onBlur","selectedPagesString","pages","getPageArrayFromString","pageIndexes","updatedString","onChange","placeholder","pageNumberPlaceholder","aria-label","bool","arrayOf","string","toggleDocumentControl","func","mergeDocument","srcToMerge","mergeToPage","shouldFireEvent","LOADING_MODAL","mergeResults","fireEvent","Events","DOCUMENT_MERGED","ThumbnailsPanel","parentDataElement","isElementOpen","getIsThumbnailMergingEnabled","getIsThumbnailReorderingEnabled","getIsMultipleViewerMerging","openingPageManipulationOverlayByRightClickEnabled","isLeftPanelOpen","totalPages","isThumbnailMergingEnabled","isThumbnailReorderingEnabled","isMultipleViewerMerging","isThumbnailControlDisabled","isThumbnailSliderDisabled","totalPagesFromSecondaryDocumentViewer","isRightClickEnabled","listRef","useRef","pendingThumbs","thumbs","afterMovePageNumber","isOfficeEditor","setIsOfficeEditor","setCanLoad","_useState6","setHeight","_useState8","setWidth","_useState10","draggingOverPageIndex","setDraggingOverPageIndex","_useState12","isDraggingToPreviousPage","setDraggingToPreviousPage","_useState14","numberOfColumns","setNumberOfColumns","_useState16","isDragging","setIsDragging","_useState18","setThumbnailSize","_useState20","lastTimeTriggered","setLastTimeTriggered","_useState22","globalIndex","setGlobalIndex","pageCount","activeThumbRenders","thumbContainer","current","pageWidth","getPageWidth","_getThumbnailSize","pageHeight","round","getThumbnailSize","getPageHeight","annotCanvas","maxWidth","maxHeight","ctx","getContext","zoom","getCompleteRotation","multiplier","getCanvasMultiplier","setAnnotationCanvasTransform","overrideCanvas","overridePageRotation","overridePageCanvas","debounce","drawAnnotations","debouncedDraw","onBeginRendering","onFinishedRendering","needsMoreRendering","onDocumentLoaded","_core$getDocument","getType","onPageComplete","updatedPagesIndexes","isPageAddedBefore","_listRef$current","scrollToRow","floor","onAnnotationChanged","indices","annot","Listable","onPageNumberUpdated","_listRef$current2","onDragEnd","scrollToRowHelper","change","time","_listRef$current3","now","Date","getTime","preventDefault","stopPropagation","thumbnail","pageX","x","pageY","_virtualizedThumbnail","bottom","hoverAreaHeight","scrollDown","scrollUp","draggingSelectedPage","pagesToMove","THUMBNAIL_DRAGGED","dataTransfer","setData","setDragImage","Image","dropEffect","effectAllowed","frameElement","extractedDataPromise","pagesExtracted","onDrop","externalPageWebViewerFrameId","files","insertTo","isIE11","getData","viewerID","mergingDocument","currentPageIndex","otherWebViewerIframe","parent","console","warn","contentWindow","docToMerge","filename","targetPageNumber","pageNumbersToMove","updatedPagesNumbers","offset","THUMBNAIL_DROPPED","pageNumbersBeforeMove","pagesNumbersAfterMove","numberOfPagesMoved","thumbIsLoaded","thumbIsPending","removeFromPendingThumbs","getPendingThumbIndex","splice","_thumbs$current$pageI","cancelLoadThumbnail","findIndex","thumbStatus","_thumbs$current$pageI2","_thumbs$current$pageI3","canvases","cancel","renderThumbnails","columnsOfThumbnails","row","allowPageOperationsUI","role","fill","columnIndex","thumbIndex","allowDragAndDrop","showPlaceHolder","onContextMenu","event","setPageManipulationOverlayAlternativePosition","left","right","top","openElements","updateNumberOfColumns","thumbnailHeight","thumbnailAutoScrollAreaStyle","hideTooltipShortcut","aria-valuemin","aria-valuemax","aria-valuenow","Measure","bounds","onResize","_ref3","_ref4","measureRef","ref","List","rowHeight","rowCount","ceil","rowRenderer","overscanRowCount","outline","scrollToIndex"],"mappings":"iFAAA,IAAIA,EAAM,EAAQ,IACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,SAAUC,GAgBX,IAAKC,OAAOC,8BAEV,YADAC,SAASC,KAAKC,YAAYL,GAI5B,IAAIM,EAEJA,EAAgBH,SAASI,qBAAqB,oBAEzCD,EAAcE,SACjBF,EAzBF,SAASG,EAAwBC,EAASC,EAAOR,UAC/C,MAAMS,EAAW,GAYjB,OATAD,EAAKE,iBAAiBH,GAASI,QAAQC,GAAMH,EAASI,KAAKD,IAG3DJ,EAAKE,iBAAiB,KAAKC,QAAQC,IAC7BA,EAAGE,YACLL,EAASI,QAAQP,EAAwBC,EAASK,EAAGE,eAIlDL,EAYSH,CAAwB,qBAG1C,MAAMS,EAAkB,GACxB,IAAK,IAAIpB,EAAI,EAAGA,EAAIQ,EAAcE,OAAQV,IAAK,CAC7C,MAAMqB,EAAeb,EAAcR,GACnC,GAAU,IAANA,EACFqB,EAAaF,WAAWZ,YAAYL,GACpCA,EAASoB,OAAS,WACZF,EAAgBV,OAAS,GAC3BU,EAAgBJ,QAASO,IAEvBA,EAAUC,UAAYtB,EAASsB,iBAIhC,CACL,MAAMD,EAAYrB,EAASuB,WAAU,GACrCJ,EAAaF,WAAWZ,YAAYgB,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEP5B,EAAIC,EAASK,GAI1BF,EAAO2B,QAAU9B,EAAQ+B,QAAU,I,kvCCjEnCC,EAAA,kBAAAC,GAAA,IAAAC,EAAAD,EAAA,GAAAE,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAK,gBAAA,SAAAP,EAAAD,EAAAE,GAAAD,EAAAD,GAAAE,EAAAO,OAAAtC,EAAA,mBAAAuC,cAAA,GAAAC,EAAAxC,EAAAyC,UAAA,aAAAC,EAAA1C,EAAA2C,eAAA,kBAAAC,EAAA5C,EAAA6C,aAAA,yBAAAC,EAAAhB,EAAAD,EAAAE,GAAA,OAAAC,OAAAK,eAAAP,EAAAD,EAAA,CAAAS,MAAAP,EAAAgB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAnB,EAAAD,GAAA,IAAAiB,EAAA,aAAAhB,GAAAgB,EAAA,SAAAhB,EAAAD,EAAAE,GAAA,OAAAD,EAAAD,GAAAE,GAAA,SAAAmB,EAAApB,EAAAD,EAAAE,EAAAG,GAAA,IAAAlC,EAAA6B,KAAAI,qBAAAkB,EAAAtB,EAAAsB,EAAAX,EAAAR,OAAAoB,OAAApD,EAAAiC,WAAAS,EAAA,IAAAW,EAAAnB,GAAA,WAAAE,EAAAI,EAAA,WAAAF,MAAAgB,EAAAxB,EAAAC,EAAAW,KAAAF,EAAA,SAAAe,EAAAzB,EAAAD,EAAAE,GAAA,WAAAyB,KAAA,SAAAC,IAAA3B,EAAA4B,KAAA7B,EAAAE,IAAA,MAAAD,GAAA,OAAA0B,KAAA,QAAAC,IAAA3B,IAAAD,EAAAqB,OAAA,IAAAS,EAAA,iBAAAC,EAAA,YAAAC,EAAA,YAAAC,EAAA,YAAAX,KAAA,SAAAY,KAAA,SAAAC,KAAA,IAAAC,EAAA,GAAAnB,EAAAmB,EAAAzB,GAAA,8BAAA0B,EAAAlC,OAAAmC,eAAAC,EAAAF,OAAAG,EAAA,MAAAD,OAAArC,GAAAG,EAAAwB,KAAAU,EAAA5B,KAAAyB,EAAAG,GAAA,IAAAE,EAAAN,EAAA/B,UAAAkB,EAAAlB,UAAAD,OAAAoB,OAAAa,GAAA,SAAAM,EAAAzC,GAAA,0BAAAd,SAAA,SAAAa,GAAAiB,EAAAhB,EAAAD,GAAA,SAAAC,GAAA,YAAA0C,QAAA3C,EAAAC,SAAA,SAAA2C,EAAA3C,EAAAD,GAAA,SAAA6C,EAAA3C,EAAAK,EAAApC,EAAAwC,GAAA,IAAAE,EAAAa,EAAAzB,EAAAC,GAAAD,EAAAM,GAAA,aAAAM,EAAAc,KAAA,KAAAZ,EAAAF,EAAAe,IAAAE,EAAAf,EAAAN,MAAA,OAAAqB,GAAA,UAAAgB,EAAAhB,IAAAzB,EAAAwB,KAAAC,EAAA,WAAA9B,EAAA+C,QAAAjB,EAAAkB,SAAAC,MAAA,SAAAhD,GAAA4C,EAAA,OAAA5C,EAAA9B,EAAAwC,MAAA,SAAAV,GAAA4C,EAAA,QAAA5C,EAAA9B,EAAAwC,MAAAX,EAAA+C,QAAAjB,GAAAmB,MAAA,SAAAhD,GAAAc,EAAAN,MAAAR,EAAA9B,EAAA4C,MAAA,SAAAd,GAAA,OAAA4C,EAAA,QAAA5C,EAAA9B,EAAAwC,QAAAE,EAAAe,KAAA,IAAA1B,EAAAK,EAAA,gBAAAE,MAAA,SAAAR,EAAAI,GAAA,SAAA6C,IAAA,WAAAlD,GAAA,SAAAA,EAAAE,GAAA2C,EAAA5C,EAAAI,EAAAL,EAAAE,MAAA,OAAAA,MAAA+C,KAAAC,YAAA,SAAAzB,EAAAzB,EAAAE,EAAAG,GAAA,IAAAE,EAAAuB,EAAA,gBAAA3D,EAAAwC,GAAA,GAAAJ,IAAAwB,EAAA,MAAAoB,MAAA,mCAAA5C,IAAAyB,EAAA,cAAA7D,EAAA,MAAAwC,EAAA,OAAAF,MAAAR,EAAAmD,MAAA,OAAA/C,EAAAgD,OAAAlF,EAAAkC,EAAAuB,IAAAjB,IAAA,KAAAE,EAAAR,EAAAiD,SAAA,GAAAzC,EAAA,KAAAE,EAAAwC,EAAA1C,EAAAR,GAAA,GAAAU,EAAA,IAAAA,IAAAkB,EAAA,gBAAAlB,GAAA,YAAAV,EAAAgD,OAAAhD,EAAAmD,KAAAnD,EAAAoD,MAAApD,EAAAuB,SAAA,aAAAvB,EAAAgD,OAAA,IAAA9C,IAAAuB,EAAA,MAAAvB,EAAAyB,EAAA3B,EAAAuB,IAAAvB,EAAAqD,kBAAArD,EAAAuB,SAAA,WAAAvB,EAAAgD,QAAAhD,EAAAsD,OAAA,SAAAtD,EAAAuB,KAAArB,EAAAwB,EAAA,IAAAK,EAAAV,EAAA1B,EAAAE,EAAAG,GAAA,cAAA+B,EAAAT,KAAA,IAAApB,EAAAF,EAAA+C,KAAApB,EAAA,iBAAAI,EAAAR,MAAAK,EAAA,gBAAAxB,MAAA2B,EAAAR,IAAAwB,KAAA/C,EAAA+C,MAAA,UAAAhB,EAAAT,OAAApB,EAAAyB,EAAA3B,EAAAgD,OAAA,QAAAhD,EAAAuB,IAAAQ,EAAAR,OAAA,SAAA2B,EAAAvD,EAAAE,GAAA,IAAAG,EAAAH,EAAAmD,OAAA9C,EAAAP,EAAAY,SAAAP,GAAA,GAAAE,IAAAN,EAAA,OAAAC,EAAAoD,SAAA,eAAAjD,GAAAL,EAAAY,SAAA,SAAAV,EAAAmD,OAAA,SAAAnD,EAAA0B,IAAA3B,EAAAsD,EAAAvD,EAAAE,GAAA,UAAAA,EAAAmD,SAAA,WAAAhD,IAAAH,EAAAmD,OAAA,QAAAnD,EAAA0B,IAAA,IAAAgC,UAAA,oCAAAvD,EAAA,aAAA4B,EAAA,IAAA9D,EAAAuD,EAAAnB,EAAAP,EAAAY,SAAAV,EAAA0B,KAAA,aAAAzD,EAAAwD,KAAA,OAAAzB,EAAAmD,OAAA,QAAAnD,EAAA0B,IAAAzD,EAAAyD,IAAA1B,EAAAoD,SAAA,KAAArB,EAAA,IAAAtB,EAAAxC,EAAAyD,IAAA,OAAAjB,IAAAyC,MAAAlD,EAAAF,EAAA6D,YAAAlD,EAAAF,MAAAP,EAAA4D,KAAA9D,EAAA+D,QAAA,WAAA7D,EAAAmD,SAAAnD,EAAAmD,OAAA,OAAAnD,EAAA0B,IAAA3B,GAAAC,EAAAoD,SAAA,KAAArB,GAAAtB,GAAAT,EAAAmD,OAAA,QAAAnD,EAAA0B,IAAA,IAAAgC,UAAA,oCAAA1D,EAAAoD,SAAA,KAAArB,GAAA,SAAA+B,EAAA/D,GAAA,IAAAD,EAAA,CAAAiE,OAAAhE,EAAA,SAAAA,IAAAD,EAAAkE,SAAAjE,EAAA,SAAAA,IAAAD,EAAAmE,WAAAlE,EAAA,GAAAD,EAAAoE,SAAAnE,EAAA,SAAAoE,WAAAhF,KAAAW,GAAA,SAAAsE,EAAArE,GAAA,IAAAD,EAAAC,EAAAsE,YAAA,GAAAvE,EAAA2B,KAAA,gBAAA3B,EAAA4B,IAAA3B,EAAAsE,WAAAvE,EAAA,SAAAwB,EAAAvB,GAAA,KAAAoE,WAAA,EAAAJ,OAAA,SAAAhE,EAAAd,QAAA6E,EAAA,WAAAQ,OAAA,YAAAhC,EAAAxC,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAAE,EAAAF,EAAAW,GAAA,GAAAT,EAAA,OAAAA,EAAA2B,KAAA7B,GAAA,sBAAAA,EAAA8D,KAAA,OAAA9D,EAAA,IAAAyE,MAAAzE,EAAAnB,QAAA,KAAA0B,GAAA,EAAApC,EAAA,SAAA2F,IAAA,OAAAvD,EAAAP,EAAAnB,QAAA,GAAAwB,EAAAwB,KAAA7B,EAAAO,GAAA,OAAAuD,EAAArD,MAAAT,EAAAO,GAAAuD,EAAAV,MAAA,EAAAU,EAAA,OAAAA,EAAArD,MAAAR,EAAA6D,EAAAV,MAAA,EAAAU,GAAA,OAAA3F,EAAA2F,KAAA3F,GAAA,UAAAyF,UAAAd,EAAA9C,GAAA,2BAAAkC,EAAA9B,UAAA+B,EAAA5B,EAAAkC,EAAA,eAAAhC,MAAA0B,EAAAhB,cAAA,IAAAZ,EAAA4B,EAAA,eAAA1B,MAAAyB,EAAAf,cAAA,IAAAe,EAAAwC,YAAAzD,EAAAkB,EAAApB,EAAA,qBAAAf,EAAA2E,oBAAA,SAAA1E,GAAA,IAAAD,EAAA,mBAAAC,KAAA2E,YAAA,QAAA5E,QAAAkC,GAAA,uBAAAlC,EAAA0E,aAAA1E,EAAA6E,QAAA7E,EAAA8E,KAAA,SAAA7E,GAAA,OAAAE,OAAA4E,eAAA5E,OAAA4E,eAAA9E,EAAAkC,IAAAlC,EAAA+E,UAAA7C,EAAAlB,EAAAhB,EAAAc,EAAA,sBAAAd,EAAAG,UAAAD,OAAAoB,OAAAkB,GAAAxC,GAAAD,EAAAiF,MAAA,SAAAhF,GAAA,OAAA+C,QAAA/C,IAAAyC,EAAAE,EAAAxC,WAAAa,EAAA2B,EAAAxC,UAAAS,GAAA,0BAAAb,EAAA4C,gBAAA5C,EAAAkF,MAAA,SAAAjF,EAAAC,EAAAG,EAAAE,EAAApC,QAAA,IAAAA,MAAAgH,SAAA,IAAAxE,EAAA,IAAAiC,EAAAvB,EAAApB,EAAAC,EAAAG,EAAAE,GAAApC,GAAA,OAAA6B,EAAA2E,oBAAAzE,GAAAS,IAAAmD,OAAAb,MAAA,SAAAhD,GAAA,OAAAA,EAAAmD,KAAAnD,EAAAQ,MAAAE,EAAAmD,WAAApB,EAAAD,GAAAxB,EAAAwB,EAAA1B,EAAA,aAAAE,EAAAwB,EAAA9B,GAAA,0BAAAM,EAAAwB,EAAA,qDAAAzC,EAAAoF,KAAA,SAAAnF,GAAA,IAAAD,EAAAG,OAAAF,GAAAC,EAAA,WAAAG,KAAAL,EAAAE,EAAAb,KAAAgB,GAAA,OAAAH,EAAAmF,UAAA,SAAAvB,IAAA,KAAA5D,EAAArB,QAAA,KAAAoB,EAAAC,EAAAoF,MAAA,GAAArF,KAAAD,EAAA,OAAA8D,EAAArD,MAAAR,EAAA6D,EAAAV,MAAA,EAAAU,EAAA,OAAAA,EAAAV,MAAA,EAAAU,IAAA9D,EAAAwC,SAAAhB,EAAApB,UAAA,CAAAwE,YAAApD,EAAAgD,MAAA,SAAAxE,GAAA,QAAAuF,KAAA,OAAAzB,KAAA,OAAAN,KAAA,KAAAC,MAAAxD,EAAA,KAAAmD,MAAA,OAAAE,SAAA,UAAAD,OAAA,YAAAzB,IAAA3B,EAAA,KAAAoE,WAAAlF,QAAAmF,IAAAtE,EAAA,QAAAE,KAAA,WAAAA,EAAAsF,OAAA,IAAAnF,EAAAwB,KAAA,KAAA3B,KAAAuE,OAAAvE,EAAAuF,MAAA,WAAAvF,GAAAD,IAAAyF,KAAA,gBAAAtC,MAAA,MAAAnD,EAAA,KAAAoE,WAAA,GAAAE,WAAA,aAAAtE,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,YAAA+D,MAAAjC,kBAAA,SAAA1D,GAAA,QAAAoD,KAAA,MAAApD,EAAA,IAAAE,EAAA,cAAA0F,EAAAvF,EAAAE,GAAA,OAAAI,EAAAgB,KAAA,QAAAhB,EAAAiB,IAAA5B,EAAAE,EAAA4D,KAAAzD,EAAAE,IAAAL,EAAAmD,OAAA,OAAAnD,EAAA0B,IAAA3B,KAAAM,EAAA,QAAAA,EAAA,KAAA8D,WAAAxF,OAAA,EAAA0B,GAAA,IAAAA,EAAA,KAAApC,EAAA,KAAAkG,WAAA9D,GAAAI,EAAAxC,EAAAoG,WAAA,YAAApG,EAAA8F,OAAA,OAAA2B,EAAA,UAAAzH,EAAA8F,QAAA,KAAAsB,KAAA,KAAA1E,EAAAR,EAAAwB,KAAA1D,EAAA,YAAA4C,EAAAV,EAAAwB,KAAA1D,EAAA,iBAAA0C,GAAAE,EAAA,SAAAwE,KAAApH,EAAA+F,SAAA,OAAA0B,EAAAzH,EAAA+F,UAAA,WAAAqB,KAAApH,EAAAgG,WAAA,OAAAyB,EAAAzH,EAAAgG,iBAAA,GAAAtD,GAAA,QAAA0E,KAAApH,EAAA+F,SAAA,OAAA0B,EAAAzH,EAAA+F,UAAA,YAAAnD,EAAA,MAAAoC,MAAA,kDAAAoC,KAAApH,EAAAgG,WAAA,OAAAyB,EAAAzH,EAAAgG,gBAAAR,OAAA,SAAA1D,EAAAD,GAAA,QAAAE,EAAA,KAAAmE,WAAAxF,OAAA,EAAAqB,GAAA,IAAAA,EAAA,KAAAK,EAAA,KAAA8D,WAAAnE,GAAA,GAAAK,EAAA0D,QAAA,KAAAsB,MAAAlF,EAAAwB,KAAAtB,EAAA,oBAAAgF,KAAAhF,EAAA4D,WAAA,KAAAhG,EAAAoC,EAAA,OAAApC,IAAA,UAAA8B,GAAA,aAAAA,IAAA9B,EAAA8F,QAAAjE,MAAA7B,EAAAgG,aAAAhG,EAAA,UAAAwC,EAAAxC,IAAAoG,WAAA,UAAA5D,EAAAgB,KAAA1B,EAAAU,EAAAiB,IAAA5B,EAAA7B,GAAA,KAAAkF,OAAA,YAAAS,KAAA3F,EAAAgG,WAAAlC,GAAA,KAAA4D,SAAAlF,IAAAkF,SAAA,SAAA5F,EAAAD,GAAA,aAAAC,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,gBAAA3B,EAAA0B,MAAA,aAAA1B,EAAA0B,KAAA,KAAAmC,KAAA7D,EAAA2B,IAAA,WAAA3B,EAAA0B,MAAA,KAAAgE,KAAA,KAAA/D,IAAA3B,EAAA2B,IAAA,KAAAyB,OAAA,cAAAS,KAAA,kBAAA7D,EAAA0B,MAAA3B,IAAA,KAAA8D,KAAA9D,GAAAiC,GAAA6D,OAAA,SAAA7F,GAAA,QAAAD,EAAA,KAAAqE,WAAAxF,OAAA,EAAAmB,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAmE,WAAArE,GAAA,GAAAE,EAAAiE,aAAAlE,EAAA,YAAA4F,SAAA3F,EAAAqE,WAAArE,EAAAkE,UAAAE,EAAApE,GAAA+B,IAAA,eAAAhC,GAAA,QAAAD,EAAA,KAAAqE,WAAAxF,OAAA,EAAAmB,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAmE,WAAArE,GAAA,GAAAE,EAAA+D,SAAAhE,EAAA,KAAAI,EAAAH,EAAAqE,WAAA,aAAAlE,EAAAsB,KAAA,KAAApB,EAAAF,EAAAuB,IAAA0C,EAAApE,GAAA,OAAAK,GAAA,MAAA4C,MAAA,0BAAA4C,cAAA,SAAA/F,EAAAE,EAAAG,GAAA,YAAAiD,SAAA,CAAA1C,SAAA4B,EAAAxC,GAAA6D,WAAA3D,EAAA6D,QAAA1D,GAAA,cAAAgD,SAAA,KAAAzB,IAAA3B,GAAAgC,IAAAjC,EAAA,SAAAgG,EAAAC,EAAAlD,EAAAmD,EAAAC,EAAAC,EAAAC,EAAAzE,GAAA,QAAA0E,EAAAL,EAAAI,GAAAzE,GAAAnB,EAAA6F,EAAA7F,MAAA,MAAA8F,GAAA,YAAAL,EAAAK,GAAAD,EAAAlD,KAAAL,EAAAtC,GAAA0E,QAAApC,QAAAtC,GAAAwC,KAAAkD,EAAAC,GAAA,SAAAI,EAAAC,GAAA,sBAAAC,EAAA,KAAAC,EAAAC,UAAA,WAAAzB,SAAA,SAAApC,EAAAmD,GAAA,IAAAD,EAAAQ,EAAAI,MAAAH,EAAAC,GAAA,SAAAR,EAAA1F,GAAAuF,EAAAC,EAAAlD,EAAAmD,EAAAC,EAAAC,EAAA,OAAA3F,GAAA,SAAA2F,EAAAU,GAAAd,EAAAC,EAAAlD,EAAAmD,EAAAC,EAAAC,EAAA,QAAAU,GAAAX,OAAAY,OAAA,SAAAC,EAAAhH,EAAAE,GAAA,IAAAD,EAAAE,OAAAiF,KAAApF,GAAA,GAAAG,OAAA8G,sBAAA,KAAA1G,EAAAJ,OAAA8G,sBAAAjH,GAAAE,IAAAK,IAAA2G,QAAA,SAAAhH,GAAA,OAAAC,OAAAgH,yBAAAnH,EAAAE,GAAAgB,eAAAjB,EAAAZ,KAAAwH,MAAA5G,EAAAM,GAAA,OAAAN,EAAA,SAAAmH,EAAApH,GAAA,QAAAE,EAAA,EAAAA,EAAA0G,UAAA/H,OAAAqB,IAAA,KAAAD,EAAA,MAAA2G,UAAA1G,GAAA0G,UAAA1G,GAAA,GAAAA,EAAA,EAAA8G,EAAA7G,OAAAF,IAAA,GAAAd,SAAA,SAAAe,GAAAmH,EAAArH,EAAAE,EAAAD,EAAAC,OAAAC,OAAAmH,0BAAAnH,OAAAoH,iBAAAvH,EAAAG,OAAAmH,0BAAArH,IAAA+G,EAAA7G,OAAAF,IAAAd,SAAA,SAAAe,GAAAC,OAAAK,eAAAR,EAAAE,EAAAC,OAAAgH,yBAAAlH,EAAAC,OAAA,OAAAF,EAAA,SAAAqH,EAAAG,EAAAnB,EAAA5F,GAAA,IAAAtC,EAAA,OAAAA,EAAA,SAAA8B,EAAAC,GAAA,aAAA4C,EAAA7C,OAAA,OAAAA,EAAA,IAAAD,EAAAC,EAAAS,OAAA+G,aAAA,YAAAzH,EAAA,KAAA7B,EAAA6B,EAAA6B,KAAA5B,EAAAC,GAAA,wBAAA4C,EAAA3E,GAAA,OAAAA,EAAA,UAAAyF,UAAA,kEAAA1D,EAAAwH,OAAAC,QAAA1H,GAAA2H,CAAAvB,EAAA,WAAAA,EAAA,UAAAvD,EAAA3E,OAAA,MAAAqJ,EAAArH,OAAAK,eAAAgH,EAAAnB,EAAA,CAAA5F,QAAAS,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAoG,EAAAnB,GAAA5F,EAAA+G,EAAA,SAAAK,EAAAtH,EAAAuH,GAAA,IAAAC,EAAA,oBAAArH,QAAAH,EAAAG,OAAAE,WAAAL,EAAA,kBAAAwH,EAAA,IAAAC,MAAAC,QAAA1H,KAAAwH,EAAA,SAAAxH,EAAA2H,GAAA,IAAA3H,EAAA,2BAAAA,EAAA,OAAA4H,EAAA5H,EAAA2H,GAAA,IAAA7H,EAAAF,OAAAC,UAAAgI,SAAAvG,KAAAtB,GAAAkF,MAAA,iBAAApF,GAAAE,EAAAqE,cAAAvE,EAAAE,EAAAqE,YAAAC,MAAA,WAAAxE,GAAA,QAAAA,EAAA,OAAA2H,MAAAK,KAAA9H,GAAA,iBAAAF,GAAA,2CAAAiI,KAAAjI,GAAA,OAAA8H,EAAA5H,EAAA2H,GAAAK,CAAAhI,KAAAuH,GAAAvH,GAAA,iBAAAA,EAAA1B,OAAA,CAAAkJ,IAAAxH,EAAAwH,GAAA,IAAA5J,EAAA,EAAAqK,EAAA,oBAAAxG,EAAAwG,EAAAnI,EAAA,kBAAAlC,GAAAoC,EAAA1B,OAAA,CAAAuE,MAAA,IAAAA,MAAA,EAAA3C,MAAAF,EAAApC,OAAA6B,EAAA,SAAAyI,GAAA,MAAAA,GAAA1G,EAAAyG,GAAA,UAAA5E,UAAA,6IAAAkD,EAAA4B,GAAA,EAAAC,GAAA,SAAA3G,EAAA,WAAA+F,IAAAlG,KAAAtB,IAAAF,EAAA,eAAAuI,EAAAb,EAAAjE,OAAA,OAAA4E,EAAAE,EAAAxF,KAAAwF,GAAA5I,EAAA,SAAA6I,GAAAF,GAAA,EAAA7B,EAAA+B,GAAA9G,EAAA,eAAA2G,GAAA,MAAAX,EAAA,QAAAA,EAAA,oBAAAY,EAAA,MAAA7B,KAAA,SAAAqB,EAAAW,EAAAC,IAAA,MAAAA,KAAAD,EAAAjK,UAAAkK,EAAAD,EAAAjK,QAAA,QAAAV,EAAA,EAAA6K,EAAA,IAAAhB,MAAAe,GAAA5K,EAAA4K,EAAA5K,IAAA6K,EAAA7K,GAAA2K,EAAA3K,GAAA,OAAA6K,EASA,IAAMC,EAAiB,SAACC,GAAmC,IAA7BC,EAAgBvC,UAAA/H,OAAA,QAAAkI,IAAAH,UAAA,IAAAA,UAAA,GAC5CwC,EAAoC9K,OAAO+K,KAAKC,aAAxCC,EAAGH,EAAHG,IAAKC,EAAIJ,EAAJI,KAAMC,EAAKL,EAALK,MAAOC,EAAKN,EAALM,MAC1B,OAAQR,GACN,KAAKQ,EACH,OAAOP,EAAmBM,EAAQF,EACpC,KAAKE,EACH,OAAON,EAAmBK,EAAOE,EACnC,KAAKF,EACH,OAAOL,EAAmBI,EAAME,EAClC,QACE,OAAON,EAAmBO,EAAQF,IAelCG,EAAc,SAACC,EAAaT,GAChC,GAXMU,EAAMC,IAAKC,cACXC,EAAUH,aAAG,EAAHA,EAAKlI,KAGnBsI,IAAYC,MAAQF,GACpBC,IAAYE,QAAUH,GACrBA,IAAYC,IAAYG,mBAAqBP,EAAIQ,4BAKrB,CAC7B,IAAMC,EAAWnB,EAAmB7K,OAAO+K,KAAKC,aAAaI,MAAQpL,OAAO+K,KAAKC,aAAaE,KAC9FI,EAAYzK,SAAQ,SAACoL,GACnBT,IAAKH,YAAY,CAACY,GAAQD,UAEvB,CACL,IAE8BE,EAFxBC,EAAYX,IAAKY,oBACjBC,EAAmBF,EAAUG,mBAAmBC,EAAAhD,EACnC+B,GAAW,IAA9B,IAAAiB,EAAA7I,MAAAwI,EAAAK,EAAAxK,KAAA+C,MAAgC,KAArB0H,EAAIN,EAAA/J,MACbgK,EAAUM,YAAY9B,EAAe0B,EAAiBG,GAAO3B,GAAmB2B,IACjF,MAAAhE,GAAA+D,EAAA7K,EAAA8G,GAAA,QAAA+D,EAAA9I,KAtB2B,IACxB8H,EACAG,GAwBFgB,EAAkB,SAACpB,GACvBD,EAAYC,GAAa,GACzBqB,YAAmB,GAADC,OAAIC,IAAQlL,EAAE,eAAc,KAAAiL,OAAItB,EAAW,KAAAsB,OAAIC,IAAQlL,EAAE,2BAA0B,KAAAiL,OAAIC,IAAQlL,EAAE,qBAAoB,KAAAiL,QAAKpB,IAAKC,cAAcqB,gBAAgBtB,IAAKuB,kBAAoB,IAAM,IAAG,cAG7MC,EAAyB,SAAC1B,GAC9BD,EAAYC,GAAa,GACzBqB,YAAmB,GAADC,OAAIC,IAAQlL,EAAE,eAAc,KAAAiL,OAAItB,EAAW,KAAAsB,OAAIC,IAAQlL,EAAE,kCAAiC,KAAAiL,OAAIC,IAAQlL,EAAE,qBAAoB,KAAAiL,QAAKpB,IAAKC,cAAcqB,gBAAgBtB,IAAKuB,kBAAoB,KAAO,IAAG,cAGrNE,EAAc,SAAC3B,EAAa4B,EAAOC,GACvC3B,IAAK4B,iBAAiB9B,EAAa4B,EAAOC,IAGtCE,EAAc,SAAC/B,EAAa4B,EAAOC,GACvC3B,IAAK4B,iBAAiB9B,EAAYgC,KAAI,SAACzN,GAAC,OAAKA,EAAI,KAAIqN,EAAOC,IAGxDI,EAAU,SAACC,GACfA,EAASC,IAAQC,aAAaC,IAAaC,4BAC3CJ,EAASC,IAAQI,YAAY,0BAGzBC,EAAe,SAACxC,EAAakC,GACjC,IAAMO,EAAUlB,IAAQlL,EAAE,+BACpBqM,EAAQnB,IAAQlL,EAAE,6BAClBsM,EAAiBpB,IAAQlL,EAAE,kCAC3BuM,EAAmBrB,IAAQlL,EAAE,oCAC7BwM,EAAsB,GAAHvB,OAAMC,IAAQlL,EAAE,eAAc,KAAAiL,OAAItB,EAAW,KAAAsB,OAAIC,IAAQlL,EAAE,qBAC9EyM,EAAqB,GAAHxB,OAAMC,IAAQlL,EAAE,eAAc,KAAAiL,OAAItB,EAAW,KAAAsB,OAAIC,IAAQlL,EAAE,mBAE7E0M,EAAU,CACdN,UACAC,QACAC,iBACAK,UAAW,kBAAMC,YAA4BjD,GAAa3G,MAAK,SAAC6J,GAC9DC,iBAAOD,EAAM,yBACb7B,YAAmBwB,EAAsBC,OAE3CF,mBACAQ,YAAa,WACXH,YAA4BjD,GAAa3G,MAAK,SAAC6J,GAC7CC,iBAAOD,EAAM,yBACbhD,IAAKmD,YAAYrD,GAAa3G,MAAK,WACjC6I,EAASC,IAAQmB,0BAA0B,QAE7CjC,YAAmBwB,QAKzBX,EAASC,IAAQoB,mBAAmBR,KAGhCS,EAAc,SAACxD,EAAakC,GAAoC,IAA1BuB,IAAczG,UAAA/H,OAAA,QAAAkI,IAAAH,UAAA,KAAAA,UAAA,GAClD8F,EAAqB,GAAHxB,OAAMC,IAAQlL,EAAE,eAAc,KAAAiL,OAAItB,EAAW,KAAAsB,OAAIC,IAAQlL,EAAE,mBACnF,GAAIoN,EAAgB,CAClB,IAAIhB,EAAUlB,IAAQlL,EAAE,oCAClBqM,EAAQnB,IAAQlL,EAAE,kCAClBsM,EAAiBpB,IAAQlL,EAAE,aAE7B0M,EAAU,CACZN,UACAC,QACAC,iBACAK,UAAW,kBAAM9C,IAAKmD,YAAYrD,GAAa3G,MAAK,WAClD6I,EAASC,IAAQmB,0BAA0B,KAC3CpB,EAASC,IAAQuB,mCACjBrC,YAAmByB,QAInB5C,IAAKY,oBAAoB6C,iBAAmB3D,EAAY/K,SAG1D8N,EAAU,CACRN,QAHFA,EAAUlB,IAAQlL,EAAE,4CAIlBqM,QACAC,iBACAK,UAAW,kBAAMzH,QAAQpC,aAI7B+I,EAASC,IAAQoB,mBAAmBR,SAEpC7C,IAAKmD,YAAYrD,GAAa3G,MAAK,WACjC6I,EAASC,IAAQmB,0BAA0B,KAC3CpB,EAASC,IAAQuB,mCACjBrC,YAAmByB,OAKnBc,EAAoB,SAAC5D,GACzBE,IAAK2D,UAAU7D,EAAaE,IAAK4D,gBAAkB,GACnDzC,YAAmB,GAADC,OAAIC,IAAQlL,EAAE,eAAc,KAAAiL,OAAItB,EAAW,KAAAsB,OAAIC,IAAQlL,EAAE,qCAGvE0N,EAAiB,SAAC/D,GACtBE,IAAK2D,UAAU7D,EAAa,GAC5BqB,YAAmB,GAADC,OAAIC,IAAQlL,EAAE,eAAc,KAAAiL,OAAItB,EAAW,KAAAsB,OAAIC,IAAQlL,EAAE,kCAGvE2N,EAAyB,SAAChE,EAAakC,GAC3C,GAA2B,IAAvBlC,EAAY/K,OAAc,CAC5B,IAAMyN,EAAQnB,IAAQlL,EAAE,kCAIlB0M,EAAU,CACdN,QAJclB,IAAQlL,EAAE,oCAKxBqM,QACAC,eALqBpB,IAAQlL,EAAE,aAM/B2M,UAAW,kBAAMzH,QAAQpC,WACzB8K,SAAU,CAAC,cAIb,OADA/B,EAASC,IAAQoB,mBAAmBR,KAC7B,EAET,OAAO,GAGHmB,EAA2B,SAACC,EAAYjC,GAC5C,IAAMQ,EAAQnB,IAAQlL,EAAE,iCAIlB0M,EAAU,CACdN,QAJclB,IAAQlL,EAAE,mCAKxBqM,QACAC,eALqBpB,IAAQlL,EAAE,aAM/B2M,UAAWmB,EACXF,SAAU,CAAC,cAGb/B,EAASC,IAAQoB,mBAAmBR,KAGhCqB,EAA6B,SAACD,EAAYjC,GAC9C,IAAMQ,EAAQnB,IAAQlL,EAAE,6CAIlB0M,EAAU,CACdN,QAJclB,IAAQlL,EAAE,+CAKxBqM,QACAC,eALqBpB,IAAQlL,EAAE,aAM/B2M,UAAWmB,EACXF,SAAU,CAAC,cAGb/B,EAASC,IAAQoB,mBAAmBR,KAGhCsB,EAAc,SAACrE,EAAasE,GAChCpE,IAAKqE,gBAAgBC,EAAqBxE,EAAasE,KAGnDE,EAAuB,SAACxE,EAAasE,GACzC,IAE8BG,EAFxBC,EAAS,GACT9P,EAAWsL,IAAKC,cAAcwE,EAAA1G,EACjB+B,GAAW,IAA9B,IAAA2E,EAAAvM,MAAAqM,EAAAE,EAAAlO,KAAA+C,MAAgC,KAArB0H,EAAIuD,EAAA5N,MACP+N,EAAWhQ,EAASiQ,YAAY3D,GAChC4D,EAAelQ,EAAS4M,gBAAgBN,GAC9C,GAAI0D,EAAU,CACZ,IAAIhD,OAAK,EACLC,OAAM,EACW,KAAjBiD,GAAwC,MAAjBA,GACzBlD,EAAQgD,EAAS/C,OACjBA,EAAS+C,EAAShD,QAElBA,EAAQgD,EAAShD,MACjBC,EAAS+C,EAAS/C,QAEpB,IAAMkD,EAAY,IAAIrQ,OAAO+K,KAAKuF,YAAYC,oBAAmBzH,EAAC,CAChE0H,WAAYhE,EACZiE,KAAM,IAAIzQ,OAAO+K,KAAKuF,YAAYG,KAAK,EAAG,EAAGvD,EAAOC,IACjDyC,IAELS,EAAUhN,KAAOqN,IAA4B,UAC7CL,EAAUM,cAAc,qBAAsBD,IAA4B,WAC1EL,EAAUO,OAASpF,IAAKqF,iBACxBb,EAAOjP,KAAKsP,KAEf,MAAA7H,GAAAyH,EAAAvO,EAAA8G,GAAA,QAAAyH,EAAAxM,IAGD,OAFA+H,IAAKsF,uBAAuBC,eAAef,GAC3CxE,IAAKsF,uBAAuBE,wBAAwBhB,GAC7CA,GAGHiB,EAAY,eAAAC,EAAAhJ,EAAAzG,IAAA+E,MAAG,SAAA2K,EAAOC,EAAgBC,EAAeC,GAA0B,IAAAC,EAAAC,EAAAC,EAAA,OAAAhQ,IAAAsB,MAAA,SAAA2O,GAAA,cAAAA,EAAAzK,KAAAyK,EAAAlM,MAAA,OAMnF,GALM+L,EAAyB/F,IAAKC,cAC9B+F,EAA4BD,EAAuBtC,eACnDwC,EAA4BJ,EAAcM,MAAK,SAACtP,EAAGuP,GAAC,OAAKvP,EAAIuP,KAIjC,IAA9BJ,GAAmCC,EAA0BlR,SAAWiR,EAAyB,CAAAE,EAAAlM,KAAA,gBAAAkM,EAAAlM,KAAA,EAC7F+L,EAAuBM,YAAYT,EAAgBE,GAA2B,cAAAI,EAAAlM,KAAA,EAC9E+L,EAAuB5C,YAAY8C,GAA0B,OAAAC,EAAAlM,KAAA,wBAAAkM,EAAAlM,KAAA,GAI7D+L,EAAuB5C,YAAY8C,GAA0B,eAAAC,EAAAlM,KAAA,GAC7D+L,EAAuBM,YAAYT,EAAgBE,EAA4BG,EAA0B,IAAG,yBAAAC,EAAAtK,UAAA+J,OAErH,gBAhBiBW,EAAAC,EAAAC,GAAA,OAAAd,EAAA3I,MAAA,KAAAD,YAAA,GAkBZuJ,EAAW,eAAAI,EAAA/J,EAAAzG,IAAA+E,MAAG,SAAA0L,EAAOd,EAAgBe,GAAa,IAAAC,EAAAb,EAAAc,EAAA/J,UAAA,OAAA7G,IAAAsB,MAAA,SAAAuP,GAAA,cAAAA,EAAArL,KAAAqL,EAAA9M,MAAA,OACL,OADO4M,EAAoBC,EAAA9R,OAAA,QAAAkI,IAAA4J,EAAA,GAAAA,EAAA,GAAG,KACzEd,EAAyB/F,IAAKC,cAAa6G,EAAA9M,KAAA,EAC3C+L,EAAuBM,YAAYT,EAAgBe,EAAeC,GAAqB,wBAAAE,EAAAlL,UAAA8K,OAC9F,gBAHgBK,EAAAC,GAAA,OAAAP,EAAA1J,MAAA,KAAAD,YAAA,I,qBCnQjB,IAAI9I,EAAM,EAAQ,IACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,SAAUC,GAgBX,IAAKC,OAAOC,8BAEV,YADAC,SAASC,KAAKC,YAAYL,GAI5B,IAAIM,EAEJA,EAAgBH,SAASI,qBAAqB,oBAEzCD,EAAcE,SACjBF,EAzBF,SAASG,EAAwBC,EAASC,EAAOR,UAC/C,MAAMS,EAAW,GAYjB,OATAD,EAAKE,iBAAiBH,GAASI,QAAQC,GAAMH,EAASI,KAAKD,IAG3DJ,EAAKE,iBAAiB,KAAKC,QAAQC,IAC7BA,EAAGE,YACLL,EAASI,QAAQP,EAAwBC,EAASK,EAAGE,eAIlDL,EAYSH,CAAwB,qBAG1C,MAAMS,EAAkB,GACxB,IAAK,IAAIpB,EAAI,EAAGA,EAAIQ,EAAcE,OAAQV,IAAK,CAC7C,MAAMqB,EAAeb,EAAcR,GACnC,GAAU,IAANA,EACFqB,EAAaF,WAAWZ,YAAYL,GACpCA,EAASoB,OAAS,WACZF,EAAgBV,OAAS,GAC3BU,EAAgBJ,QAASO,IAEvBA,EAAUC,UAAYtB,EAASsB,iBAIhC,CACL,MAAMD,EAAYrB,EAASuB,WAAU,GACrCJ,EAAaF,WAAWZ,YAAYgB,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEP5B,EAAIC,EAASK,GAI1BF,EAAO2B,QAAU9B,EAAQ+B,QAAU,I,sBChEnCD,EADkC,EAAQ,GAChCkR,EAA4B,IAE9B1R,KAAK,CAACnB,EAAOC,EAAI,yoEAA4oE,KAErqE0B,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,QAEvB5B,EAAO2B,QAAUA,G,qBCVjB,IAAI/B,EAAM,EAAQ,IACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,SAAUC,GAgBX,IAAKC,OAAOC,8BAEV,YADAC,SAASC,KAAKC,YAAYL,GAI5B,IAAIM,EAEJA,EAAgBH,SAASI,qBAAqB,oBAEzCD,EAAcE,SACjBF,EAzBF,SAASG,EAAwBC,EAASC,EAAOR,UAC/C,MAAMS,EAAW,GAYjB,OATAD,EAAKE,iBAAiBH,GAASI,QAAQC,GAAMH,EAASI,KAAKD,IAG3DJ,EAAKE,iBAAiB,KAAKC,QAAQC,IAC7BA,EAAGE,YACLL,EAASI,QAAQP,EAAwBC,EAASK,EAAGE,eAIlDL,EAYSH,CAAwB,qBAG1C,MAAMS,EAAkB,GACxB,IAAK,IAAIpB,EAAI,EAAGA,EAAIQ,EAAcE,OAAQV,IAAK,CAC7C,MAAMqB,EAAeb,EAAcR,GACnC,GAAU,IAANA,EACFqB,EAAaF,WAAWZ,YAAYL,GACpCA,EAASoB,OAAS,WACZF,EAAgBV,OAAS,GAC3BU,EAAgBJ,QAASO,IAEvBA,EAAUC,UAAYtB,EAASsB,iBAIhC,CACL,MAAMD,EAAYrB,EAASuB,WAAU,GACrCJ,EAAaF,WAAWZ,YAAYgB,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEP5B,EAAIC,EAASK,GAI1BF,EAAO2B,QAAU9B,EAAQ+B,QAAU,I,sBChEnCD,EADkC,EAAQ,GAChCkR,EAA4B,IAE9B1R,KAAK,CAACnB,EAAOC,EAAI,i7DAAk7D,KAE38D0B,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,QAEvB5B,EAAO2B,QAAUA,G,sBCRjBA,EADkC,EAAQ,GAChCkR,EAA4B,IAE9B1R,KAAK,CAACnB,EAAOC,EAAI,uwDAAwwD,KAEjyD0B,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,QAEvB5B,EAAO2B,QAAUA,G,qBCVjB,IAAI/B,EAAM,EAAQ,IACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,SAAUC,GAgBX,IAAKC,OAAOC,8BAEV,YADAC,SAASC,KAAKC,YAAYL,GAI5B,IAAIM,EAEJA,EAAgBH,SAASI,qBAAqB,oBAEzCD,EAAcE,SACjBF,EAzBF,SAASG,EAAwBC,EAASC,EAAOR,UAC/C,MAAMS,EAAW,GAYjB,OATAD,EAAKE,iBAAiBH,GAASI,QAAQC,GAAMH,EAASI,KAAKD,IAG3DJ,EAAKE,iBAAiB,KAAKC,QAAQC,IAC7BA,EAAGE,YACLL,EAASI,QAAQP,EAAwBC,EAASK,EAAGE,eAIlDL,EAYSH,CAAwB,qBAG1C,MAAMS,EAAkB,GACxB,IAAK,IAAIpB,EAAI,EAAGA,EAAIQ,EAAcE,OAAQV,IAAK,CAC7C,MAAMqB,EAAeb,EAAcR,GACnC,GAAU,IAANA,EACFqB,EAAaF,WAAWZ,YAAYL,GACpCA,EAASoB,OAAS,WACZF,EAAgBV,OAAS,GAC3BU,EAAgBJ,QAASO,IAEvBA,EAAUC,UAAYtB,EAASsB,iBAIhC,CACL,MAAMD,EAAYrB,EAASuB,WAAU,GACrCJ,EAAaF,WAAWZ,YAAYgB,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEP5B,EAAIC,EAASK,GAI1BF,EAAO2B,QAAU9B,EAAQ+B,QAAU,I,sBChEnCD,EADkC,EAAQ,GAChCkR,EAA4B,IAE9B1R,KAAK,CAACnB,EAAOC,EAAI,ilEAAklE,KAE3mE0B,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,QAEvB5B,EAAO2B,QAAUA,G,qBCVjB,IAAI/B,EAAM,EAAQ,IACFC,EAAU,EAAQ,MAIC,iBAFvBA,EAAUA,EAAQC,WAAaD,EAAQE,QAAUF,KAG/CA,EAAU,CAAC,CAACG,EAAOC,EAAIJ,EAAS,MAG9C,IAAIK,EAAU,CAEd,OAAiB,SAAUC,GAgBX,IAAKC,OAAOC,8BAEV,YADAC,SAASC,KAAKC,YAAYL,GAI5B,IAAIM,EAEJA,EAAgBH,SAASI,qBAAqB,oBAEzCD,EAAcE,SACjBF,EAzBF,SAASG,EAAwBC,EAASC,EAAOR,UAC/C,MAAMS,EAAW,GAYjB,OATAD,EAAKE,iBAAiBH,GAASI,QAAQC,GAAMH,EAASI,KAAKD,IAG3DJ,EAAKE,iBAAiB,KAAKC,QAAQC,IAC7BA,EAAGE,YACLL,EAASI,QAAQP,EAAwBC,EAASK,EAAGE,eAIlDL,EAYSH,CAAwB,qBAG1C,MAAMS,EAAkB,GACxB,IAAK,IAAIpB,EAAI,EAAGA,EAAIQ,EAAcE,OAAQV,IAAK,CAC7C,MAAMqB,EAAeb,EAAcR,GACnC,GAAU,IAANA,EACFqB,EAAaF,WAAWZ,YAAYL,GACpCA,EAASoB,OAAS,WACZF,EAAgBV,OAAS,GAC3BU,EAAgBJ,QAASO,IAEvBA,EAAUC,UAAYtB,EAASsB,iBAIhC,CACL,MAAMD,EAAYrB,EAASuB,WAAU,GACrCJ,EAAaF,WAAWZ,YAAYgB,GACpCH,EAAgBF,KAAKK,MAIzC,WAAoB,GAEP5B,EAAIC,EAASK,GAI1BF,EAAO2B,QAAU9B,EAAQ+B,QAAU,I,sBChEnCD,EADkC,EAAQ,GAChCkR,EAA4B,IAE9B1R,KAAK,CAACnB,EAAOC,EAAI,8hIAA+hI,KAExjI0B,EAAQC,OAAS,CAChB,kBAAqB,OACrB,mBAAsB,QAEvB5B,EAAO2B,QAAUA,G,mgBCwBFmR,IChCAC,EDKf,SAAgDC,GAC9C,IAAQC,EAAyBD,EAAzBC,UAAWC,EAAcF,EAAdE,UAEbtF,EAAWuF,cACXC,EAAsBC,aAAY,SAACC,GAAK,OAAKC,IAAUC,gCAAgCF,MAQ7F,OACEG,IAAAC,cAAA,OACET,UAAWA,EACXU,QATyC,YACK,IAA5CP,EAAoBQ,QAAQV,IAC9BtF,EAASC,IAAQmB,0BAA0B,CAACkE,OAS5CO,IAAAC,cAACG,IAAmB,CAClBC,YAAa/F,IAAagG,iCAC1BC,QAASjG,IAAaC,0BACtBiG,IAAI,iBACJ7F,MAAM,wC,gjCEdd,IAAM8F,EAAY,CAChB7H,MAAO8H,IAAUC,OAAOC,YAKpBC,EAAoB,SAAHhD,GAAkB,IAAZjF,EAAKiF,EAALjF,MACnBtK,EAAMwS,cAANxS,EACDyS,EAAkGC,EAA7EpB,aAAY,SAACC,GAAK,MAAK,CAACC,IAAUiB,kBAAkBlB,EAJ1D,wBAImF,GAAjF,GACjBoB,EAAmID,EAA3GpB,aAAY,SAACC,GAAK,MAAK,CAACC,IAAUiB,kBAAkBlB,EAAOvF,IAAagG,sCAAmC,GAA/G,GAIzBY,EAAAF,EAHgEpB,aAAY,SAACC,GAAK,MAAK,CACvFC,IAAUqB,qCAAqCtB,GAC/CC,IAAUC,gCAAgCF,OAC1C,GAHKuB,EAAsCF,EAAA,GAAEG,EAAeH,EAAA,GAIxD/G,EAAWuF,cAQD4B,EAAAN,EAHZpB,aAAY,SAACC,GAAK,MAAK,CACzBC,IAAUpG,eAAemG,GACzBC,IAAUyB,6BAA6B1B,MACtC2B,KAAa,GALdC,EAAWH,EAAA,GACXI,EAA6BJ,EAAA,GAM3BrJ,EAAcoJ,EAAgBnU,OAAS,EAAImU,EAAgBpH,KAAI,SAACzN,GAAC,OAAKA,EAAI,KAAK,CAACoM,EAAQ,GAExDX,EAAY0J,SAASF,KAGvDxJ,EAAc,CAACwJ,IAGjB,IAAM5U,EAAWsL,IAAKC,cAChBwJ,EAAe/U,aAAQ,EAARA,EAAUmD,KACzB6R,EAAQD,IAAiBtJ,IAAYwJ,IACrCC,EAAWH,IAAiBtJ,IAAY0J,QAAUJ,IAAiBtJ,IAAY2J,cAE/EC,EAAc,CAClB,qBAAwBlC,IAAAC,cAACkC,IAAM,CAC7B3C,UAAU,gBACVgB,IAAI,6DACJN,QAAS,kBAAM7G,YAAgBpB,IAC/B0C,MAAM,4CACN0F,YAAY,yBAEd,4BAA+BL,IAAAC,cAACkC,IAAM,CACpC3B,IAAI,oEACJN,QAAS,kBAAMvG,YAAuB1B,IACtC0C,MAAM,mDACN0F,YAAY,gCAEd,YAAeL,IAAAC,cAACkC,IAAM,CACpB3C,UAAU,gBACVgB,IAAI,mBACJN,QAAS,kBAAMzE,YAAYxD,EAAakC,EAAUiH,IAClDzG,MAAM,+BACN0F,YAAY,cACZ+B,oBAAmB,GAAA7I,OAAKjL,EAAE,iBAAgB,KAAAiL,OAAIjL,EAAE,gBAAe,KAAAiL,OAAIjL,EAAE,qBAGrE+T,GAAe,EACbC,EAAkB,GAClBC,EAAUb,EAA8BzH,KAAI,SAACuI,GACjD,IAAQnC,EAAgBmC,EAAhBnC,YACF3L,EAAM2L,EACRoC,EAAYP,EAAY7B,GAC5B,GAAIiC,EAAgBnC,QAAQE,IAAgB,EAC1C,OAAO,KAWT,GATAiC,EAAgB5U,KAAK2S,IAShBoC,EAAW,CACdJ,GAAe,EACf,IAAQ7B,EAAwBgC,EAAxBhC,IAAKN,EAAmBsC,EAAnBtC,QAASvF,EAAU6H,EAAV7H,MACtB8H,EAAYzC,IAAAC,cAACkC,IAAM,CACjB3C,UAAS,GAAAjG,OAAK8G,EAAW,WACzBG,IAAKA,EACLN,QAAS,kBAAMA,EAAQuB,IACvB9G,MAAOA,EACP0F,YAAaA,IAIjB,OAAOoC,EACHzC,IAAM0C,aAAaD,EAAW,CAC9B/N,QAEA,QAGN,OAAIqM,EACK,KACHc,GAASE,GAAYlV,WAAU6L,4BAEjCsH,IAAAC,cAAA,OAAKT,UAAU,4BAA4BmD,eAjGzB,mBAkGhBC,MAAO,CAAEC,QAAS,SAElB7C,IAAAC,cAACkC,IAAM,CACL3B,IAAI,oEACJN,QAAS,kBAAMvG,YAAuB1B,IACtC0C,MAAM,mDACN0F,YAAY,gCAEdL,IAAAC,cAACkC,IAAM,CACL3B,IAAI,6DACJN,QAAS,kBAAM7G,YAAgBpB,IAC/B0C,MAAM,4CACN0F,YAAY,0BAMlBL,IAAAC,cAAA,OAAKT,UAAWsD,IAAW,CACzB,6BAA6B,EAC7B,iBAAkBT,IAEpBM,eAxHoB,oBA0HjBJ,EAEEtB,EAAwB,KAAOjB,IAAAC,cAACX,EAA6B,CAC5DE,UAAW,eACXC,UAAW7G,MASrBiI,EAAkBJ,UAAYA,EAEfI,ICzJAA,EDyJAA,E,sxBE1JfzS,EAAA,kBAAAC,GAAA,IAAAC,EAAAD,EAAA,GAAAE,EAAAC,OAAAC,UAAAC,EAAAH,EAAAI,eAAAC,EAAAJ,OAAAK,gBAAA,SAAAP,EAAAD,EAAAE,GAAAD,EAAAD,GAAAE,EAAAO,OAAAtC,EAAA,mBAAAuC,cAAA,GAAAC,EAAAxC,EAAAyC,UAAA,aAAAC,EAAA1C,EAAA2C,eAAA,kBAAAC,EAAA5C,EAAA6C,aAAA,yBAAAC,EAAAhB,EAAAD,EAAAE,GAAA,OAAAC,OAAAK,eAAAP,EAAAD,EAAA,CAAAS,MAAAP,EAAAgB,YAAA,EAAAC,cAAA,EAAAC,UAAA,IAAAnB,EAAAD,GAAA,IAAAiB,EAAA,aAAAhB,GAAAgB,EAAA,SAAAhB,EAAAD,EAAAE,GAAA,OAAAD,EAAAD,GAAAE,GAAA,SAAAmB,EAAApB,EAAAD,EAAAE,EAAAG,GAAA,IAAAlC,EAAA6B,KAAAI,qBAAAkB,EAAAtB,EAAAsB,EAAAX,EAAAR,OAAAoB,OAAApD,EAAAiC,WAAAS,EAAA,IAAAW,EAAAnB,GAAA,WAAAE,EAAAI,EAAA,WAAAF,MAAAgB,EAAAxB,EAAAC,EAAAW,KAAAF,EAAA,SAAAe,EAAAzB,EAAAD,EAAAE,GAAA,WAAAyB,KAAA,SAAAC,IAAA3B,EAAA4B,KAAA7B,EAAAE,IAAA,MAAAD,GAAA,OAAA0B,KAAA,QAAAC,IAAA3B,IAAAD,EAAAqB,OAAA,IAAAS,EAAA,iBAAAC,EAAA,YAAAC,EAAA,YAAAC,EAAA,YAAAX,KAAA,SAAAY,KAAA,SAAAC,KAAA,IAAAC,EAAA,GAAAnB,EAAAmB,EAAAzB,GAAA,8BAAA0B,EAAAlC,OAAAmC,eAAAC,EAAAF,OAAAG,EAAA,MAAAD,OAAArC,GAAAG,EAAAwB,KAAAU,EAAA5B,KAAAyB,EAAAG,GAAA,IAAAE,EAAAN,EAAA/B,UAAAkB,EAAAlB,UAAAD,OAAAoB,OAAAa,GAAA,SAAAM,EAAAzC,GAAA,0BAAAd,SAAA,SAAAa,GAAAiB,EAAAhB,EAAAD,GAAA,SAAAC,GAAA,YAAA0C,QAAA3C,EAAAC,SAAA,SAAA2C,EAAA3C,EAAAD,GAAA,SAAA6C,EAAA3C,EAAAK,EAAApC,EAAAwC,GAAA,IAAAE,EAAAa,EAAAzB,EAAAC,GAAAD,EAAAM,GAAA,aAAAM,EAAAc,KAAA,KAAAZ,EAAAF,EAAAe,IAAAE,EAAAf,EAAAN,MAAA,OAAAqB,GAAA,UAAAgB,EAAAhB,IAAAzB,EAAAwB,KAAAC,EAAA,WAAA9B,EAAA+C,QAAAjB,EAAAkB,SAAAC,MAAA,SAAAhD,GAAA4C,EAAA,OAAA5C,EAAA9B,EAAAwC,MAAA,SAAAV,GAAA4C,EAAA,QAAA5C,EAAA9B,EAAAwC,MAAAX,EAAA+C,QAAAjB,GAAAmB,MAAA,SAAAhD,GAAAc,EAAAN,MAAAR,EAAA9B,EAAA4C,MAAA,SAAAd,GAAA,OAAA4C,EAAA,QAAA5C,EAAA9B,EAAAwC,QAAAE,EAAAe,KAAA,IAAA1B,EAAAK,EAAA,gBAAAE,MAAA,SAAAR,EAAAI,GAAA,SAAA6C,IAAA,WAAAlD,GAAA,SAAAA,EAAAE,GAAA2C,EAAA5C,EAAAI,EAAAL,EAAAE,MAAA,OAAAA,MAAA+C,KAAAC,YAAA,SAAAzB,EAAAzB,EAAAE,EAAAG,GAAA,IAAAE,EAAAuB,EAAA,gBAAA3D,EAAAwC,GAAA,GAAAJ,IAAAwB,EAAA,MAAAoB,MAAA,mCAAA5C,IAAAyB,EAAA,cAAA7D,EAAA,MAAAwC,EAAA,OAAAF,MAAAR,EAAAmD,MAAA,OAAA/C,EAAAgD,OAAAlF,EAAAkC,EAAAuB,IAAAjB,IAAA,KAAAE,EAAAR,EAAAiD,SAAA,GAAAzC,EAAA,KAAAE,EAAAwC,EAAA1C,EAAAR,GAAA,GAAAU,EAAA,IAAAA,IAAAkB,EAAA,gBAAAlB,GAAA,YAAAV,EAAAgD,OAAAhD,EAAAmD,KAAAnD,EAAAoD,MAAApD,EAAAuB,SAAA,aAAAvB,EAAAgD,OAAA,IAAA9C,IAAAuB,EAAA,MAAAvB,EAAAyB,EAAA3B,EAAAuB,IAAAvB,EAAAqD,kBAAArD,EAAAuB,SAAA,WAAAvB,EAAAgD,QAAAhD,EAAAsD,OAAA,SAAAtD,EAAAuB,KAAArB,EAAAwB,EAAA,IAAAK,EAAAV,EAAA1B,EAAAE,EAAAG,GAAA,cAAA+B,EAAAT,KAAA,IAAApB,EAAAF,EAAA+C,KAAApB,EAAA,iBAAAI,EAAAR,MAAAK,EAAA,gBAAAxB,MAAA2B,EAAAR,IAAAwB,KAAA/C,EAAA+C,MAAA,UAAAhB,EAAAT,OAAApB,EAAAyB,EAAA3B,EAAAgD,OAAA,QAAAhD,EAAAuB,IAAAQ,EAAAR,OAAA,SAAA2B,EAAAvD,EAAAE,GAAA,IAAAG,EAAAH,EAAAmD,OAAA9C,EAAAP,EAAAY,SAAAP,GAAA,GAAAE,IAAAN,EAAA,OAAAC,EAAAoD,SAAA,eAAAjD,GAAAL,EAAAY,SAAA,SAAAV,EAAAmD,OAAA,SAAAnD,EAAA0B,IAAA3B,EAAAsD,EAAAvD,EAAAE,GAAA,UAAAA,EAAAmD,SAAA,WAAAhD,IAAAH,EAAAmD,OAAA,QAAAnD,EAAA0B,IAAA,IAAAgC,UAAA,oCAAAvD,EAAA,aAAA4B,EAAA,IAAA9D,EAAAuD,EAAAnB,EAAAP,EAAAY,SAAAV,EAAA0B,KAAA,aAAAzD,EAAAwD,KAAA,OAAAzB,EAAAmD,OAAA,QAAAnD,EAAA0B,IAAAzD,EAAAyD,IAAA1B,EAAAoD,SAAA,KAAArB,EAAA,IAAAtB,EAAAxC,EAAAyD,IAAA,OAAAjB,IAAAyC,MAAAlD,EAAAF,EAAA6D,YAAAlD,EAAAF,MAAAP,EAAA4D,KAAA9D,EAAA+D,QAAA,WAAA7D,EAAAmD,SAAAnD,EAAAmD,OAAA,OAAAnD,EAAA0B,IAAA3B,GAAAC,EAAAoD,SAAA,KAAArB,GAAAtB,GAAAT,EAAAmD,OAAA,QAAAnD,EAAA0B,IAAA,IAAAgC,UAAA,oCAAA1D,EAAAoD,SAAA,KAAArB,GAAA,SAAA+B,EAAA/D,GAAA,IAAAD,EAAA,CAAAiE,OAAAhE,EAAA,SAAAA,IAAAD,EAAAkE,SAAAjE,EAAA,SAAAA,IAAAD,EAAAmE,WAAAlE,EAAA,GAAAD,EAAAoE,SAAAnE,EAAA,SAAAoE,WAAAhF,KAAAW,GAAA,SAAAsE,EAAArE,GAAA,IAAAD,EAAAC,EAAAsE,YAAA,GAAAvE,EAAA2B,KAAA,gBAAA3B,EAAA4B,IAAA3B,EAAAsE,WAAAvE,EAAA,SAAAwB,EAAAvB,GAAA,KAAAoE,WAAA,EAAAJ,OAAA,SAAAhE,EAAAd,QAAA6E,EAAA,WAAAQ,OAAA,YAAAhC,EAAAxC,GAAA,GAAAA,GAAA,KAAAA,EAAA,KAAAE,EAAAF,EAAAW,GAAA,GAAAT,EAAA,OAAAA,EAAA2B,KAAA7B,GAAA,sBAAAA,EAAA8D,KAAA,OAAA9D,EAAA,IAAAyE,MAAAzE,EAAAnB,QAAA,KAAA0B,GAAA,EAAApC,EAAA,SAAA2F,IAAA,OAAAvD,EAAAP,EAAAnB,QAAA,GAAAwB,EAAAwB,KAAA7B,EAAAO,GAAA,OAAAuD,EAAArD,MAAAT,EAAAO,GAAAuD,EAAAV,MAAA,EAAAU,EAAA,OAAAA,EAAArD,MAAAR,EAAA6D,EAAAV,MAAA,EAAAU,GAAA,OAAA3F,EAAA2F,KAAA3F,GAAA,UAAAyF,UAAAd,EAAA9C,GAAA,2BAAAkC,EAAA9B,UAAA+B,EAAA5B,EAAAkC,EAAA,eAAAhC,MAAA0B,EAAAhB,cAAA,IAAAZ,EAAA4B,EAAA,eAAA1B,MAAAyB,EAAAf,cAAA,IAAAe,EAAAwC,YAAAzD,EAAAkB,EAAApB,EAAA,qBAAAf,EAAA2E,oBAAA,SAAA1E,GAAA,IAAAD,EAAA,mBAAAC,KAAA2E,YAAA,QAAA5E,QAAAkC,GAAA,uBAAAlC,EAAA0E,aAAA1E,EAAA6E,QAAA7E,EAAA8E,KAAA,SAAA7E,GAAA,OAAAE,OAAA4E,eAAA5E,OAAA4E,eAAA9E,EAAAkC,IAAAlC,EAAA+E,UAAA7C,EAAAlB,EAAAhB,EAAAc,EAAA,sBAAAd,EAAAG,UAAAD,OAAAoB,OAAAkB,GAAAxC,GAAAD,EAAAiF,MAAA,SAAAhF,GAAA,OAAA+C,QAAA/C,IAAAyC,EAAAE,EAAAxC,WAAAa,EAAA2B,EAAAxC,UAAAS,GAAA,0BAAAb,EAAA4C,gBAAA5C,EAAAkF,MAAA,SAAAjF,EAAAC,EAAAG,EAAAE,EAAApC,QAAA,IAAAA,MAAAgH,SAAA,IAAAxE,EAAA,IAAAiC,EAAAvB,EAAApB,EAAAC,EAAAG,EAAAE,GAAApC,GAAA,OAAA6B,EAAA2E,oBAAAzE,GAAAS,IAAAmD,OAAAb,MAAA,SAAAhD,GAAA,OAAAA,EAAAmD,KAAAnD,EAAAQ,MAAAE,EAAAmD,WAAApB,EAAAD,GAAAxB,EAAAwB,EAAA1B,EAAA,aAAAE,EAAAwB,EAAA9B,GAAA,0BAAAM,EAAAwB,EAAA,qDAAAzC,EAAAoF,KAAA,SAAAnF,GAAA,IAAAD,EAAAG,OAAAF,GAAAC,EAAA,WAAAG,KAAAL,EAAAE,EAAAb,KAAAgB,GAAA,OAAAH,EAAAmF,UAAA,SAAAvB,IAAA,KAAA5D,EAAArB,QAAA,KAAAoB,EAAAC,EAAAoF,MAAA,GAAArF,KAAAD,EAAA,OAAA8D,EAAArD,MAAAR,EAAA6D,EAAAV,MAAA,EAAAU,EAAA,OAAAA,EAAAV,MAAA,EAAAU,IAAA9D,EAAAwC,SAAAhB,EAAApB,UAAA,CAAAwE,YAAApD,EAAAgD,MAAA,SAAAxE,GAAA,QAAAuF,KAAA,OAAAzB,KAAA,OAAAN,KAAA,KAAAC,MAAAxD,EAAA,KAAAmD,MAAA,OAAAE,SAAA,UAAAD,OAAA,YAAAzB,IAAA3B,EAAA,KAAAoE,WAAAlF,QAAAmF,IAAAtE,EAAA,QAAAE,KAAA,WAAAA,EAAAsF,OAAA,IAAAnF,EAAAwB,KAAA,KAAA3B,KAAAuE,OAAAvE,EAAAuF,MAAA,WAAAvF,GAAAD,IAAAyF,KAAA,gBAAAtC,MAAA,MAAAnD,EAAA,KAAAoE,WAAA,GAAAE,WAAA,aAAAtE,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,YAAA+D,MAAAjC,kBAAA,SAAA1D,GAAA,QAAAoD,KAAA,MAAApD,EAAA,IAAAE,EAAA,cAAA0F,EAAAvF,EAAAE,GAAA,OAAAI,EAAAgB,KAAA,QAAAhB,EAAAiB,IAAA5B,EAAAE,EAAA4D,KAAAzD,EAAAE,IAAAL,EAAAmD,OAAA,OAAAnD,EAAA0B,IAAA3B,KAAAM,EAAA,QAAAA,EAAA,KAAA8D,WAAAxF,OAAA,EAAA0B,GAAA,IAAAA,EAAA,KAAApC,EAAA,KAAAkG,WAAA9D,GAAAI,EAAAxC,EAAAoG,WAAA,YAAApG,EAAA8F,OAAA,OAAA2B,EAAA,UAAAzH,EAAA8F,QAAA,KAAAsB,KAAA,KAAA1E,EAAAR,EAAAwB,KAAA1D,EAAA,YAAA4C,EAAAV,EAAAwB,KAAA1D,EAAA,iBAAA0C,GAAAE,EAAA,SAAAwE,KAAApH,EAAA+F,SAAA,OAAA0B,EAAAzH,EAAA+F,UAAA,WAAAqB,KAAApH,EAAAgG,WAAA,OAAAyB,EAAAzH,EAAAgG,iBAAA,GAAAtD,GAAA,QAAA0E,KAAApH,EAAA+F,SAAA,OAAA0B,EAAAzH,EAAA+F,UAAA,YAAAnD,EAAA,MAAAoC,MAAA,kDAAAoC,KAAApH,EAAAgG,WAAA,OAAAyB,EAAAzH,EAAAgG,gBAAAR,OAAA,SAAA1D,EAAAD,GAAA,QAAAE,EAAA,KAAAmE,WAAAxF,OAAA,EAAAqB,GAAA,IAAAA,EAAA,KAAAK,EAAA,KAAA8D,WAAAnE,GAAA,GAAAK,EAAA0D,QAAA,KAAAsB,MAAAlF,EAAAwB,KAAAtB,EAAA,oBAAAgF,KAAAhF,EAAA4D,WAAA,KAAAhG,EAAAoC,EAAA,OAAApC,IAAA,UAAA8B,GAAA,aAAAA,IAAA9B,EAAA8F,QAAAjE,MAAA7B,EAAAgG,aAAAhG,EAAA,UAAAwC,EAAAxC,IAAAoG,WAAA,UAAA5D,EAAAgB,KAAA1B,EAAAU,EAAAiB,IAAA5B,EAAA7B,GAAA,KAAAkF,OAAA,YAAAS,KAAA3F,EAAAgG,WAAAlC,GAAA,KAAA4D,SAAAlF,IAAAkF,SAAA,SAAA5F,EAAAD,GAAA,aAAAC,EAAA0B,KAAA,MAAA1B,EAAA2B,IAAA,gBAAA3B,EAAA0B,MAAA,aAAA1B,EAAA0B,KAAA,KAAAmC,KAAA7D,EAAA2B,IAAA,WAAA3B,EAAA0B,MAAA,KAAAgE,KAAA,KAAA/D,IAAA3B,EAAA2B,IAAA,KAAAyB,OAAA,cAAAS,KAAA,kBAAA7D,EAAA0B,MAAA3B,IAAA,KAAA8D,KAAA9D,GAAAiC,GAAA6D,OAAA,SAAA7F,GAAA,QAAAD,EAAA,KAAAqE,WAAAxF,OAAA,EAAAmB,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAmE,WAAArE,GAAA,GAAAE,EAAAiE,aAAAlE,EAAA,YAAA4F,SAAA3F,EAAAqE,WAAArE,EAAAkE,UAAAE,EAAApE,GAAA+B,IAAA,eAAAhC,GAAA,QAAAD,EAAA,KAAAqE,WAAAxF,OAAA,EAAAmB,GAAA,IAAAA,EAAA,KAAAE,EAAA,KAAAmE,WAAArE,GAAA,GAAAE,EAAA+D,SAAAhE,EAAA,KAAAI,EAAAH,EAAAqE,WAAA,aAAAlE,EAAAsB,KAAA,KAAApB,EAAAF,EAAAuB,IAAA0C,EAAApE,GAAA,OAAAK,GAAA,MAAA4C,MAAA,0BAAA4C,cAAA,SAAA/F,EAAAE,EAAAG,GAAA,YAAAiD,SAAA,CAAA1C,SAAA4B,EAAAxC,GAAA6D,WAAA3D,EAAA6D,QAAA1D,GAAA,cAAAgD,SAAA,KAAAzB,IAAA3B,GAAAgC,IAAAjC,EAAA,SAAAgG,EAAAC,EAAAlD,EAAAmD,EAAAC,EAAAC,EAAAC,EAAAzE,GAAA,QAAA0E,EAAAL,EAAAI,GAAAzE,GAAAnB,EAAA6F,EAAA7F,MAAA,MAAA8F,GAAA,YAAAL,EAAAK,GAAAD,EAAAlD,KAAAL,EAAAtC,GAAA0E,QAAApC,QAAAtC,GAAAwC,KAAAkD,EAAAC,GAAA,SAAAuM,EAAA7J,EAAA3K,GAAA,gBAAA2K,GAAA,GAAAd,MAAAC,QAAAa,GAAA,OAAAA,EAAA4L,CAAA5L,IAAA,SAAA5I,EAAAyU,GAAA,IAAA1U,EAAA,MAAAC,EAAA,yBAAAQ,QAAAR,EAAAQ,OAAAE,WAAAV,EAAA,uBAAAD,EAAA,KAAAD,EAAAK,EAAAlC,EAAA4C,EAAAJ,EAAA,GAAAoB,GAAA,EAAAxB,GAAA,SAAApC,GAAA8B,IAAA4B,KAAA3B,IAAA4D,KAAA,IAAA6Q,EAAA,IAAAxU,OAAAF,OAAA,OAAA8B,GAAA,cAAAA,GAAA/B,EAAA7B,EAAA0D,KAAA5B,IAAAmD,QAAAzC,EAAAtB,KAAAW,EAAAS,OAAAE,EAAA9B,SAAA8V,GAAA5S,GAAA,UAAA7B,GAAAK,GAAA,EAAAF,EAAAH,EAAA,gBAAA6B,GAAA,MAAA9B,EAAA,SAAAc,EAAAd,EAAA,SAAAE,OAAAY,QAAA,kBAAAR,EAAA,MAAAF,GAAA,OAAAM,GAAAiU,CAAA9L,EAAA3K,IAAAoK,EAAAO,EAAA3K,IAAA,qBAAAyF,UAAA,6IAAAiR,GAAA,SAAAtM,EAAAhI,EAAA2H,GAAA,GAAA3H,EAAA,qBAAAA,EAAA,OAAA4H,EAAA5H,EAAA2H,GAAA,IAAA7H,EAAAF,OAAAC,UAAAgI,SAAAvG,KAAAtB,GAAAkF,MAAA,uBAAApF,GAAAE,EAAAqE,cAAAvE,EAAAE,EAAAqE,YAAAC,MAAA,QAAAxE,GAAA,QAAAA,EAAA2H,MAAAK,KAAA9H,GAAA,cAAAF,GAAA,2CAAAiI,KAAAjI,GAAA8H,EAAA5H,EAAA2H,QAAA,YAAAC,EAAAW,EAAAC,IAAA,MAAAA,KAAAD,EAAAjK,UAAAkK,EAAAD,EAAAjK,QAAA,QAAAV,EAAA,EAAA6K,EAAA,IAAAhB,MAAAe,GAAA5K,EAAA4K,EAAA5K,IAAA6K,EAAA7K,GAAA2K,EAAA3K,GAAA,OAAA6K,EAWA,IA6Pe8L,EA3PG,SAAHtF,GA2BT,IA1BJjF,EAAKiF,EAALjF,MACAwK,EAAUvF,EAAVuF,WACAC,EAAiBxF,EAAjBwF,kBACAC,EAA2BzF,EAA3ByF,4BACAC,EAAe1F,EAAf0F,gBACAC,EAAM3F,EAAN2F,OAAMC,EAAA5F,EACN6F,gBAAQ,IAAAD,EAAG,aAASA,EACpBE,EAAW9F,EAAX8F,YACAC,EAAU/F,EAAV+F,WACAC,EAAWhG,EAAXgG,YACAC,EAAkBjG,EAAlBiG,mBACAC,EAAalG,EAAbkG,cACAtC,EAAW5D,EAAX4D,YAAWuC,EAAAnG,EACXoG,kBAAU,IAAAD,EAAG,GAAEA,EACfrE,EAAmB9B,EAAnB8B,oBACAuE,EAA6BrG,EAA7BqG,8BACAC,EAAsBtG,EAAtBsG,uBACAhK,EAAQ0D,EAAR1D,SACAC,EAAOyD,EAAPzD,QACAgK,EAAQvG,EAARuG,SACAC,EAAOxG,EAAPwG,QACAC,EAAQzG,EAARyG,SACAC,EAAyB1G,EAAzB0G,0BACAC,EAAsB3G,EAAtB2G,uBACAC,EAAuB5G,EAAvB4G,wBACAC,EAAa7G,EAAb6G,cAEMC,EAAYZ,EAAgB/N,OAAO+N,GAAiB,IAE2Ba,EAAA5D,EAAjD6D,mBAAS,CAAEhL,MAAO8K,EAAW7K,OAAQ6K,IAAY,GAA9EG,EAAUF,EAAA,GAAEG,EAAaH,EAAA,GAEWI,EAAAhE,EAAf6D,oBAAS,GAAM,GAApCI,EAAMD,EAAA,GAAEE,EAASF,EAAA,GAEpBG,EAAc,KAEZC,EAAqB,WACzBD,EAAcE,YAAW,WACvB,IAnDNvQ,EAiEsBwQ,EAdVC,EAAqBC,cAAcC,cAAc,oBAADlM,OAAqBmL,EAAa,eAAAnL,OAAcX,IAEhG8M,EAAU9M,EAAQ,EAClB+M,EAAiBxN,IAAKyN,YAAYF,GAElCxN,EAAMC,IAAKC,YAAYqM,GAI7B,GAAIvM,GAAOA,EAAI4E,YAAY4I,GAAU,CACnC,IAAMG,EAAK3N,EAAI4N,WAAW,CACxBC,WAAYL,EACZ7L,MAAO8K,EACP7K,OAAQ6K,EACRqB,cAjEVlR,EAiEsB1G,IAAA+E,MAAE,SAAA2K,EAAOmI,GAAK,IAAAV,EAAAW,EAAAC,EAAAC,EAAA,OAAAhY,IAAAsB,MAAA,SAAA2O,GAAA,cAAAA,EAAAzK,KAAAyK,EAAAlM,MAAA,QAClBoT,EAAqBC,cAAcC,cAAc,oBAADlM,OAAqBmL,EAAa,eAAAnL,OAAcX,QAE9FsN,EAAeX,EAAmBE,cAAc,iBAEpDF,EAAmBc,YAAYH,GAGjCD,EAAMzG,UAAY,aAEZ2G,EAAQG,KAAKC,IAAI5B,EAAYsB,EAAMpM,MAAO8K,EAAYsB,EAAMnM,QAClEmM,EAAMrD,MAAM/I,MAAQ,GAAHN,OAAM0M,EAAMpM,MAAQsM,EAAK,MAC1CF,EAAMrD,MAAM9I,OAAS,GAAHP,OAAM0M,EAAMnM,OAASqM,EAAK,MAC5CpB,EAAc,CAAElL,MAAO7D,OAAOiQ,EAAMpM,OAAQC,OAAQ9D,OAAOiQ,EAAMnM,UAE7DwM,KAAKE,IAAIb,KACLS,EAAe,UAAH7M,OAA8B,GAAjBoM,EAAmB,6BAElDM,EAAMrD,MAAiB,UAAIwD,EAC3BH,EAAMrD,MAAM,oBAFe,WAG3BqD,EAAMrD,MAAM,gBAAkBwD,EAC9BH,EAAMrD,MAAM,uBAJe,WAK3BqD,EAAMrD,MAAM,kBAAoBwD,EAChCH,EAAMrD,MAAM,yBANe,WAO3BqD,EAAMrD,MAAM,4BAPe,WAQ3BqD,EAAMrD,MAAM,qBAAuBwD,EACnCH,EAAMrD,MAAM,gBAAkBwD,EAC9BH,EAAMrD,MAAM,uBAVe,YAa7B2C,EAAmBxY,YAAYkZ,IAG7B5C,GACFA,EAAkBzK,GAGpB2K,EAAgB3K,GAChBsM,GAAU,GAAM,wBAAA7G,EAAAtK,UAAA+J,MAtCNwH,EAjEtB,eAAAvQ,EAAA,KAAAC,EAAAC,UAAA,WAAAzB,SAAA,SAAApC,EAAAmD,GAAA,IAAAD,EAAAQ,EAAAI,MAAAH,EAAAC,GAAA,SAAAR,EAAA1F,GAAAuF,EAAAC,EAAAlD,EAAAmD,EAAAC,EAAAC,EAAA,OAAA3F,GAAA,SAAA2F,EAAAU,GAAAd,EAAAC,EAAAlD,EAAAmD,EAAAC,EAAAC,EAAA,QAAAU,GAAAX,OAAAY,OAwGW,SAAAqJ,GAAA,OAAA6G,EAAApQ,MAAA,KAAAD,aACDwR,8BAA8B,IAEhCjD,EAAO5K,EAAO2M,EAAoBM,MAhGb,KAqG3Ba,qBAAU,WACR,IAAMC,EAAiB,SAACC,GACtB,IAAQC,EAA0CD,EAA1CC,eAAgBC,EAA0BF,EAA1BE,MAAOC,EAAmBH,EAAnBG,MAAOC,EAAYJ,EAAZI,QAEhCvF,EAAc7I,EAAQ,EAEtBqO,EAAcF,EAAMpF,SAASF,GAC7ByF,EAAgBL,EAAeM,MAAK,SAACC,GAAW,OAAK3F,IAAgB2F,KACrEC,EAAc7Y,OAAOiF,KAAKqT,GAAOK,MAAK,SAACG,GAAS,OAAK7F,IAAgB8F,SAASD,MAC9EE,EAAgBR,EAAQrF,SAASF,GACjCgG,EAAetP,IAAK4D,gBAEtBiL,EAAQ9Z,OAAS,GAAK0L,EAAQ,EAAI6O,IAIlCR,GAAeC,GAAiBG,GAAeG,IACjDpC,KAIEsC,EAAoB,WACxBxC,GAAU,GACVE,KAQF,OALAjN,IAAKwP,iBAAiB,eAAgBhB,GACtCxO,IAAKwP,iBAAiB,kBAAmBD,GACrCrD,GACFe,IAEK,WACLjN,IAAKyP,oBAAoB,eAAgBjB,GACzCxO,IAAKyP,oBAAoB,kBAAmBF,GAC5CG,aAAa1C,GACbzB,EAAS9K,MAEV,IAEHkP,aAAa,WACPzD,GACFe,IACA/B,EAAkBzK,IAElB0L,EAAS1L,KAEV,CAACyL,EAASI,IAEb,IA+DMsD,EAAWtG,IAAgB7I,EAAQ,EACnCoP,EAAY/D,EAAWrL,GACzBqP,EAAsB,UACpBtP,GAAWR,IAAKyN,YAAYhN,EAAQ,GAO1C,SANMD,IAAyB,IAAbA,KAAmBmM,EAAWjL,MAAQiL,EAAWhL,SAE1C,IAAbnB,IAA+B,IAAbA,KAAmBmM,EAAWjL,MAAQiL,EAAWhL,UAD7EmO,EAAsB,WAMtBjI,IAAAC,cAAA,OACET,UAAWsD,IAAW,CACpBK,WAAW,EACX+E,OAAQH,EACRI,SAAU/E,GAAcmB,IAE1BX,WAAY,SAACvV,GAAC,OAAKuV,EAAWvV,EAAGuK,IACjCiN,GAAG,uBAEH7F,IAAAC,cAAA,OACET,UAAU,YACVoD,MAAO,CACL/I,MAAO8K,EACP7K,OAAQ6K,GAEVhB,YAAa,SAACtV,GAAC,OAAKsV,EAAYtV,EAAGuK,IACnCwP,UAAWvE,EACX3D,QA3Fc,SAAC7R,GACnB,IAAMga,EAAkBha,EAAEia,OAAOtY,MAA0B,aAAlB3B,EAAEia,OAAOtY,KAClD,GAAIkU,IAAkCC,EAAwB,CAC5D,IAAMoE,EAA2Bla,EAAEma,SAAWna,EAAEoa,QAC1CC,EAAkBra,EAAEsa,SACtBC,EAAoBC,EAAOlJ,GAE/B,GAAI+I,EAAiB,CACnBvO,EAASC,EAAQ0O,4BAA2B,IAE5C,IAAIC,EAAgBzF,EACE,OAAlByF,IACFA,EAAgBtH,EAAc,EAC9BtH,EAASC,EAAQuB,gCAAgCoN,KAGnD,IAAMC,EAAqB1C,KAAKC,IAAIwC,EAAenQ,GAC7CqQ,EAAqB3C,KAAK4C,IAAIH,EAAenQ,GACnDgQ,EAAoBC,EAAO,IAAIM,IAAGN,EAAKxS,MAAMK,KAC3C,CAAExJ,OAAQ+b,EAAqBD,EAAqB,IACpD,SAACI,EAAG5c,GAAC,OAAKA,EAAIwc,aAEPT,GAA4BhE,GACrCpK,EAASC,EAAQ0O,4BAA2B,KAExCP,GAA4BF,GAAmB7D,IAA2B6E,IAAmC,aAE5E,IAA/B1J,EAAoBzS,QAAiBqX,EAE9B5E,EAAoBgC,SAAS/I,GACtCgQ,EAAuBjJ,EAAoBpK,QAAO,SAACkK,GAAS,OAAK7G,IAAU6G,KAE3EmJ,EAAqBlb,KAAKkL,GAJ1BgQ,EAAqBlb,KAAK+T,EAAc,IAO5CtH,EAASC,EAAQuB,gCAAgC/C,KAEjDgQ,EAAuB,CAAChQ,GAG1B,IAAM0Q,EAAwBV,EAAqBA,EAAqB1b,OAAS,IACzCqX,IAA8BmE,GAGpEvO,EAASC,EAAQuB,gCAAgC2N,IAGnDnP,EAASC,EAAQmB,0BAA0BqN,SAClCxE,KACTjK,EAASC,EAAQC,aAAa,cAKhCgL,YAAW,WAGJgD,GAAmB7D,IAA2B6E,IAAmC,WACpFlR,IAAKoR,eAAe3Q,EAAQ,KAE7B,KAiCCoH,IAAAC,cAAA,OAAK4F,GAAE,YAAAtM,OAAcX,GAAS4G,UAAU,cACvC+E,GAA6BU,GAC5BjF,IAAAC,cAACuJ,IAAM,CAAChK,UAAS,YAAAjG,OAAc0O,GAAuBwB,QAAS9J,EAAoBgC,SAAS/I,MAGhGoH,IAAAC,cAAA,OAAKT,UAAU,cAAcwI,IAC3BzD,GAA6BwD,GAAYjE,GAAsB9D,IAAAC,cAACY,EAAiB,CAACjI,MAAOA,M,kwCC3PjG,ICPeuK,EDOQ,SAAC5D,GACtB,IA0BCmK,EAAA1I,EAdGpB,aACF,SAACC,GAAK,MAAK,CACTC,IAAUpG,eAAemG,GACzBC,IAAU6J,cAAc9J,GACxBC,IAAUC,gCAAgCF,GAC1CC,IAAUoE,8BAA8BrE,GACxCC,IAAU8J,aAAa/J,GACvBC,IAAU+J,mBAAmBhK,GAC7BC,IAAUgK,+BAA+BjK,GACzCC,IAAUyE,0BAA0B1E,GACpCC,IAAUiK,0BAA0BlK,GACpCC,IAAUkK,2BAA2BnK,MAEvC2B,KACD,IAzBCC,EAAWiI,EAAA,GACXzF,EAAUyF,EAAA,GACV/J,EAAmB+J,EAAA,GACnBxF,EAA6BwF,EAAA,GAC7BE,EAAYF,EAAA,GACZG,EAAkBH,EAAA,GAClBpG,EAA2BoG,EAAA,GAC3BnF,EAAyBmF,EAAA,GACzBlF,EAAsBkF,EAAA,GACtBjF,EAAuBiF,EAAA,GACvBO,EAAcP,EAAA,IAiBVvP,EAAWuF,cAEjB,OAAOM,IAAAC,cAACkD,EAAS+G,EAAA,GAAK3K,EAAK,CACzBkC,cACAwC,aACAtE,sBACAuE,gCACAC,uBAAwByF,GAAgBC,EACxC1P,WACAC,YACAgK,aACAd,8BACAiB,4BACAC,yBACAyF,iBACAxF,8B,gDEjCW0F,MAff,WACE,OACEnK,IAAAC,cAAA,OAAKT,UAAW,8BACdQ,IAAAC,cAACG,IAAmB,CAClBzF,MAAM,cACN6E,UAAW,gBACXe,QAASjG,IAAa8P,0CACtB/J,YAAa/F,IAAa+P,kDAC1B7J,IAAI,mBAENR,IAAAC,cAAA,OAAKT,UAAW,gBCKP8K,MAff,WACE,OACEtK,IAAAC,cAAA,OAAKT,UAAW,iBACdQ,IAAAC,cAACG,IAAmB,CAClBzF,MAAM,uBACN6E,UAAW,gBACXe,QAAQ,+BACRF,YAAY,sCACZG,IAAI,+CAENR,IAAAC,cAAA,OAAKT,UAAW,gBCOP+K,MAnBf,SAAkC1M,GAA8B,IAA3B5F,EAAW4F,EAAX5F,YAAauS,EAAU3M,EAAV2M,WAChD,OACExK,IAAAC,cAAAD,IAAAyK,SAAA,KACGD,EAAWvQ,KAAI,SAACyQ,EAAW9R,GAC1B,OACEoH,IAAAC,cAACkC,IAAM,CACLzN,IAAKkE,EACL4G,UAAW,eACXa,YAAaqK,EAAUrK,YACvBG,IAAKkK,EAAUlK,IACfN,QAAS,kBAAMwK,EAAUxK,QAAQjI,IACjC0C,MAAO+P,EAAU/P,aCWdgQ,MArBf,SAAgC9M,GAAkD,IAA/C+M,EAAiB/M,EAAjB+M,kBAAmBC,EAAwBhN,EAAxBgN,yBACpD,OACE7K,IAAAC,cAAAD,IAAAyK,SAAA,KACEzK,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,0CACZG,IAAI,oEACJN,QAAS2K,EACTlQ,MAAM,kCAERqF,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,mCACZG,IAAI,6DACJN,QAAS0K,EACTjQ,MAAM,6B,mOCZd,SAASmQ,EAA6BjN,GAAgE,IAA7DkN,EAAQlN,EAARkN,SAAU9S,EAAW4F,EAAX5F,YAAa+S,EAAkCnN,EAAlCmN,mCACxDC,EAAgBjL,IAAMkL,SAASC,QAAQJ,GAC7C,OAAKC,EAGEA,EAAmC/Q,KAAI,SAACuI,EAAM5J,GACnD,IAAQyH,EAAsBmC,EAAtBnC,YAAarQ,EAASwS,EAATxS,KACjByS,EAAYwI,EAAcG,MAAK,SAACC,GAAK,OAAKA,EAAM9L,MAAMc,cAAgBA,KACpE3L,EAAM2L,GAAe,GAAJ9G,OAAOvJ,EAAI,KAAAuJ,OAAIX,GAWtC,OATK6J,IACU,YAATzS,IACFyS,EAAYzC,IAAAC,cAAA,OAAKT,UAAU,aAGhB,wBAATxP,IACFyS,EAAYzC,IAAAC,cAACsK,EAAyBL,EAAA,CAACxV,IAAK2L,EAAapI,YAAaA,GAAiBuK,MAGpFC,EACHzC,IAAM0C,aAAaD,EAAW,CAC9B/N,QAEA,QApBGuW,EAwCIK,OAff,SAAgC/L,GAC9B,IAAQtH,EAAsGsH,EAAtGtH,YAAasT,EAAyFhM,EAAzFgM,wCAAyCX,EAAgDrL,EAAhDqL,kBAAmBC,EAA6BtL,EAA7BsL,yBACjF,OACE7K,IAAAC,cAAA,OAAKT,UAAW,mCACdQ,IAAAC,cAAC6K,EAA6B,CAAC7S,YAAaA,EAAa+S,mCAAoCO,GAC3FvL,IAAAC,cAAC0K,EAAuB,CAACC,kBAAmBA,EAC1CC,yBAA0BA,EAC1BxK,YAAY,4BACdL,IAAAC,cAACqK,EAA4B,CAACjK,YAAY,iCAC1CL,IAAAC,cAACkK,EAA0B,CAAC9J,YAAY,kCCxBjCmL,OAff,WACE,OACExL,IAAAC,cAAA,OAAKT,UAAW,8BACdQ,IAAAC,cAACG,IAAmB,CAClBzF,MAAM,cACN6E,UAAW,gBACXe,QAASjG,IAAamR,oCACtBpL,YAAa/F,IAAaoR,4CAC1BlL,IAAI,mBAENR,IAAAC,cAAA,OAAKT,UAAW,gBCUPmM,OArBf,SAA8B9N,GAA8B,IAA3B+N,EAAS/N,EAAT+N,UAAWC,EAAYhO,EAAZgO,aAC1C,OACE7L,IAAAC,cAAAD,IAAAyK,SAAA,KACEzK,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,YACZG,IAAI,oBACJN,QAAS0L,EACTjR,MAAM,qBAERqF,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,eACZG,IAAI,sBACJN,QAAS2L,EACTlR,MAAM,0B,qOCXd,SAASmR,GAAwBjO,GAAgE,IAA7DkN,EAAQlN,EAARkN,SAAU9S,EAAW4F,EAAX5F,YAAa+S,EAAkCnN,EAAlCmN,mCACnDC,EAAgBjL,IAAMkL,SAASC,QAAQJ,GAC7C,OAAKC,EAGEA,EAAmC/Q,KAAI,SAACuI,EAAM5J,GACnD,IAAQyH,EAAsBmC,EAAtBnC,YAAarQ,EAASwS,EAATxS,KACjByS,EAAYwI,EAAcG,MAAK,SAACC,GAAK,OAAKA,EAAM9L,MAAMc,cAAgBA,KACpE3L,EAAM2L,GAAe,GAAJ9G,OAAOvJ,EAAI,KAAAuJ,OAAIX,GAWtC,OATK6J,IACU,YAATzS,IACFyS,EAAYzC,IAAAC,cAAA,OAAKT,UAAU,aAGhB,wBAATxP,IACFyS,EAAYzC,IAAAC,cAACsK,EAAyBL,GAAA,CAACxV,IAAK2L,EAAapI,YAAaA,GAAiBuK,MAGpFC,EACHzC,IAAM0C,aAAaD,EAAW,CAC9B/N,QAEA,QApBGuW,EA8CIc,OArBf,SAA2BxM,GACzB,IACEtH,EAMEsH,EANFtH,YACA2S,EAKErL,EALFqL,kBACAC,EAIEtL,EAJFsL,yBACAG,EAGEzL,EAHFyL,mCACAY,EAEErM,EAFFqM,UACAC,EACEtM,EADFsM,aAEF,OACE7L,IAAAC,cAAA,OAAKT,UAAW,6BACdQ,IAAAC,cAAC6L,GAAwB,CAAC7T,YAAaA,EAAa+S,mCAAoCA,GACtFhL,IAAAC,cAAC0K,EAAuB,CAACC,kBAAmBA,EAAmBC,yBAA0BA,EAA0BxK,YAAY,4BAC/HL,IAAAC,cAAC0L,GAAqB,CAACC,UAAWA,EAAWC,aAAcA,EAAcxL,YAAY,0BACrFL,IAAAC,cAACuL,GAAqB,CAACnL,YAAY,6BChC5B2L,OAdf,SAAgCnO,GAAe,IAAZoO,EAAQpO,EAARoO,SACjC,OACEjM,IAAAC,cAAAD,IAAAyK,SAAA,KACEzK,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,0BACZG,IAAI,6BACJN,QAAS+L,EACTtR,MAAM,oBC2BCuR,OAnCf,SAAoCrO,GAAyD,IAAtDoO,EAAQpO,EAARoO,SAAUE,EAAStO,EAATsO,UAAWC,EAAcvO,EAAduO,eAAgBC,EAAaxO,EAAbwO,cAC1E,OACErM,IAAAC,cAAAD,IAAAyK,SAAA,KACEzK,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,0BACZG,IAAI,6BACJN,QAAS+L,EACTtR,MAAM,kBAERqF,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,2BACZG,IAAI,wBACJN,QAASiM,EACTxR,MAAM,mBAERqF,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,2BACZG,IAAI,iCACJN,QAASkM,EACTzR,MAAM,mBAERqF,IAAAC,cAACkC,IAAM,CACL3C,UAAW,eACXa,YAAY,0BACZG,IAAI,mBACJN,QAASmM,EACT1R,MAAM,oB,qOCxBd,SAASmR,GAAwBjO,GAAgE,IAA7DkN,EAAQlN,EAARkN,SAAU9S,EAAW4F,EAAX5F,YAAa+S,EAAkCnN,EAAlCmN,mCACnDC,EAAgBjL,IAAMkL,SAASC,QAAQJ,GAC7C,OAAKC,EAGEA,EAAmC/Q,KAAI,SAACuI,EAAM5J,GACnD,IAAQyH,EAAsBmC,EAAtBnC,YAAarQ,EAASwS,EAATxS,KACjByS,EAAYwI,EAAcG,MAAK,SAACC,GAAK,OAAKA,EAAM9L,MAAMc,cAAgBA,KACpE3L,EAAM2L,GAAe,GAAJ9G,OAAOvJ,EAAI,KAAAuJ,OAAIX,GAWtC,OATK6J,IACU,YAATzS,IACFyS,EAAYzC,IAAAC,cAAA,OAAKT,UAAU,aAGhB,wBAATxP,IACFyS,EAAYzC,IAAAC,cAACsK,EAAyBL,GAAA,CAACxV,IAAK2L,EAAapI,YAAaA,GAAiBuK,MAGpFC,EACHzC,IAAM0C,aAAaD,EAAW,CAC9B/N,QAEA,QApBGuW,EAwCIqB,OAff,SAAgC/M,GAC9B,IAAQtH,EAA8KsH,EAA9KtH,YAAa2S,EAAiKrL,EAAjKqL,kBAAmBC,EAA8ItL,EAA9IsL,yBAA0BoB,EAAoH1M,EAApH0M,SAAUE,EAA0G5M,EAA1G4M,UAAWC,EAA+F7M,EAA/F6M,eAAgBC,EAA+E9M,EAA/E8M,cAAeT,EAAgErM,EAAhEqM,UAAWC,EAAqDtM,EAArDsM,aAAcb,EAAuCzL,EAAvCyL,mCAC/I,OACEhL,IAAAC,cAAA,OAAKT,UAAW,6BACdQ,IAAAC,cAAC6L,GAAwB,CAAC7T,YAAaA,EAAa+S,mCAAoCA,GACtFhL,IAAAC,cAAC0K,EAAuB,CAACC,kBAAmBA,EAAmBC,yBAA0BA,EAA0BxK,YAAY,4BAC/HL,IAAAC,cAAC+L,GAAuB,CAACC,SAAUA,EAAU5L,YAAY,4BACzDL,IAAAC,cAACiM,GAA2B,CAACC,UAAWA,EAAWC,eAAgBA,EAAgBC,cAAeA,EAAehM,YAAY,gCAC7HL,IAAAC,cAAC0L,GAAqB,CAACC,UAAWA,EAAWC,aAAcA,EAAcxL,YAAY,6B,ixCCoF9EkM,IC/HAA,GD0Bf,SAAmC1O,GAAoB,IAoDjD2O,EApDgCC,EAAa5O,EAAb4O,cAC9BtS,EAAWuF,cACX0E,EAAWsI,cAiBfhD,EAAA1I,GAREpB,aAAY,SAACC,GAAK,MAAK,CACzBC,IAAUC,gCAAgCF,GACzC4M,GAAmC,cAAlBA,EAAqE3M,IAAU6M,cAAc9M,EAAO4M,GAApE3M,IAAU8M,kBAAkB/M,GAC9EC,IAAUqB,qCAAqCtB,GAC/CC,IAAU+M,sCAAsChN,GAChDC,IAAUgN,2CAA2CjN,GACrDC,IAAUiN,2CAA2ClN,GACrDC,IAAUkN,oBAAoBnN,OAC9B,GAfAF,EAAmB+J,EAAA,GACnBuD,EAAUvD,EAAA,GACVwD,EAAkBxD,EAAA,GAClBsB,EAAkCtB,EAAA,GAClCyD,EAAkCzD,EAAA,GAClC0D,EAAkC1D,EAAA,GAClC2D,EAAiB3D,EAAA,GAWbzR,EAAc0H,EAAoB1F,KAAI,SAACrB,GAAK,OAAKA,EAAQ,KAUzDgS,EAAoB,WAAH,OAAU3O,YAAuBhE,EAAakC,IAAad,YAAgBpB,IAC5F4S,EAA2B,WAAH,OAAU5O,YAAuBhE,EAAakC,IAAaR,YAAuB1B,IAK1GpL,EAAWsL,IAAKC,cAChBwJ,EAAe/U,aAAQ,EAARA,EAAUmD,KACzB6R,EAAQD,IAAiBtJ,IAAYwJ,IACrCC,EAAWH,IAAiBtJ,IAAY0J,QAAUJ,IAAiBtJ,IAAY2J,cAErF,GAAIJ,GAASE,GAAYlV,WAAU6L,4BACjC,OACEsH,IAAAC,cAAA,OAAKT,UAAW,mCACdQ,IAAAC,cAAC0K,EAAuB,CAACC,kBAAmBA,EAAmBC,yBAA0BA,KAQ/F,IAAKwC,GAAqBjJ,EACxB,IAEEoI,EADgBhH,cAAcC,cAAc,QAAQ6H,wBACxBzT,MA1DZ,GA2DhB,MAAOxL,GACPme,GAAqBS,GAAcM,MA5DnB,QA+DlBf,GAAqBS,GAAcM,MA/DjB,GAiEpB,IACMC,EAAehB,EAbG,IAelBiB,EAAa,CACjBtB,UAvCgB,WAAH,OAAUlQ,YAAuBhE,EAAakC,IAAaD,YAAQC,IAwChFiS,eAvCqB,WAAH,OAAUnQ,YAAuBhE,EAAakC,IAAaM,YAAaxC,EAAakC,IAwCvGkS,cAvCoB,WAAH,OAAUpQ,YAAuBhE,EAAakC,IAAasB,YAAYxD,EAAakC,EAAU+S,IAwC/GrC,2BACAD,oBACAqB,SAvCe,WAAH,OAAUhQ,YAAuBhE,EAAakC,KAT1DA,EAASC,IAAQC,aAAaC,IAAaC,iCAC3CJ,EAASC,IAAQI,YAAY,sBAgD7BoR,UAvCgB,WAAH,OAAU3P,YAAuBhE,EAAakC,IAAa6B,YAAe/D,IAwCvF4T,aAvCmB,WAAH,OAAU5P,YAAuBhE,EAAakC,IAAa0B,YAAkB5D,IAwC7FA,eAGF,OAfqBuU,EAbG,IA6BfxM,IAAAC,cAACqL,GAAsBpB,GAAA,GACxBuD,EAAU,CACdlC,wCAAyC4B,KAIzCK,EACKxN,IAAAC,cAACqM,GAAsBpC,GAAA,GACxBuD,EAAU,CACdzC,mCAAoCoC,KAMtCpN,IAAAC,cAAC8L,GAAiB7B,GAAA,GACZuD,EAAU,CACdzC,mCAAoCA,M,2iCE/G1C,SAAS0C,GAAcC,EAAmB1J,GAKxC,IAJA,IAAI2J,EAAe,GACbC,EAAcF,EAAkBrP,MAAK,SAACtP,EAAGuP,GAAC,OAAKvP,EAAIuP,KACrDuP,EAAY,KAEPthB,EAAI,EAAGqhB,EAAY3gB,OAASV,EAAGA,IAClCqhB,EAAYrhB,EAAI,KAAOqhB,EAAYrhB,GAAK,EAC1CshB,EAA0B,OAAdA,EAAqBA,EAAYD,EAAYrhB,GAClC,OAAdshB,GACTF,EAAe,GAAHrU,OAAMqU,GAAYrU,OAAG0K,EAAW6J,GAAU,KAAAvU,OAAI0K,EAAW4J,EAAYrhB,IAAG,MACpFshB,EAAY,MAEZF,EAAe,GAAHrU,OAAMqU,GAAYrU,OAAG0K,EAAW4J,EAAYrhB,IAAG,MAI/D,OAAOohB,EAAa9Z,MAAM,GAAI,GAGhC,IAAMia,GAAmB,SAAHlQ,GAA8C,IAAxCiG,EAAkBjG,EAAlBiG,mBAAoB2I,EAAa5O,EAAb4O,cACvCne,EAAqB0S,GAAhBF,cAAgB,GAApB,GACF3G,EAAWuF,cAYfgK,EAAA1I,GALEpB,aAAY,SAACC,GAAK,MAAK,CACzBC,IAAUC,gCAAgCF,GAC1CC,IAAUiB,kBAAkBlB,EAAO,mBACnCC,IAAU6J,cAAc9J,GACxBC,IAAUyE,0BAA0B1E,OACpC,GATAF,EAAmB+J,EAAA,GACnBsE,EAAUtE,EAAA,GACVzF,EAAUyF,EAAA,GACVnF,EAAyBmF,EAAA,GAQrBuE,EAAqBP,GAAc/N,EAAqBsE,GAEEW,EAAA5D,GAA5B6D,mBAASoJ,GAAmB,GAAzDC,EAAUtJ,EAAA,GAAEuJ,EAAavJ,EAAA,GACgDI,EAAAhE,GAA5B6D,mBAASoJ,GAAmB,GAAzEG,EAAkBpJ,EAAA,GAAEqJ,EAAqBrJ,EAAA,GAEhD0B,qBAAU,WACRyH,EAAcT,GAAc/N,EAAqBsE,MAChD,CAACkK,EAAexO,EAAqBmE,EAAoBG,IAE5D,IAkCMqK,EAAgC,WACpCnU,EAASC,IAAQ0O,4BAA2B,KAG9C,OAAOkF,EAAa,KAClBhO,IAAAC,cAAA,OAAKT,UAAW,4BAA6BmD,eAAc,mBACxDmB,EACC9D,IAAAC,cAAA,OAAKT,UAAW,oBACdQ,IAAAC,cAAA,OAAKT,UAAW,YACf+E,GAA6BvE,IAAAC,cAAC8L,GAAiB,CAACU,cAAeA,IAChEzM,IAAAC,cAAA,OAAKT,UAAW,yBACdQ,IAAAC,cAAA,SACEsO,OA9CG,SAAClgB,GACd,IAAMmgB,EAAsBngB,EAAEia,OAAOxZ,MAAMoL,QAAQ,KAAM,IACnDuU,EAASD,EAA2BE,YAAuBF,EAAqBvK,GAAjD,GAC/B0K,EAAcF,EAAMxU,KAAI,SAACd,GAAI,OAAKA,EAAO,KAE/C,GAAIsV,EAAMvhB,SAAWshB,EAAqB,CACxCrU,EAASC,IAAQmB,0BAA0BoT,IAE3C,IAAMC,EAAgBlB,GAAc/N,EAAqBsE,GAEzDkK,EAAcS,GACdP,EAAsBO,QAEtBT,EAAcC,GAGZzO,EAAoBzS,OAAS,IAAMqX,GAGrCc,YAAW,WACTiJ,MACC,MA0BKO,SAtBa,SAACxgB,GACxB8f,EAAc9f,EAAEia,OAAOxZ,QAsBbA,MAAOof,EACPY,YAAaC,IACbC,aAAY1gB,EAAE,0CACdkR,UAAU,aACVxP,KAAK,SAEPgQ,IAAAC,cAAA,OAAKT,UAAW,0BACZ+E,EAQAvE,IAAAC,cAACkC,IAAM,CACL3B,IAAK,aACL7F,MAAO,uCACPuF,QArCuB,WACrC/F,EAASC,IAAQmB,0BAA0B,CAACpD,IAAKuB,iBAAmB,KACpES,EAASC,IAAQ0O,4BAA2B,KAoC9BzI,YAAa,0BAXfL,IAAAC,cAACkC,IAAM,CACL3B,IAAK,yBACL7F,MAAO,wCACPuF,QAASoO,EACTjO,YAAa,wBAarB,OAKV0N,GAAiBtN,UAAY,CAC3BuN,WAAYtN,IAAUuO,KACtBhL,WAAYvD,IAAUwO,QAAQxO,IAAUyO,QACxCC,sBAAuB1O,IAAU2O,KACjCvL,mBAAoBpD,IAAUuO,MAGjBlB,IC5IAA,GD4IAA,G,4BEjIFuB,GAAgB,SAACC,EAAYC,GAAW,IAAEC,IAAexa,UAAA/H,OAAA,QAAAkI,IAAAH,UAAA,KAAAA,UAAA,GAAO,OAAK,SAACkF,GAGjF,OAFAA,EAASC,IAAQI,YAAYF,IAAaoV,gBAEnC,IAAIlc,SAAQ,SAACpC,EAASmD,GAC3B4D,IAAKmX,cAAcC,EAAYC,GAAale,MAAK,SAACqe,GAChDxV,EAASC,IAAQC,aAAaC,IAAaoV,gBAC3CvX,IAAKoR,eAAeiG,GAEhBC,GACFG,aAAUC,KAAOC,gBAAiBH,GAGpCve,EAAQue,MACR,OAAO,SAACxa,GACRZ,EAAOY,GACPgF,EAASC,IAAQC,aAAaC,IAAaoV,wB,wvECJjD,IA6lBeK,GAplBS,SAAHlS,GAA6C,IAAvC6G,EAAa7G,EAAb6G,cAAesL,EAAiBnS,EAAjBmS,kBAoCvCtG,EAAA1I,GAnBGpB,aACF,SAACC,GAAK,MAAK,CACTC,IAAUmQ,cAAcpQ,EAAO,aAC/BC,IAAUiB,kBAAkBlB,EAAO,mBACnCC,IAAU/D,cAAc8D,GACxBC,IAAUpG,eAAemG,GACzBC,IAAUC,gCAAgCF,GAC1CC,IAAUoQ,6BAA6BrQ,GACvCC,IAAUqQ,gCAAgCtQ,GAC1CC,IAAUsQ,2BAA2BvQ,GACrCC,IAAUiB,kBAAkBlB,EAAO,oBACnCC,IAAUiB,kBAAkBlB,EAAO,wBACnCC,IAAU8J,aAAa/J,GACvBC,IAAU+J,mBAAmBhK,GAC7BC,IAAU/D,cAAc8D,EAAO,GAC/BC,IAAUkK,2BAA2BnK,GACrCC,IAAUuQ,kDAAkDxQ,MAE9D2B,KACD,IAlCC8O,EAAe5G,EAAA,GACfsE,EAAUtE,EAAA,GACV6G,EAAU7G,EAAA,GACVjI,EAAWiI,EAAA,GACX/J,EAAmB+J,EAAA,GACnB8G,EAAyB9G,EAAA,GACzB+G,EAA4B/G,EAAA,GAC5BgH,EAAuBhH,EAAA,GACvBiH,EAA0BjH,EAAA,GAC1BkH,EAAyBlH,EAAA,GACzBE,EAAYF,EAAA,IACZG,EAAkBH,EAAA,IAClBmH,EAAqCnH,EAAA,IACrCjF,EAAuBiF,EAAA,IACvBoH,EAAmBpH,EAAA,IAsBdpb,EAAqB0S,GAAhBF,cAAgB,GAApB,GAEFiQ,EAAUC,mBACVC,EAAgBD,iBAAO,IACvBE,EAASF,iBAAO,IAChBG,EAAsBH,iBAAO,MAEwBpM,EAAA5D,GAAf6D,oBAAS,GAAM,GAApDuM,EAAcxM,EAAA,GAAEyM,EAAiBzM,EAAA,GACII,EAAAhE,GAAd6D,oBAAS,GAAK,GAArCR,EAAOW,EAAA,GAAEsM,EAAUtM,EAAA,GACauM,EAAAvQ,GAAX6D,mBAAS,GAAE,GAAhC/K,EAAMyX,EAAA,GAAEC,EAASD,EAAA,GACaE,EAAAzQ,GAAX6D,mBAAS,GAAE,GAA9BhL,EAAK4X,EAAA,GAAEC,EAAQD,EAAA,GACkDE,EAAA3Q,GAAd6D,mBAAS,MAAK,GAAjE+M,EAAqBD,EAAA,GAAEE,GAAwBF,EAAA,GACuBG,GAAA9Q,GAAf6D,oBAAS,GAAM,GAAtEkN,GAAwBD,GAAA,GAAEE,GAAyBF,GAAA,GACDG,GAAAjR,GAAX6D,mBAAS,GAAE,GAAlDqN,GAAeD,GAAA,GAAEE,GAAkBF,GAAA,GACSG,GAAApR,GAAf6D,oBAAS,GAAM,GAA5CwN,GAAUD,GAAA,GAAEE,GAAaF,GAAA,GAEuBG,GAAAvR,GAAb6D,mBAAS,KAAI,GAAhDd,GAAawO,GAAA,GAAEC,GAAgBD,GAAA,GACuBE,GAAAzR,GAAX6D,mBAAS,GAAE,GAAtD6N,GAAiBD,GAAA,GAAEE,GAAoBF,GAAA,GACGG,GAAA5R,GAAX6D,mBAAS,GAAE,GAA1CgO,GAAWD,GAAA,GAAEE,GAAcF,GAAA,GAC5BG,GAAwC,IAA5BtO,EAAgCoM,EAAwCN,EAEpFpW,GAAWuF,cAMbsT,GAAqB,GAuBnB3P,GAAoB,SAAC5D,GACzB,IAAMwT,EAAiB/B,EAAOgC,SAAWhC,EAAOgC,QAAQzT,IAAcyR,EAAOgC,QAAQzT,GAAWc,QAChG,GAAK0S,EAAL,CAIA,IAAMlN,EAAatG,EAAY,EACzB0T,EAAYhb,IAAKib,aAAarN,GAGpCsN,EA/BuB,SAACF,EAAWG,GACnC,IAAIzZ,EACAC,EACAqM,EAYJ,OAVIgN,EAAYG,GACdnN,EAAQgN,EAAYpP,GACpBlK,EAAQkK,GACRjK,EAASwM,KAAKiN,MAAMD,EAAanN,KAEjCA,EAAQmN,EAAavP,GACrBlK,EAAQyM,KAAKiN,MAAMJ,EAAYhN,GAC/BrM,EAASiK,IAGJ,CACLlK,QACAC,UAcwB0Z,CAAiBL,EAFxBhb,IAAKsb,cAAc1N,IAE9BlM,EAAKwZ,EAALxZ,MAAOC,EAAMuZ,EAANvZ,OAET4Z,EAAcT,EAAexN,cAAc,sBAAwB5Y,SAASoT,cAAc,UAChGyT,EAAYlU,UAAY,mBACxBkU,EAAY9Q,MAAM+Q,SAAW,GAAHpa,OAAMwK,GAAa,MAC7C2P,EAAY9Q,MAAMgR,UAAY,GAAHra,OAAMwK,GAAa,MAC9C,IAAM8P,EAAMH,EAAYI,WAAW,MAE/BC,EAAO,EACPpb,EAAWR,IAAK6b,oBAAoBjO,GACpCpN,EAAW,IACbA,GAAY,GAEd,IAAMsb,EAAatnB,OAAO+K,KAAKwc,sBAE3Bvb,EAAW,GAAM,GACnB+a,EAAY7Z,MAAQA,EACpB6Z,EAAY5Z,OAASA,EACrBia,EAAOL,EAAY7Z,MAAQsZ,EAC3BY,GAAQE,IAERP,EAAY7Z,MAAQC,EACpB4Z,EAAY5Z,OAASD,EAErBka,EAAOL,EAAY5Z,OAASqZ,EAC5BY,GAAQE,GAGVhB,EAAelmB,YAAY2mB,GAC3Bvb,IAAKgc,6BAA6BN,EAAKE,EAAMpb,GAE7C,IAAIlM,EAAU,CACZsZ,aACAqO,eAAgBV,GAGZzN,EAAQgN,EAAexN,cAAc,eAE3C,GAAIQ,EACFxZ,EAAOgJ,MAAA,GACFhJ,GAAO,IACV4nB,qBAAsB1b,EACtB2b,mBAAoBrO,IAMnB+M,GAAmBjN,KACtBiN,GAAmBjN,GAAcwO,IAASpc,IAAKqc,gBAAiB,OAGlEC,EADsBzB,GAAmBjN,IAC3BtZ,KAwHhB,GArHAia,qBAAU,WACR,IAAMgO,EAAmB,WACvBpD,GAAW,IAGPqD,EAAsB,SAACC,GACtBA,GACHtD,GAAW,IAITuD,EAAmB,WAAM,IAAAC,EACS,kBAAhB,QAAlBA,EAAA3c,IAAKC,qBAAa,IAAA0c,OAAA,EAAlBA,EAAoBC,WACtB1D,GAAkB,GAElBA,GAAkB,GAEpB2B,GAAqB,GACrB7Y,GAASC,IAAQmB,0BAA0B,MAGvCyZ,EAAiB,WACjB7D,EAAoB+B,UACtB/a,IAAKoR,eAAe4H,EAAoB+B,SACxC/B,EAAoB+B,QAAU,OAgBlC,OAZA/a,IAAKwP,iBAAiB,iBAAkB+M,GACxCvc,IAAKwP,iBAAiB,oBAAqBgN,GAC3Cxc,IAAKwP,iBAAiB,iBAAkBkN,GACxC1c,IAAKwP,iBAAiB,eAAgBqN,GAKlC7c,IAAKC,eACPyc,IAGK,WACL1c,IAAKyP,oBAAoB,iBAAkB8M,GAC3Cvc,IAAKyP,oBAAoB,oBAAqB+M,GAC9Cxc,IAAKyP,oBAAoB,iBAAkBiN,GAC3C1c,IAAKyP,oBAAoB,eAAgBoN,MAE1C,IAEHtO,qBAAU,WACR,IAAMC,EAAiB,SAACC,GACtB,GAAKA,EAAL,CAGA,IAAIqO,EAAsB5e,MAAMK,KAAKiJ,GAEjCiH,EAAQI,UACViO,EAAsBA,EAAoB1f,QAAO,SAACkK,GAAS,OAAiD,IAA5CmH,EAAQI,QAAQ7G,QAAQV,EAAY,OAGlGmH,EAAQE,QACVmO,EAAsBA,EAAoBhb,KAAI,SAACwF,GAAS,OAAMmH,EAAQE,MAAMrH,EAAY,GAAKmH,EAAQE,MAAMrH,EAAY,GAAK,EAAIA,MAIlI,IAAMyV,EAAoBtO,EAAQG,OAAUH,EAAQG,MAAM,GAAK,GAAMkO,EAAoB,GACtD,IAA/BA,EAAoB/nB,QAAgBgoB,IACtCD,EAAsBrO,EAAQG,MAAM9M,KAAI,SAAC8L,GAAU,OAAKA,EAAa,MAGvE5L,GAASC,IAAQmB,0BAA0B0Z,MAK7C,OAFA9c,IAAKwP,iBAAiB,eAAgBhB,GAE/B,kBAAMxO,IAAKyP,oBAAoB,eAAgBjB,MACrD,CAAChH,IAEJ+G,qBAAU,WAAM,IAAAyO,EACC,QAAfA,EAAApE,EAAQmC,eAAO,IAAAiC,GAAfA,EAAiBC,YAAY9O,KAAK+O,OAAO5T,EAAc,GAAKyQ,KAC5D,IAAMoD,EAAsB,SAAC3Y,GAC3B,IAAM4Y,EAAU,GAEhB5Y,EAAOnP,SAAQ,SAACgoB,GACd,IAAM/V,EAAY+V,EAAMrY,WAAa,GAChCqY,EAAMC,UAAYF,EAAQpV,QAAQV,IAAc,IAGrD8V,EAAQ7nB,KAAK+R,GAEb4D,GAAkB5D,QAIhBiW,EAAsB,SAAC3P,GAAe,IAAA4P,EACpClW,EAAYsG,EAAa,EAChB,QAAf4P,EAAA5E,EAAQmC,eAAO,IAAAyC,GAAfA,EAAiBP,YAAY9O,KAAK+O,MAAM5V,EAAYyS,MAOtD,OAJA/Z,IAAKwP,iBAAiB,oBAAqB+N,GAC3Cvd,IAAKwP,iBAAiB,oBAAqB2N,GAC3Cnd,IAAKwP,iBAAiB,mBAAoB2N,GAEnC,WACLnd,IAAKyP,oBAAoB,oBAAqB8N,GAC9Cvd,IAAKyP,oBAAoB,oBAAqB0N,GAC9Cnd,IAAKyP,oBAAoB,mBAAoB0N,MAE9C,CAACvR,GAAemO,KAEnBxL,qBAAU,YACJkD,GAAgBC,KAClB1P,GAASC,IAAQmB,0BAA0B,KAC3CpB,GAASC,IAAQ0O,4BAA2B,OAE7C,CAACc,EAAcC,IAGdmE,GAAcoD,IAAoBd,IAAoB5L,EACxD,OAAO,KAET,IAAMkR,GAAY,WAChBtD,IAAc,GACdT,GAAyB,OAGrBgE,GAAoB,SAACjd,EAAOkd,EAAQC,GACxC,IAC2EC,EADrEC,GAAM,IAAIC,MAAOC,UACvB,OAAIvd,EAAQma,GAAY,GAAKna,EAAQ,GAAKqd,EAAMvD,IAAqBqD,GACpD,QAAfC,EAAAjF,EAAQmC,eAAO,IAAA8C,GAAfA,EAAiBZ,YAAY9O,KAAK+O,OAAOzc,EAAQkd,GAAU5D,KAC3DS,GAAqBsD,GACdrd,EAAQkd,GAEVld,GAGHgL,GAAa,SAACvV,EAAGuK,GAIrB,GAFAvK,EAAE+nB,iBACF/nB,EAAEgoB,kBACG5F,GAAiCD,EAAtC,CAIA,IAAM8F,EAAYjoB,EAAEia,OAAOgF,wBAGzB0E,GAFEE,GAAkB,IAEQ7jB,EAAEkoB,MAAQD,EAAUE,EAAIF,EAAUzc,MAAQ,KAE1CxL,EAAEooB,MAAQH,EAAUhmB,EAAIgmB,EAAUxc,OAAS,IAGzE+X,GAAyBjZ,GACzB,IACA8d,EAD6ClR,cAAcC,cAAc,qCACd6H,wBAAnDhd,EAAComB,EAADpmB,EAAGqmB,EAAMD,EAANC,OAEPtoB,EAAEooB,MAAQnmB,EAAIsmB,IAChB9D,GAAe+C,GAAkBjd,GAAQ,EAAG,MACnCvK,EAAEooB,MAAQE,EAASC,KAC5B9D,GAAe+C,GAAkBjd,EAAO,EAAG,QAIzCie,GAAa,WACjB/D,GAAe+C,GAAkBhD,GAAa,EAAG,OAE7CiE,GAAW,WACfhE,GAAe+C,GAAkBhD,IAAc,EAAG,OAG9ClP,GAAc,SAACtV,EAAGuK,GACtBka,GAAela,GACf0Z,IAAc,GACd,ID/VgCra,EC+V1B8e,EAAuBpX,EAAoBwH,MAAK,SAAC3a,GAAC,OAAKA,IAAMoM,KAC7Doe,EAAcD,EAAuBpX,EAAoB1F,KAAI,SAACrB,GAAK,OAAKA,EAAQ,KAAK,CAACA,EAAQ,GACpGgX,aAAUC,KAAOoH,mBAEjB5oB,EAAE6oB,aAAaC,QAAQ,OAAQ,IAE3BH,EAAY9pB,OAAS,GAEvBmB,EAAE6oB,aAAaE,aAAa,IAAIC,MAAS,EAAG,GAG1C7G,GAA6BE,IAC/BriB,EAAE6oB,aAAaI,WAAa,OAC5BjpB,EAAE6oB,aAAaK,cAAgB,MAC/BlpB,EAAE6oB,aAAaC,QA5ViB,6BA4VsBxqB,OAAO6qB,aAAa3R,ID7W5C5N,EC8WV+e,ED5WxBrqB,OAAO8qB,qBAAuBvc,aAA4BjD,GAC1DtL,OAAO+qB,eAAiBzf,GC8WjB8e,GACH5c,GAASC,IAAQmB,0BAA0B,CAAC3C,KAG9CT,IAAKoR,eAAe3Q,EAAQ,IAGxB+e,GAAS,SAACtpB,GACdA,EAAE+nB,iBACF,IAEIwB,EAFIC,EAAUxpB,EAAE6oB,aAAZW,MACFC,EAAW/F,GAA2BH,EAAwB,EAAIA,EAAwB,EAE3FmG,MAEHH,EAA+BvpB,EAAE6oB,aAAac,QA9Wd,+BAgXlC,IDvW2CC,EAAUzI,ECuW/C0I,EACHN,GAAgCjrB,OAAO6qB,aAAa3R,KAAO+R,GAAiCC,EAAM3qB,OAC/FirB,EAAmB1W,EAAc,EAEvC,GAAI+O,GAA6B0H,EAC3BN,GAAgCjrB,OAAO6qB,aAAa3R,KAAO+R,EAC7Dzd,ID7WuC8d,EC6WCL,ED7WSpI,EC6WqBsI,ED7WL,SAAC3d,GACxE,OAAO,IAAI3G,SAAQ,SAACpC,EAASmD,GAC3B,IAAM6jB,EAAuBzrB,OAAO0rB,OAAOxrB,SAAS4Y,cAAc,IAADlM,OAAK0e,IACjEG,IACHE,QAAQC,KAAK,8CACbhkB,KAGF,IAAMkjB,EAAuBW,EAAqBI,cAAcf,qBAC3DA,IACHa,QAAQC,KAAK,4DACbhkB,KAGF4F,EAASC,IAAQI,YAAYF,IAAaoV,gBAC1C+H,EAAqBnmB,MAAK,SAACmnB,GACzBte,EAASmV,GAAcmJ,EAAYjJ,GAAa,IAAQle,MAAK,SAAAuM,GAAyB,IAAtB6a,EAAQ7a,EAAR6a,SAAUjK,EAAK5Q,EAAL4Q,MACxEmB,aAAUC,KAAOC,gBAAiB,CAAE4I,WAAUjK,MAAO2J,EAAqBI,cAAcd,iBACxFvd,EAASC,IAAQC,aAAaC,IAAaoV,gBAC3Cte,EAAQ,CAAEsnB,WAAUjK,gBAEtB,OAAO,SAACtZ,GACRgF,EAASC,IAAQC,aAAaC,IAAaoV,gBAC3Cnb,EAAOY,YCuVI0iB,EAAM3qB,QACfmJ,MAAMK,KAAKmhB,GAAOrqB,SAAQ,SAAC2N,GACzBhB,GAASmV,GAAcnU,EAAM2c,YAG5B,GAAIrH,IAAiCyH,GACZ,OAA1BtG,EAAgC,CAClC,IAAM+G,EAAmB5G,GAA2BH,EAAwB,EAAIA,EAAwB,EAElGgH,EADuBjZ,EAAoBwH,MAAK,SAAC3a,GAAC,OAAKA,IAAM2rB,KAClBxY,EAAoB1F,KAAI,SAACzN,GAAC,OAAKA,EAAI,KAAK,CAACiV,GAC1F0P,EAAoB+B,QAAUyF,EAAmBC,EAAkBrjB,QAAO,SAAC9E,GAAC,OAAKA,EAAIkoB,KAAkBzrB,OACvGiL,IAAK2D,UAAU8c,EAAmBD,GAElC,IADA,IAAME,EAAsB,GACnBC,EAAS,EAAGA,EAASF,EAAkB1rB,OAAQ4rB,IACtDD,EAAoBnrB,KAAKyjB,EAAoB+B,QAAU4F,GAEzDlJ,aAAUC,KAAOkJ,kBAAmB,CAAEC,sBAAuBJ,EAAmBK,sBAAuBJ,EAAqBK,mBAAoBL,EAAoB3rB,SAGxK2kB,GAAyB,MACzBS,IAAc,IAGV9O,GAAS,SAAC/D,EAAWc,EAASsF,GAC7BsT,GAAc1Z,IAAe2Z,GAAe3Z,KAC/CyR,EAAOgC,QAAQzT,GAAa,CAC1Bc,UACA0E,QAAQ,GAGVgM,EAAciC,QAAQxlB,KAAK,CACzB+R,YACAoG,SAKAwT,GAA0B,SAAC5Z,GAC/B,IAAM7G,EAAQ0gB,GAAqB7Z,IACpB,IAAX7G,GACFqY,EAAciC,QAAQqG,OAAO3gB,EAAO,IAIlCugB,GAAgB,SAAC1Z,GAAS,IAAA+Z,EAAA,OAA8B,QAA9BA,EAAKtI,EAAOgC,QAAQzT,UAAU,IAAA+Z,OAAA,EAAzBA,EAA2BvU,QAE1DmU,GAAiB,SAAC3Z,GAAS,OAA0C,IAArC6Z,GAAqB7Z,IAErD6E,GAAW,SAAC7E,GAChB,IAAM7G,EAAQ0gB,GAAqB7Z,IACpB,IAAX7G,IACFT,IAAKshB,oBAAoBxI,EAAciC,QAAQta,GAAOiN,IACtDoL,EAAciC,QAAQqG,OAAO3gB,EAAO,KAmBlC0gB,GAAuB,SAAC7Z,GAAS,OAAKwR,EAAciC,QAAQwG,WAAU,SAACC,GAAW,OAAKA,EAAYla,YAAcA,MAEjHiE,GAAW,SAACjE,GAAc,IAAAma,EAAAC,EAC9BvV,GAAS7E,GACT,IAAMqa,EAAoC,QAA5BF,EAAG1I,EAAOgC,QAAQzT,UAAU,IAAAma,GAAS,QAATC,EAAzBD,EAA2BrZ,eAAO,IAAAsZ,OAAT,EAAzBA,EAAoCtsB,iBAAiB,UAClEusB,WAAU5sB,QACZ4sB,EAAStsB,SAAQ,SAAC0B,GAChBA,EAAE4K,OAAS,EACX5K,EAAE2K,MAAQ,KAIVmZ,GAAmBvT,IACrBuT,GAAmBvT,GAAWsa,SAEhC7I,EAAOgC,QAAQzT,GAAa,MAGxBua,GAAmB,SAAHpb,GAA8B,IAAxBhG,EAAKgG,EAALhG,MAAOlE,EAAGkK,EAAHlK,IAAKkO,EAAKhE,EAALgE,MAChCpD,EAAYsD,IAAW,CAC3BmX,oBAAqB/H,GAAkB,EACvCgI,KAAK,IAEDC,IAA0BvQ,GAAgBC,GAEhD,OACE7J,IAAAC,cAAA,OAAKma,KAAK,MAAMpL,aAAW,MAAMxP,UAAWA,EAAW9K,IAAKA,EAAKkO,MAAOA,GACrE,IAAIvM,MAAM6b,IAAiBmI,OAAOpgB,KAAI,SAACmP,EAAGkR,GACzC,IAAMC,EAAa3hB,EAAQsZ,GAAkBoI,EACvCE,EAAmBL,IAA0B3J,GAA6BC,GAC1EgK,EAAkBD,GAAoB5I,IAA0B2I,EAEtE,OAAOA,EAAaxH,GAClB/S,IAAAC,cAACD,IAAMyK,SAAQ,CAAC/V,IAAK6lB,IACjBrI,GAAkB,GAAoB,IAAfqI,IAAqBE,GAAmB1I,IAA4B/R,IAAAC,cAAA,OAAKvL,IAAG,gBAAA6E,OAAkBghB,GAAc/a,UAAU,yBAC/IQ,IAAAC,cAAA,OAAKvL,IAAK6lB,EAAYH,KAAK,OAAOxE,UAAWA,GAAWpW,UAAU,qBAAqBkb,cAAe,SAACrsB,GAAC,OAAKyiB,IAlD5FrR,EAkDmI8a,GAlD1II,EAkDuItsB,GAjDrJ+nB,iBACNje,IAAKoR,eAAe9J,EAAY,GAC3BE,EAAoBgC,SAASlC,IAChCtF,GAASC,IAAQmB,0BAA0B,CAACkE,UAG1CmK,GAAgBC,IAIpB1P,GAASC,IAAQwgB,8CAA8C,CAAEC,KAAMF,EAAMpE,MAAOuE,MAAO,OAAQC,IAAKJ,EAAMlE,SAC9Gtc,GAASC,IAAQ4gB,aAAa,CAAC1gB,IAAaC,gCAZzB,IAACogB,EAAOlb,IAmDfO,IAAAC,cAACkD,EAAS,CACRU,YAAa2W,EACbpX,WAAYzD,EAAoBgC,SAAS4Y,GACzC3hB,MAAO2hB,EACPlW,QAASA,EACTb,OAAQA,GACRc,SAAUA,GACVZ,SAAUA,GACVC,YAAaA,GACbC,WAAYA,GACZL,gBAAiB8V,GACjBhW,kBAAmBA,GACnBS,mBAAoBqW,EACpBpW,cAAeA,GACfW,cAAeA,KAGlB+V,IAAoB1I,IAA4B/R,IAAAC,cAAA,OAAKvL,IAAG,gBAAA6E,OAAkBghB,GAAc/a,UAAU,0BAEnG,UAYNyb,GAAwB,WAC5B9I,GAAmB7L,KAAKC,IA7fR,GA6fyBD,KAAK4C,IAAI,EAAG5C,KAAK+O,MAAMxb,EAAQkK,QAGpEmX,GAAkBvK,EAA6B3a,OAAO+N,IAAiB,GAAK/N,OAAO+N,IAAiB,GACpGD,KAAuB8F,GAAgBC,GACvCsR,GAA+B,CACnC,OAAU,GAAF5hB,OAjgBY,GAigBQ,OAG9B,OACEyG,IAAAC,cAACD,IAAMyK,SAAQ,MACXmG,GAA6B5Q,IAAAC,cAAA,OAAK0C,eAAa,uBAAuBnD,UAAU,8BAChFQ,IAAAC,cAACkC,IAAM,CACL3B,IAAI,sBACJ7F,MAAM,iBACNygB,qBAAmB,EACnBlb,QAAS,WACH6D,GAAgB/N,OA/gBR,MA+gBkCA,OA/gBlC,QAghBVwc,GAAiBzO,GAAgB/N,OAhhBvB,OAihBVilB,OAGJ5a,YAAY,uBAEdL,IAAAC,cAAA,SACEma,KAAK,SACLpqB,KAAK,QACLgf,aAAW,wBACXzI,IA5hBa,MA6hBb2C,IA5hBa,OA6hBbpa,MAAOiV,GACPsX,gBA/hBa,MAgiBbC,gBA/hBa,OAgiBbC,gBAAexX,GACf8K,SAAU,SAACxgB,GACTmkB,GAAiBxc,OAAO3H,EAAEia,OAAOxZ,QACjCmsB,MAEFhkB,KApiBc,KAqiBduI,UAAU,mBACVqG,GAAG,kBAEL7F,IAAAC,cAACkC,IAAM,CACL3B,IAAI,qBACJ7F,MAAM,gBACNygB,qBAAmB,EACnBlb,QAAS,WACH6D,GAAgB/N,OA7iBR,MA6iBkC,OAC5Cwc,GAAiBzO,GAAgB/N,OA9iBvB,OA+iBVilB,OAGJ5a,YAAY,uBAGhBL,IAAAC,cAACub,IAAO,CAACC,QAAM,EAACC,SA9DE,SAAHC,GAAmB,IAAbF,EAAME,EAANF,OACvBjK,EAAUiK,EAAO3hB,QACjB4X,EAAS+J,EAAO5hB,OAChBsY,GAAmB7L,KAAKC,IAzfR,GAyfyBD,KAAK4C,IAAI,EAAG5C,KAAK+O,MAAMoG,EAAO5hB,MAAQkK,QA2DpCrP,IAAKqP,KAC3C,SAAA6X,GAAA,IAAGC,EAAUD,EAAVC,WAAU,OACZ7b,IAAAC,cAAA,OAAKT,UAAS,yBAAAjG,OAA2BmL,GAAiBmB,GAAG,mCAAmClD,eAAa,kBAAkBgV,OAAQA,GAAQmE,IAAKD,GAClJ7b,IAAAC,cAAA,OAAKT,UAAU,oCACZ6S,GACCrS,IAAAC,cAAA,OAAKT,UAAU,0BAA0BoE,WAAYkT,GAAUlU,MAAOuY,KAAuC,GAE/Gnb,IAAAC,cAAC8b,IAAI,CACHD,IAAK/K,EACLjX,OAAQA,EACRD,MAAOA,EACPmiB,UAAWd,GAGXe,SAAU3V,KAAK4V,KAAKnJ,GAAYb,IAChCiK,YAAanC,GACboC,iBAAkB,EAClB5c,UAAW,iBACXoD,MAAO,CAAEyZ,QAAS,QAElBC,cAAehW,KAAK+O,OAAO5T,EAAc,GAAKyQ,IAC9CkI,KAAK,OACLpL,aAAY1gB,EAAE,+BAEf+jB,GACCrS,IAAAC,cAAA,OAAKT,UAAU,0BAA0BoE,WAAYiT,GAAYjU,MAAKnN,MAAA,GAAO0lB,IAA4B,IAAE,OAAU,WAAmB,QAMlJnb,IAAAC,cAAC8N,GAAgB,CAACjK,mBAAoBA,GAAoB2I,cAAeuD,GAAqBtL,MC9mBrFqL","file":"chunks/35.chunk.js","sourcesContent":["var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../node_modules/sass-loader/dist/cjs.js!./LeftPanelPageTabsContainer.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","import extractPagesWithAnnotations from 'helpers/extractPagesWithAnnotations';\nimport core from 'core';\nimport { saveAs } from 'file-saver';\nimport actions from 'actions';\nimport i18next from 'i18next';\nimport { workerTypes } from 'constants/types';\nimport { redactionTypeMap } from 'constants/redactionTypes';\nimport DataElements from 'constants/dataElement';\nimport { createAnnouncement } from './accessibility';\n\nconst getNewRotation = (curr, counterClockwise = false) => {\n  const { E_0, E_90, E_180, E_270 } = window.Core.PageRotation;\n  switch (curr) {\n    case E_270:\n      return counterClockwise ? E_180 : E_0;\n    case E_180:\n      return counterClockwise ? E_90 : E_270;\n    case E_90:\n      return counterClockwise ? E_0 : E_180;\n    default:\n      return counterClockwise ? E_270 : E_90;\n  }\n};\n\nconst canRotateLoadedDocument = () => {\n  const doc = core.getDocument();\n  const docType = doc?.type;\n\n  return (\n    workerTypes.PDF === docType ||\n    workerTypes.IMAGE === docType ||\n    (docType === workerTypes.WEBVIEWER_SERVER && !doc.isWebViewerServerDocument())\n  );\n};\n\nconst rotatePages = (pageNumbers, counterClockwise) => {\n  if (canRotateLoadedDocument()) {\n    const rotation = counterClockwise ? window.Core.PageRotation.E_270 : window.Core.PageRotation.E_90;\n    pageNumbers.forEach((index) => {\n      core.rotatePages([index], rotation);\n    });\n  } else {\n    const docViewer = core.getDocumentViewer();\n    const currentRotations = docViewer.getPageRotations();\n    for (const page of pageNumbers) {\n      docViewer.setRotation(getNewRotation(currentRotations[page], counterClockwise), page);\n    }\n  }\n};\n\nconst rotateClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, false);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 90) % 360} degrees`);\n};\n\nconst rotateCounterClockwise = (pageNumbers) => {\n  rotatePages(pageNumbers, true);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.rotatedCounterClockwise')} ${i18next.t('action.rotationIs')} ${(core.getDocument().getPageRotation(core.getCurrentPage()) + 270) % 360} degrees`);\n};\n\nconst insertAbove = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers, width, height);\n};\n\nconst insertBelow = (pageNumbers, width, height) => {\n  core.insertBlankPages(pageNumbers.map((i) => i + 1), width, height);\n};\n\nconst replace = (dispatch) => {\n  dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n  dispatch(actions.openElement('pageReplacementModal'));\n};\n\nconst extractPages = (pageNumbers, dispatch) => {\n  const message = i18next.t('warning.extractPage.message');\n  const title = i18next.t('warning.extractPage.title');\n  const confirmBtnText = i18next.t('warning.extractPage.confirmBtn');\n  const secondaryBtnText = i18next.t('warning.extractPage.secondaryBtn');\n  const extractAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.extracted')}`;\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: () => extractPagesWithAnnotations(pageNumbers).then((file) => {\n      saveAs(file, 'extractedDocument.pdf');\n      createAnnouncement(extractAnnouncement + deleteAnnouncement);\n    }),\n    secondaryBtnText,\n    onSecondary: () => {\n      extractPagesWithAnnotations(pageNumbers).then((file) => {\n        saveAs(file, 'extractedDocument.pdf');\n        core.removePages(pageNumbers).then(() => {\n          dispatch(actions.setSelectedPageThumbnails([]));\n        });\n        createAnnouncement(extractAnnouncement);\n      });\n    },\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst deletePages = (pageNumbers, dispatch, isModalEnabled = true) => {\n  const deleteAnnouncement = `${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.deleted')}`;\n  if (isModalEnabled) {\n    let message = i18next.t('warning.deletePage.deleteMessage');\n    const title = i18next.t('warning.deletePage.deleteTitle');\n    const confirmBtnText = i18next.t('action.ok');\n\n    let warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => core.removePages(pageNumbers).then(() => {\n        dispatch(actions.setSelectedPageThumbnails([]));\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n        createAnnouncement(deleteAnnouncement);\n      }),\n    };\n\n    if (core.getDocumentViewer().getPageCount() === pageNumbers.length) {\n      message = i18next.t('warning.deletePage.deleteLastPageMessage');\n\n      warning = {\n        message,\n        title,\n        confirmBtnText,\n        onConfirm: () => Promise.resolve(),\n      };\n    }\n\n    dispatch(actions.showWarningMessage(warning));\n  } else {\n    core.removePages(pageNumbers).then(() => {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setShiftKeyThumbnailsPivotIndex());\n      createAnnouncement(deleteAnnouncement);\n    });\n  }\n};\n\nconst movePagesToBottom = (pageNumbers) => {\n  core.movePages(pageNumbers, core.getTotalPages() + 1);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToBottomOfDocument')}`);\n};\n\nconst movePagesToTop = (pageNumbers) => {\n  core.movePages(pageNumbers, 0);\n  createAnnouncement(`${i18next.t('action.page')} ${pageNumbers} ${i18next.t('action.movedToTopofDocument')}`);\n};\n\nconst noPagesSelectedWarning = (pageNumbers, dispatch) => {\n  if (pageNumbers.length === 0) {\n    const title = i18next.t('warning.selectPage.selectTitle');\n    const message = i18next.t('warning.selectPage.selectMessage');\n    const confirmBtnText = i18next.t('action.ok');\n\n    const warning = {\n      message,\n      title,\n      confirmBtnText,\n      onConfirm: () => Promise.resolve(),\n      keepOpen: ['leftPanel'],\n    };\n\n    dispatch(actions.showWarningMessage(warning));\n    return true;\n  }\n  return false;\n};\n\nconst exitPageInsertionWarning = (closeModal, dispatch) => {\n  const title = i18next.t('insertPageModal.warning.title');\n  const message = i18next.t('insertPageModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst exitPageReplacementWarning = (closeModal, dispatch) => {\n  const title = i18next.t('option.pageReplacementModal.warning.title');\n  const message = i18next.t('option.pageReplacementModal.warning.message');\n  const confirmBtnText = i18next.t('action.ok');\n\n  const warning = {\n    message,\n    title,\n    confirmBtnText,\n    onConfirm: closeModal,\n    keepOpen: ['leftPanel'],\n  };\n\n  dispatch(actions.showWarningMessage(warning));\n};\n\nconst redactPages = (pageNumbers, redactionStyles) => {\n  core.applyRedactions(createPageRedactions(pageNumbers, redactionStyles));\n};\n\nconst createPageRedactions = (pageNumbers, redactionStyles) => {\n  const annots = [];\n  const document = core.getDocument();\n  for (const page of pageNumbers) {\n    const pageInfo = document.getPageInfo(page);\n    const pageRotation = document.getPageRotation(page);\n    if (pageInfo) {\n      let width;\n      let height;\n      if (pageRotation === 90 || pageRotation === 270) {\n        width = pageInfo.height;\n        height = pageInfo.width;\n      } else {\n        width = pageInfo.width;\n        height = pageInfo.height;\n      }\n      const redaction = new window.Core.Annotations.RedactionAnnotation({\n        PageNumber: page,\n        Rect: new window.Core.Annotations.Rect(0, 0, width, height),\n        ...redactionStyles\n      });\n      redaction.type = redactionTypeMap['FULL_PAGE'];\n      redaction.setCustomData('trn-redaction-type', redactionTypeMap['FULL_PAGE']);\n      redaction.Author = core.getCurrentUser();\n      annots.push(redaction);\n    }\n  }\n  core.getAnnotationManager().addAnnotations(annots);\n  core.getAnnotationManager().drawAnnotationsFromList(annots);\n  return annots;\n};\n\nconst replacePages = async (sourceDocument, pagesToRemove, pagesToReplaceIntoDocument) => {\n  const documentLoadedInViewer = core.getDocument();\n  const pageCountOfLoadedDocument = documentLoadedInViewer.getPageCount();\n  const pagesToRemoveFromOriginal = pagesToRemove.sort((a, b) => a - b);\n\n  // If document to replace into has only one page, or we are replacing all pages\n  // then we can insert pages at the end, and then remove the pages to avoid an error of removing all pages\n  if (pageCountOfLoadedDocument === 1 || pagesToRemoveFromOriginal.length === pageCountOfLoadedDocument) {\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument);\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n  } else {\n    // If document to replace into has > 1 page we need insert the new pages at the spot of the first removed page\n    // pagesToRemoveFromOriginal is sorted in ascending order. Interleaving pages would be complex.\n    await documentLoadedInViewer.removePages(pagesToRemoveFromOriginal);\n    await documentLoadedInViewer.insertPages(sourceDocument, pagesToReplaceIntoDocument, pagesToRemoveFromOriginal[0]);\n  }\n};\n\nconst insertPages = async (sourceDocument, pagesToInsert, insertBeforeThisPage = null) => {\n  const documentLoadedInViewer = core.getDocument();\n  await documentLoadedInViewer.insertPages(sourceDocument, pagesToInsert, insertBeforeThisPage);\n};\n\nexport {\n  rotateClockwise,\n  rotateCounterClockwise,\n  insertAbove,\n  insertBelow,\n  replace,\n  extractPages,\n  deletePages,\n  movePagesToBottom,\n  movePagesToTop,\n  noPagesSelectedWarning,\n  redactPages,\n  createPageRedactions,\n  replacePages,\n  insertPages,\n  exitPageInsertionWarning,\n  exitPageReplacementWarning\n};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnailControls-overlay{display:grid;text-align:center;z-index:2;margin-top:5px;grid-template-areas:\\\"rotate delete . more\\\";grid-template-columns:repeat(3,1fr)}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.thumbnailControls-overlay{display:flex}}.thumbnailControls-overlay .Button{height:32px;padding:0;width:32px}.thumbnailControls-overlay .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls-overlay .Button:hover{background:var(--view-header-button-hover);border-radius:4px}.thumbnailControls-overlay .Button.active{background:var(--view-header-button-active)}.thumbnailControls-overlay .Button.active .Icon{color:var(--selected-icon-color)}.thumbnailControls-overlay .rotate-button{grid-area:rotate}.thumbnailControls-overlay .delete-button{grid-area:delete}.thumbnailControls-overlay .more-options{grid-area:more}.thumbnailControls-overlay.custom-buttons .Button{grid-area:auto}.thumbnailControls{display:flex;flex-direction:row;text-align:center;z-index:2;margin-top:5px}.thumbnailControls .Button{height:32px;padding:0;width:32px;margin:0 4px}.thumbnailControls .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.thumbnailControls .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./Thumbnail.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.Thumbnail{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;cursor:pointer}.Thumbnail.active .container .page-image{border:2px solid var(--focus-border);box-shadow:none;box-sizing:content-box}.Thumbnail .container{position:relative;display:flex;justify-content:center;align-items:center;cursor:pointer}.Thumbnail .container .page-image{box-shadow:0 0 3px 0 var(--box-shadow)}.Thumbnail .container .annotation-image,.Thumbnail .container .page-image{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%)}.Thumbnail .container .checkbox{position:absolute;border-radius:4px;z-index:4}.Thumbnail .container .default{top:3%;right:15%}.Thumbnail .container .rotated{top:15%;right:3%}.Thumbnail .page-label{margin-top:11px}.Thumbnail.selected .container .thumbnail:before{color:#fff;background:var(--focus-border);width:16px;height:16px;position:absolute;z-index:10}.Thumbnail.selected .container canvas{background:hsla(0,0%,100%,.6)}.Thumbnail.active .page-label{color:var(--focus-border)!important}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControlsContainer .PageControlContainer{display:flex;background-color:var(--gray-2);justify-content:center;align-content:center;margin:0 8px 0 16px;border-radius:4px}.documentControlsContainer .PageControlContainer .dropdown-menu{position:relative}.documentControlsContainer .PageControlContainer .dropdown-menu .indicator{position:absolute;bottom:1px;right:1px;width:0;height:0;border-left:4px solid transparent;border-right:4px solid transparent;border-top:4px solid #c4c4c4;transform:rotateY(0deg) rotate(315deg)}.documentControlsContainer .PageControlContainer button .Icon{height:21px;width:21px;color:var(--icon-color)}.documentControlsContainer .PageControlContainer .button-hover:hover{background:var(--view-header-button-hover);border-radius:4px}.documentControlsContainer .PageControlContainer .divider{height:20px;width:1px;background:var(--divider);margin:6px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./DocumentControls.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.documentControls{display:flex;flex-direction:column}.documentControls .divider{height:1px;background:var(--divider);margin:16px 8px 8px 16px}.documentControls .documentControlsInput{display:flex;flex-direction:row;padding:8px 8px 16px 16px}.documentControls .documentControlsInput .pagesInput{width:100%;height:30px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 8px}.documentControls .documentControlsInput .pagesInput:focus{outline:none;border:1px solid var(--focus-border)}.documentControls .documentControlsInput .pagesInput::-moz-placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .pagesInput::placeholder{color:var(--placeholder-text)}.documentControls .documentControlsInput .documentControlsButton{display:flex;flex-direction:row;padding-left:2px}.documentControls .documentControlsInput .documentControlsButton .Button{height:30px;padding:0;width:30px;margin:0 4px}.documentControls .documentControlsInput .documentControlsButton .Button .Icon{height:24px;width:24px;color:var(--icon-color)}.documentControls .documentControlsInput .documentControlsButton .Button:hover{background:var(--view-header-button-hover);border-radius:4px}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./ThumbnailsPanel.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.thumbnail-slider-container{display:flex;align-items:center;width:230px;margin:0 auto}.thumbnail-slider-container .thumbnail-slider{width:100%;height:20px;padding:0;color:transparent;background-color:transparent;border:0 transparent}.thumbnail-slider-container input[type=range]{-webkit-appearance:none;margin:10px 0;width:100%}.thumbnail-slider-container input[type=range]:focus{outline:none;box-shadow:0 0 5px var(--focus-border)}.thumbnail-slider-container input[type=range]::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-webkit-slider-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer;-webkit-appearance:none;margin-top:-5px}.thumbnail-slider-container input[type=range]:focus::-webkit-slider-runnable-track{background:var(--slider-filled)}.thumbnail-slider-container input[type=range]::-moz-range-track{width:100%;height:3px;cursor:pointer;animate:.2s;box-shadow:0 0 0 #000;background:var(--slider-filled);border-radius:5px;border:0 solid #000}.thumbnail-slider-container input[type=range]::-moz-range-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50px;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]::-ms-track{padding:5px 0 0;width:100%;height:3px;background:transparent;border-color:transparent;color:transparent;cursor:pointer;border-width:6px 0;animate:.2s}.thumbnail-slider-container input[type=range]::-ms-fill-lower,.thumbnail-slider-container input[type=range]::-ms-fill-upper{background:var(--slider-filled);border:0 solid #000;border-radius:10px;box-shadow:0 0 0 #000}.thumbnail-slider-container input[type=range]::-ms-thumb{box-shadow:0 0 1px #000;border:0 solid #000;height:15px;width:15px;border-radius:50%;background:var(--slider-filled);cursor:pointer}.thumbnail-slider-container input[type=range]:focus::-ms-fill-lower,.thumbnail-slider-container input[type=range]:focus::-ms-fill-upper{background:var(--slider-filled)}.thumbnail-slider-container Button{width:15px;height:15px;margin:2.5px;padding-top:6px}.thumbnail-slider-container Button:hover{background:var(--view-header-button-hover);border-radius:4px}.ThumbnailsPanel{overflow:hidden!important;display:flex;height:100%}.ThumbnailsPanel #virtualized-thumbnails-container{flex:1}.ThumbnailsPanel .row{display:flex;justify-content:space-around;align-items:center;flex-direction:column}.ThumbnailsPanel .thumbnailPlaceholder{width:150px;margin:2px;border:1px solid var(--focus-border)}.ThumbnailsPanel .columnsOfThumbnails.row{display:flex;justify-content:left;align-items:center;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .cellThumbContainer{display:flex;flex-direction:row}.ThumbnailsPanel .columnsOfThumbnails .Thumbnail{display:inline-flex}.ThumbnailsPanel .columnsOfThumbnails .thumbnailPlaceholder{width:116px;min-width:116px;height:150px;margin-bottom:30px}.thumbnailAutoScrollArea{position:absolute;width:calc(100% - 55px);z-index:10;background:hsla(0,0%,100%,0)}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","import React from 'react';\nimport ToggleElementButton from '../ToggleElementButton';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport DataElements from 'constants/dataElement';\n\nfunction PageManipulationOverlayButtonContainer(props) {\n  const { className, pageIndex } = props;\n\n  const dispatch = useDispatch();\n  const selectedPageIndexes = useSelector((state) => selectors.getSelectedThumbnailPageIndexes(state));\n\n  const onClickPageManipulationOverlayButton = () => {\n    if (selectedPageIndexes.indexOf(pageIndex) === -1) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n  };\n\n  return (\n    <div\n      className={className}\n      onClick={onClickPageManipulationOverlayButton}\n    >\n      <ToggleElementButton\n        dataElement={DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON}\n        element={DataElements.PAGE_MANIPULATION_OVERLAY}\n        img=\"icon-tool-more\"\n        title=\"option.thumbnailPanel.moreOptions\"\n      />\n    </div>\n  );\n}\n\nexport default PageManipulationOverlayButtonContainer;","import PageManipulationOverlayButton from './PageManipulationOverlayButtonContainer';\n\nexport default PageManipulationOverlayButton;","import React from 'react';\nimport { useDispatch, shallowEqual, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { deletePages, rotateClockwise, rotateCounterClockwise } from 'helpers/pageManipulationFunctions';\nimport Button from 'components/Button';\nimport selectors from 'selectors';\nimport './ThumbnailControls.scss';\nimport PageManipulationOverlayButton from 'components/PageManipulationOverlayButton';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport DataElements from 'constants/dataElement';\nimport { useTranslation } from 'react-i18next';\n\nconst propTypes = {\n  index: PropTypes.number.isRequired,\n};\n\nconst dataElementName = 'thumbnailControl';\n\nconst ThumbnailControls = ({ index }) => {\n  const { t } = useTranslation();\n  const [isElementDisabled] = useSelector((state) => [selectors.isElementDisabled(state, dataElementName)]);\n  const [isMoreOptionDisabled] = useSelector((state) => [selectors.isElementDisabled(state, DataElements.PAGE_MANIPULATION_OVERLAY_BUTTON)]);\n  const [isPageDeletionConfirmationModalEnabled, selectedIndexes] = useSelector((state) => [\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getSelectedThumbnailPageIndexes(state),\n  ]);\n  const dispatch = useDispatch();\n\n  const [\n    currentPage,\n    pageThumbnailControlMenuItems,\n  ] = useSelector((state) => [\n    selectors.getCurrentPage(state),\n    selectors.getThumbnailControlMenuItems(state),\n  ], shallowEqual);\n\n  let pageNumbers = selectedIndexes.length > 0 ? selectedIndexes.map((i) => i + 1) : [index + 1];\n\n  const isCurrentPageInTheSelection = pageNumbers.includes(currentPage);\n\n  if (!isCurrentPageInTheSelection) {\n    pageNumbers = [currentPage];\n  }\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  const BUTTONS_MAP = {\n    'thumbRotateClockwise': <Button\n      className=\"rotate-button\"\n      img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n      onClick={() => rotateClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageClockwise\"\n      dataElement=\"thumbRotateClockwise\"\n    />,\n    'thumbRotateCounterClockwise': <Button\n      img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n      onClick={() => rotateCounterClockwise(pageNumbers)}\n      title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n      dataElement=\"thumbRotateCounterClockwise\"\n    />,\n    'thumbDelete': <Button\n      className=\"delete-button\"\n      img=\"icon-delete-line\"\n      onClick={() => deletePages(pageNumbers, dispatch, isPageDeletionConfirmationModalEnabled)}\n      title=\"option.thumbnailPanel.delete\"\n      dataElement=\"thumbDelete\"\n      onClickAnnouncement={`${t('action.delete')} ${t('action.modal')} ${t('action.isOpen')}`}\n    />,\n  };\n  let isCustomized = false;\n  const occurredButtons = [];\n  const buttons = pageThumbnailControlMenuItems.map((item) => {\n    const { dataElement } = item;\n    const key = dataElement;\n    let component = BUTTONS_MAP[dataElement];\n    if (occurredButtons.indexOf(dataElement) > -1) {\n      return null;\n    }\n    occurredButtons.push(dataElement);\n\n    /* Example button object:\n    {\n      title: 'Alert me',\n      img: '/path-to-image',\n      onClick: (selectedPageNumbers) => alert(``),\n      dataElement: 'alertMeDataElement',\n    } */\n    if (!component) {\n      isCustomized = true;\n      const { img, onClick, title } = item;\n      component = <Button\n        className={`${dataElement}-button`}\n        img={img}\n        onClick={() => onClick(currentPage)}\n        title={title}\n        dataElement={dataElement}\n      />;\n    }\n\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n\n  if (isElementDisabled) {\n    return null;\n  } if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className=\"thumbnailControls-overlay\" data-element={dataElementName}\n        style={{ display: 'flex' }}\n      >\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n          onClick={() => rotateCounterClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageCounterClockwise\"\n          dataElement=\"thumbRotateCounterClockwise\"\n        />\n        <Button\n          img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n          onClick={() => rotateClockwise(pageNumbers)}\n          title=\"option.thumbnailPanel.rotatePageClockwise\"\n          dataElement=\"thumbRotateClockwise\"\n        />\n      </div>\n    );\n  }\n  return (\n    <div className={classNames({\n      'thumbnailControls-overlay': true,\n      'custom-buttons': isCustomized,\n    })}\n    data-element={dataElementName}\n    >\n      {buttons}\n      {\n        (isMoreOptionDisabled) ? null : <PageManipulationOverlayButton\n          className={'more-options'}\n          pageIndex={index}\n        />\n      }\n\n    </div>\n  );\n};\n\n\nThumbnailControls.propTypes = propTypes;\n\nexport default ThumbnailControls;\n","import ThumbnailControls from './ThumbnailControls';\n\nexport default ThumbnailControls;\n","import React, { useEffect, useState } from 'react';\nimport classNames from 'classnames';\nimport useDidUpdate from 'hooks/useDidUpdate';\nimport core from 'core';\nimport ThumbnailControls from 'components/ThumbnailControls';\nimport thumbnailSelectionModes from 'constants/thumbnailSelectionModes';\n\nimport './Thumbnail.scss';\nimport { Choice } from '@pdftron/webviewer-react-toolkit';\nimport getRootNode from 'helpers/getRootNode';\n\n// adds a delay in ms so thumbs that are only on the screen briefly are not loaded.\nconst THUMBNAIL_LOAD_DELAY = 50;\n\nconst Thumbnail = ({\n  index,\n  isSelected,\n  updateAnnotations,\n  shiftKeyThumbnailPivotIndex,\n  onFinishLoading,\n  onLoad,\n  onRemove = () => { },\n  onDragStart,\n  onDragOver,\n  isDraggable,\n  shouldShowControls,\n  thumbnailSize,\n  currentPage,\n  pageLabels = [],\n  selectedPageIndexes,\n  isThumbnailMultiselectEnabled,\n  isReaderModeOrReadOnly,\n  dispatch,\n  actions,\n  isMobile,\n  canLoad,\n  onCancel,\n  isThumbnailSelectingPages,\n  thumbnailSelectionMode,\n  activeDocumentViewerKey,\n  panelSelector\n}) => {\n  const thumbSize = thumbnailSize ? Number(thumbnailSize) : 150;\n\n  const [dimensions, setDimensions] = useState({ width: thumbSize, height: thumbSize });\n  // To ensure checkmark loads after thumbnail\n  const [loaded, setLoaded] = useState(false);\n\n  let loadTimeout = null;\n\n  const loadThumbnailAsync = () => {\n    loadTimeout = setTimeout(() => {\n      const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n\n      const pageNum = index + 1;\n      const viewerRotation = core.getRotation(pageNum);\n\n      const doc = core.getDocument(activeDocumentViewerKey);\n      // Possible race condition can happen where we try to render a thumbnail for a page that has\n      // been deleted. Prevent that by checking if pageInfo exists\n\n      if (doc && doc.getPageInfo(pageNum)) {\n        const id = doc.loadCanvas({\n          pageNumber: pageNum,\n          width: thumbSize,\n          height: thumbSize,\n          drawComplete: async (thumb) => {\n            const thumbnailContainer = getRootNode().querySelector(`.ThumbnailsPanel.${panelSelector} #pageThumb${index}`);\n            if (thumbnailContainer) {\n              const childElement = thumbnailContainer.querySelector('.page-image');\n              if (childElement) {\n                thumbnailContainer.removeChild(childElement);\n              }\n\n              thumb.className = 'page-image';\n\n              const ratio = Math.min(thumbSize / thumb.width, thumbSize / thumb.height);\n              thumb.style.width = `${thumb.width * ratio}px`;\n              thumb.style.height = `${thumb.height * ratio}px`;\n              setDimensions({ width: Number(thumb.width), height: Number(thumb.height) });\n\n              if (Math.abs(viewerRotation)) {\n                const cssTransform = `rotate(${viewerRotation * 90}deg) translate(-50%,-50%)`;\n                const cssTransformOrigin = 'top left';\n                thumb.style['transform'] = cssTransform;\n                thumb.style['transform-origin'] = cssTransformOrigin;\n                thumb.style['ms-transform'] = cssTransform;\n                thumb.style['ms-transform-origin'] = cssTransformOrigin;\n                thumb.style['-moz-transform'] = cssTransform;\n                thumb.style['-moz-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform-origin'] = cssTransformOrigin;\n                thumb.style['-webkit-transform'] = cssTransform;\n                thumb.style['-o-transform'] = cssTransform;\n                thumb.style['-o-transform-origin'] = cssTransformOrigin;\n              }\n\n              thumbnailContainer.appendChild(thumb);\n            }\n\n            if (updateAnnotations) {\n              updateAnnotations(index);\n            }\n\n            onFinishLoading(index);\n            setLoaded(true);\n          },\n          allowUseOfOptimizedThumbnail: true,\n        });\n        onLoad(index, thumbnailContainer, id);\n      }\n    }, THUMBNAIL_LOAD_DELAY);\n  };\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      const { contentChanged, moved, added, removed } = changes;\n\n      const currentPage = index + 1;\n\n      const isPageAdded = added.includes(currentPage);\n      const didPageChange = contentChanged.some((changedPage) => currentPage === changedPage);\n      const didPageMove = Object.keys(moved).some((movedPage) => currentPage === parseInt(movedPage));\n      const isPageRemoved = removed.includes(currentPage);\n      const newPageCount = core.getTotalPages();\n\n      if (removed.length > 0 && index + 1 > newPageCount) {\n        return;\n      }\n\n      if (isPageAdded || didPageChange || didPageMove || isPageRemoved) {\n        loadThumbnailAsync();\n      }\n    };\n\n    const onRotationUpdated = () => {\n      setLoaded(false);\n      loadThumbnailAsync();\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n    core.addEventListener('rotationUpdated', onRotationUpdated);\n    if (canLoad) {\n      loadThumbnailAsync();\n    }\n    return () => {\n      core.removeEventListener('pagesUpdated', onPagesUpdated);\n      core.removeEventListener('rotationUpdated', onRotationUpdated);\n      clearTimeout(loadTimeout);\n      onRemove(index);\n    };\n  }, []);\n\n  useDidUpdate(() => {\n    if (canLoad) {\n      loadThumbnailAsync();\n      updateAnnotations(index);\n    } else {\n      onCancel(index);\n    }\n  }, [canLoad, activeDocumentViewerKey]);\n\n  const handleClick = (e) => {\n    const checkboxToggled = e.target.type && e.target.type === 'checkbox';\n    if (isThumbnailMultiselectEnabled && !isReaderModeOrReadOnly) {\n      const multiSelectionKeyPressed = e.ctrlKey || e.metaKey;\n      const shiftKeyPressed = e.shiftKey;\n      let updatedSelectedPages = [...selectedPageIndexes];\n\n      if (shiftKeyPressed) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Include current page as part of selection if we just started shift-selecting\n        let shiftKeyPivot = shiftKeyThumbnailPivotIndex;\n        if (shiftKeyPivot === null) {\n          shiftKeyPivot = currentPage - 1;\n          dispatch(actions.setShiftKeyThumbnailsPivotIndex(shiftKeyPivot));\n        }\n        // get the range of the selected index and update selected page\n        const currSelectMinIndex = Math.min(shiftKeyPivot, index);\n        const currSelectMaxIndex = Math.max(shiftKeyPivot, index);\n        updatedSelectedPages = [...new Set([...Array.from(\n          { length: currSelectMaxIndex - currSelectMinIndex + 1 },\n          (_, i) => i + currSelectMinIndex,\n        )])];\n      } else if (multiSelectionKeyPressed || isThumbnailSelectingPages) {\n        dispatch(actions.setThumbnailSelectingPages(true));\n        // Only select a page if multiSelectionKeyPressed or if checkbox is checked unless in 'thumbnail' mode\n        if (multiSelectionKeyPressed || checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n          // Include current page as part of selection if we just started multi-selecting\n          if (selectedPageIndexes.length === 0 && !isThumbnailSelectingPages) {\n            updatedSelectedPages.push(currentPage - 1);\n          } else if (selectedPageIndexes.includes(index)) {\n            updatedSelectedPages = selectedPageIndexes.filter((pageIndex) => index !== pageIndex);\n          } else {\n            updatedSelectedPages.push(index);\n          }\n        }\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(index));\n      } else {\n        updatedSelectedPages = [index];\n      }\n      // set shiftKeyPivot when press ctr key or single key\n      const lastSelectedPageIndex = updatedSelectedPages[updatedSelectedPages.length - 1];\n      const shouldUpdateShiftKeyPivotIndex = !isThumbnailSelectingPages && !shiftKeyPressed;\n\n      if (shouldUpdateShiftKeyPivotIndex) {\n        dispatch(actions.setShiftKeyThumbnailsPivotIndex(lastSelectedPageIndex));\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedSelectedPages));\n    } else if (isMobile()) {\n      dispatch(actions.closeElement('leftPanel'));\n    }\n\n    // due to the race condition, we need a settimeout here\n    // otherwise, sometimes the current page will not be visible in left panel\n    setTimeout(() => {\n      // If user clicks on checkbox, it should not automatically jump to that page,\n      // only if the user clicks on thumbnail then go to page and view it, unless in 'thumbnail' mode\n      if (!checkboxToggled || thumbnailSelectionMode === thumbnailSelectionModes['THUMBNAIL']) {\n        core.setCurrentPage(index + 1);\n      }\n    }, 0);\n  };\n\n  const isActive = currentPage === index + 1;\n  const pageLabel = pageLabels[index];\n  let checkboxRotateClass = 'default';\n  const rotation = core.getRotation(index + 1);\n  if ((!rotation || rotation === 2) && dimensions.width > dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  } else if ((rotation === 1 || rotation === 3) && dimensions.width < dimensions.height) {\n    checkboxRotateClass = 'rotated';\n  }\n\n  return (\n    <div\n      className={classNames({\n        Thumbnail: true,\n        active: isActive,\n        selected: isSelected && isThumbnailSelectingPages,\n      })}\n      onDragOver={(e) => onDragOver(e, index)}\n      id=\"Thumbnail-container\"\n    >\n      <div\n        className=\"container\"\n        style={{\n          width: thumbSize,\n          height: thumbSize,\n        }}\n        onDragStart={(e) => onDragStart(e, index)}\n        draggable={isDraggable}\n        onClick={handleClick}\n      >\n        <div id={`pageThumb${index}`} className=\"thumbnail\" />\n        {isThumbnailSelectingPages && loaded && (\n          <Choice className={`checkbox ${checkboxRotateClass}`} checked={selectedPageIndexes.includes(index)} />\n        )}\n      </div>\n      <div className=\"page-label\">{pageLabel}</div>\n      {!isThumbnailSelectingPages && isActive && shouldShowControls && <ThumbnailControls index={index} />}\n    </div>\n  );\n};\n\nexport default Thumbnail;\n","import React from 'react';\nimport { useSelector, shallowEqual, useDispatch } from 'react-redux';\n\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport { isMobile } from 'helpers/device';\n\nimport Thumbnail from './Thumbnail';\n\nconst ThumbnailRedux = (props) => {\n  const [\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    activeDocumentViewerKey,\n    selectionModes\n  ] = useSelector(\n    (state) => [\n      selectors.getCurrentPage(state),\n      selectors.getPageLabels(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.isThumbnailMultiselectEnabled(state),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getShiftKeyThumbnailPivotIndex(state),\n      selectors.isThumbnailSelectingPages(state),\n      selectors.getThumbnailSelectionMode(state),\n      selectors.getActiveDocumentViewerKey(state),\n    ],\n    shallowEqual,\n  );\n\n  const dispatch = useDispatch();\n\n  return <Thumbnail {...props} {...{\n    currentPage,\n    pageLabels,\n    selectedPageIndexes,\n    isThumbnailMultiselectEnabled,\n    isReaderModeOrReadOnly: isReaderMode || isDocumentReadOnly,\n    dispatch,\n    actions,\n    isMobile,\n    shiftKeyThumbnailPivotIndex,\n    isThumbnailSelectingPages,\n    thumbnailSelectionMode,\n    selectionModes,\n    activeDocumentViewerKey,\n  }}\n  />;\n};\n\nexport default ThumbnailRedux;\n","import Thumbnail from './ThumbnailRedux';\n\nexport default Thumbnail;","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMoreSmall() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_SMALL_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMoreSmall;\n","import React from 'react';\n\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsertSmall() {\n  return (\n    <div className={'dropdown-menu'}>\n      <ToggleElementButton\n        title=\"action.PageInsertion\"\n        className={'dropdown-menu'}\n        element=\"thumbnailsControlInsertPopup\"\n        dataElement=\"thumbnailsControlInsertPopupTrigger\"\n        img=\"icon-header-page-manipulation-insert-above\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsInsertSmall;\n","import React from 'react';\nimport Button from 'components/Button';\n\nfunction CustomLeftPanelOperations({ pageNumbers, operations }) {\n  return (\n    <>\n      {operations.map((operation, index) => {\n        return (\n          <Button\n            key={index}\n            className={'button-hover'}\n            dataElement={operation.dataElement}\n            img={operation.img}\n            onClick={() => operation.onClick(pageNumbers)}\n            title={operation.title}\n          />);\n      })\n      }\n    </>\n  );\n}\n\nexport default CustomLeftPanelOperations;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsRotate({ onRotateClockwise, onRotateCounterClockwise }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateCounterClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-counterclockwise-line\"\n        onClick={onRotateCounterClockwise}\n        title=\"action.rotateCounterClockwise\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlRotateClockwise\"\n        img=\"icon-header-page-manipulation-page-rotation-clockwise-line\"\n        onClick={onRotateClockwise}\n        title=\"action.rotateClockwise\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsRotate;\n","import React from 'react';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport LeftPanelPageTabsMoreSmall from '../LeftPanelPageTabsMoreSmall/LeftPanelPageTabsMoreSmall';\nimport LeftPanelPageTabsInsertSmall from '../LeftPanelPageTabsInsertSmall/LeftPanelPageTabsInsertSmall';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\n\nfunction InitialLeftPanelPageTabsSmall({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsSmall(props) {\n  const { pageNumbers, multiPageManipulationControlsItemsSmall, onRotateClockwise, onRotateCounterClockwise } = props;\n  return (\n    <div className={'PageControlContainer root small'}>\n      <InitialLeftPanelPageTabsSmall pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItemsSmall}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise}\n          onRotateCounterClockwise={onRotateCounterClockwise}\n          dataElement=\"leftPanelPageTabsRotate\"/>\n        <LeftPanelPageTabsInsertSmall dataElement=\"leftPanelPageTabsInsertSmall\" />\n        <LeftPanelPageTabsMoreSmall dataElement=\"leftPanelPageTabsMoreSmall\" />\n      </InitialLeftPanelPageTabsSmall>\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsSmall;\n","import React from 'react';\nimport ToggleElementButton from 'components/ToggleElementButton';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\nimport DataElements from 'constants/dataElement';\n\nfunction LeftPanelPageTabsMore() {\n  return (\n    <div className={'dropdown-menu button-hover'}>\n      <ToggleElementButton\n        title=\"action.more\"\n        className={'dropdown-menu'}\n        element={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP}\n        dataElement={DataElements.THUMBNAILS_CONTROL_MANIPULATE_POPUP_TRIGGER}\n        img=\"icon-tool-more\"\n      />\n      <div className={'indicator'} />\n    </div>\n  );\n}\n\nexport default LeftPanelPageTabsMore;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsMove({ moveToTop, moveToBottom }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToTop\"\n        img=\"icon-page-move-up\"\n        onClick={moveToTop}\n        title=\"action.moveToTop\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"moveToBottom\"\n        img=\"icon-page-move-down\"\n        onClick={moveToBottom}\n        title=\"action.moveToBottom\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsMove;\n","import React from 'react';\n\nimport LeftPanelPageTabsMore from '../LeftPanelPageTabsMore/LeftPanelPageTabsMore';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from 'components/LeftPanelPageTabs/LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabs(props) {\n  const {\n    pageNumbers,\n    onRotateClockwise,\n    onRotateCounterClockwise,\n    multiPageManipulationControlsItems,\n    moveToTop,\n    moveToBottom\n  } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\"/>\n        <LeftPanelPageTabsMore dataElement=\"leftPanelPageTabsMore\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabs;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsInsert({ onInsert }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsInsert;\n","import React from 'react';\nimport Button from 'components/Button';\nimport '../LeftPanelPageTabs/LeftPanelPageTabsContainer.scss';\n\nfunction LeftPanelPageTabsOperations({ onInsert, onReplace, onExtractPages, onDeletePages }) {\n  return (\n    <>\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlInsert\"\n        img=\"icon-page-insertion-insert\"\n        onClick={onInsert}\n        title=\"action.insert\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlReplace\"\n        img=\"icon-page-replacement\"\n        onClick={onReplace}\n        title=\"action.replace\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlExtract\"\n        img=\"icon-page-manipulation-extract\"\n        onClick={onExtractPages}\n        title=\"action.extract\"\n      />\n      <Button\n        className={'button-hover'}\n        dataElement=\"thumbnailsControlDelete\"\n        img=\"icon-delete-line\"\n        onClick={onDeletePages}\n        title=\"action.delete\"\n      />\n    </>\n  );\n}\n\nexport default LeftPanelPageTabsOperations;\n","import React from 'react';\n\nimport LeftPanelPageTabsInsert from '../LeftPanelPageTabsInsert/LeftPanelPageTabsInsert';\nimport LeftPanelPageTabsRotate from '../LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsOperations from '../LeftPanelPageTabsOperations/LeftPanelPageTabsOperations';\nimport CustomLeftPanelOperations from '../CustomLeftPanelOperations/CustomLeftPanelOperations';\nimport LeftPanelPageTabsMove from '../LeftPanelPageTabsMove/LeftPanelPageTabsMove';\n\n\nfunction InitialLeftPanelPageTabs({ children, pageNumbers, multiPageManipulationControlsItems }) {\n  const childrenArray = React.Children.toArray(children);\n  if (!multiPageManipulationControlsItems) {\n    return childrenArray;\n  }\n  return multiPageManipulationControlsItems.map((item, index) => {\n    const { dataElement, type } = item;\n    let component = childrenArray.find((child) => child.props.dataElement === dataElement);\n    const key = dataElement || `${type}-${index}`;\n\n    if (!component) {\n      if (type === 'divider') {\n        component = <div className=\"divider\" />;\n      }\n\n      if (type === 'customPageOperation') {\n        component = <CustomLeftPanelOperations key={dataElement} pageNumbers={pageNumbers} {...item} />;\n      }\n    }\n    return component\n      ? React.cloneElement(component, {\n        key,\n      })\n      : null;\n  });\n}\n\n\nfunction LeftPanelPageTabsLarge(props) {\n  const { pageNumbers, onRotateClockwise, onRotateCounterClockwise, onInsert, onReplace, onExtractPages, onDeletePages, moveToTop, moveToBottom, multiPageManipulationControlsItems } = props;\n  return (\n    <div className={'PageControlContainer root'}>\n      <InitialLeftPanelPageTabs pageNumbers={pageNumbers} multiPageManipulationControlsItems={multiPageManipulationControlsItems} >\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} dataElement=\"leftPanelPageTabsRotate\" />\n        <LeftPanelPageTabsInsert onInsert={onInsert} dataElement=\"leftPanelPageTabsInsert\" />\n        <LeftPanelPageTabsOperations onReplace={onReplace} onExtractPages={onExtractPages} onDeletePages={onDeletePages} dataElement=\"leftPanelPageTabsOperations\" />\n        <LeftPanelPageTabsMove moveToTop={moveToTop} moveToBottom={moveToBottom} dataElement=\"leftPanelPageTabsMove\" />\n      </InitialLeftPanelPageTabs>\n    </div>\n  );\n}\n\n\nexport default LeftPanelPageTabsLarge;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport {\n  deletePages,\n  extractPages,\n  noPagesSelectedWarning,\n  replace,\n  rotateClockwise,\n  rotateCounterClockwise,\n  movePagesToBottom,\n  movePagesToTop\n} from 'helpers/pageManipulationFunctions';\nimport LeftPanelPageTabsSmall from 'src/components/LeftPanelPageTabs/LeftPanelPageTabsSmall/LeftPanelPageTabsSmall';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs/LeftPanelPageTabs/LeftPanelPageTabs';\nimport { workerTypes } from 'constants/types';\nimport core from 'src/core';\nimport LeftPanelPageTabsRotate from 'components/LeftPanelPageTabs/LeftPanelPageTabsRotate/LeftPanelPageTabsRotate';\nimport LeftPanelPageTabsLarge from './LeftPanelPageTabsLarge/LeftPanelPageTabsLarge';\nimport DataElements from 'constants/dataElement';\nimport { panelMinWidth } from 'constants/panel';\nimport { isMobile as isInMobile } from 'helpers/device';\nimport getRootNode from 'helpers/getRootNode';\n\n// Values come from the CSS\nconst WIDTH_MARGINS = 16 + 8 + 16 + 16 + 16 + 16;\n\nfunction LeftPanelPageTabsContainer({ parentElement }) {\n  const dispatch = useDispatch();\n  const isMobile = isInMobile();\n  const [\n    selectedPageIndexes,\n    panelWidth,\n    deleteModalEnabled,\n    multiPageManipulationControlsItems,\n    multiPageManipulationControlsSmall,\n    multiPageManipulationControlsLarge,\n    isDesktopOnlyMode,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    !parentElement || parentElement === 'leftPanel' ? selectors.getLeftPanelWidth(state) : selectors.getPanelWidth(state, parentElement),\n    selectors.pageDeletionConfirmationModalEnabled(state),\n    selectors.getMultiPageManipulationControlsItems(state),\n    selectors.getMultiPageManipulationControlsItemsSmall(state),\n    selectors.getMultiPageManipulationControlsItemsLarge(state),\n    selectors.isInDesktopOnlyMode(state),\n  ]);\n\n  const pageNumbers = selectedPageIndexes.map((index) => index + 1);\n\n  const openInsertPageModal = () => {\n    dispatch(actions.closeElement(DataElements.PAGE_MANIPULATION_OVERLAY));\n    dispatch(actions.openElement('insertPageModal'));\n  };\n\n  const onReplace = () => !noPagesSelectedWarning(pageNumbers, dispatch) && replace(dispatch);\n  const onExtractPages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && extractPages(pageNumbers, dispatch);\n  const onDeletePages = () => !noPagesSelectedWarning(pageNumbers, dispatch) && deletePages(pageNumbers, dispatch, deleteModalEnabled);\n  const onRotateClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateClockwise(pageNumbers);\n  const onRotateCounterClockwise = () => !noPagesSelectedWarning(pageNumbers, dispatch) && rotateCounterClockwise(pageNumbers);\n  const onInsert = () => !noPagesSelectedWarning(pageNumbers, dispatch) && openInsertPageModal();\n  const moveToTop = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToTop(pageNumbers);\n  const moveToBottom = () => !noPagesSelectedWarning(pageNumbers, dispatch) && movePagesToBottom(pageNumbers);\n\n  const document = core.getDocument();\n  const documentType = document?.type;\n  const isXod = documentType === workerTypes.XOD;\n  const isOffice = documentType === workerTypes.OFFICE || documentType === workerTypes.LEGACY_OFFICE;\n\n  if (isXod || isOffice || document?.isWebViewerServerDocument()) {\n    return (\n      <div className={'PageControlContainer root small'}>\n        <LeftPanelPageTabsRotate onRotateClockwise={onRotateClockwise} onRotateCounterClockwise={onRotateCounterClockwise} />\n      </div>\n    );\n  }\n\n  const smallBreakPoint = 190;\n  const largeBreakPoint = 290;\n  let widthMinusMargins;\n  if (!isDesktopOnlyMode && isMobile) {\n    try {\n      const appRect = getRootNode().querySelector('.App').getBoundingClientRect();\n      widthMinusMargins = appRect.width - WIDTH_MARGINS;\n    } catch (e) {\n      widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n    }\n  } else {\n    widthMinusMargins = (panelWidth || panelMinWidth) - WIDTH_MARGINS;\n  }\n  const isPanelSmall = widthMinusMargins < smallBreakPoint;\n  const isPanelLarge = widthMinusMargins > largeBreakPoint;\n\n  const childProps = {\n    onReplace,\n    onExtractPages,\n    onDeletePages,\n    onRotateCounterClockwise,\n    onRotateClockwise,\n    onInsert,\n    moveToTop,\n    moveToBottom,\n    pageNumbers,\n  };\n\n  if (isPanelSmall) {\n    return <LeftPanelPageTabsSmall\n      {...childProps}\n      multiPageManipulationControlsItemsSmall={multiPageManipulationControlsSmall}\n    />;\n  }\n\n  if (isPanelLarge) {\n    return <LeftPanelPageTabsLarge\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsLarge}\n    />;\n  }\n\n\n  return (\n    <LeftPanelPageTabs\n      {...childProps}\n      multiPageManipulationControlsItems={multiPageManipulationControlsItems}\n    />\n  );\n}\n\nexport default LeftPanelPageTabsContainer;\n","import LeftPanelPageTabsContainer from './LeftPanelPageTabsContainer';\n\nexport default LeftPanelPageTabsContainer;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Button from 'components/Button';\nimport getPageArrayFromString from 'helpers/getPageArrayFromString';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport pageNumberPlaceholder from 'constants/pageNumberPlaceholder';\nimport core from 'src/core';\nimport { useTranslation } from 'react-i18next';\nimport LeftPanelPageTabs from 'components/LeftPanelPageTabs';\nimport './DocumentControls.scss';\n\nfunction getPageString(selectedPageArray, pageLabels) {\n  let pagesToPrint = '';\n  const sortedPages = selectedPageArray.sort((a, b) => a - b);\n  let prevIndex = null;\n\n  for (let i = 0; sortedPages.length > i; i++) {\n    if (sortedPages[i + 1] === sortedPages[i] + 1) {\n      prevIndex = prevIndex !== null ? prevIndex : sortedPages[i];\n    } else if (prevIndex !== null) {\n      pagesToPrint = `${pagesToPrint}${pageLabels[prevIndex]}-${pageLabels[sortedPages[i]]}, `;\n      prevIndex = null;\n    } else {\n      pagesToPrint = `${pagesToPrint}${pageLabels[sortedPages[i]]}, `;\n    }\n  }\n\n  return pagesToPrint.slice(0, -2);\n}\n\nconst DocumentControls = ({ shouldShowControls, parentElement }) => {\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  const [\n    selectedPageIndexes,\n    isDisabled,\n    pageLabels,\n    isThumbnailSelectingPages,\n  ] = useSelector((state) => [\n    selectors.getSelectedThumbnailPageIndexes(state),\n    selectors.isElementDisabled(state, 'documentControl'),\n    selectors.getPageLabels(state),\n    selectors.isThumbnailSelectingPages(state),\n  ]);\n\n  const initialPagesString = getPageString(selectedPageIndexes, pageLabels);\n\n  const [pageString, setPageString] = useState(initialPagesString);\n  const [previousPageString, setPreviousPageString] = useState(initialPagesString);\n\n  useEffect(() => {\n    setPageString(getPageString(selectedPageIndexes, pageLabels));\n  }, [setPageString, selectedPageIndexes, shouldShowControls, pageLabels]);\n\n  const onBlur = (e) => {\n    const selectedPagesString = e.target.value.replace(/ /g, '');\n    const pages = !selectedPagesString ? [] : getPageArrayFromString(selectedPagesString, pageLabels);\n    const pageIndexes = pages.map((page) => page - 1);\n\n    if (pages.length || !selectedPagesString) {\n      dispatch(actions.setSelectedPageThumbnails(pageIndexes));\n\n      const updatedString = getPageString(selectedPageIndexes, pageLabels);\n\n      setPageString(updatedString);\n      setPreviousPageString(updatedString);\n    } else {\n      setPageString(previousPageString);\n    }\n\n    if (selectedPageIndexes.length > 0 && !isThumbnailSelectingPages) {\n      // set a short timeout due to race condition caused by onBlur and\n      // changing the documentControlsButton based on isThumbnailSelectingPages\n      setTimeout(() => {\n        enableThumbnailSelectingPages();\n      }, 100);\n    }\n  };\n\n  const pageStringUpdate = (e) => {\n    setPageString(e.target.value);\n  };\n\n  const disableThumbnailSelectingPages = () => {\n    dispatch(actions.setSelectedPageThumbnails([core.getCurrentPage() - 1]));\n    dispatch(actions.setThumbnailSelectingPages(false));\n  };\n\n  const enableThumbnailSelectingPages = () => {\n    dispatch(actions.setThumbnailSelectingPages(true));\n  };\n\n  return isDisabled ? null : (\n    <div className={'documentControlsContainer'} data-element={'documentControl'}>\n      {shouldShowControls ? (\n        <div className={'documentControls'}>\n          <div className={'divider'}></div>\n          {isThumbnailSelectingPages && <LeftPanelPageTabs parentElement={parentElement}/>}\n          <div className={'documentControlsInput'}>\n            <input\n              onBlur={onBlur}\n              onChange={pageStringUpdate}\n              value={pageString}\n              placeholder={pageNumberPlaceholder}\n              aria-label={t('option.thumbnailPanel.enterPageNumbers')}\n              className=\"pagesInput\"\n              type=\"text\"\n            />\n            <div className={'documentControlsButton'}>\n              {!isThumbnailSelectingPages ? (\n                <Button\n                  img={'icon-tool-select-pages'}\n                  title={'option.documentControls.selectTooltip'}\n                  onClick={enableThumbnailSelectingPages}\n                  dataElement={'thumbMultiSelect'}\n                />\n              ) : (\n                <Button\n                  img={'icon-close'}\n                  title={'option.documentControls.closeTooltip'}\n                  onClick={disableThumbnailSelectingPages}\n                  dataElement={'thumbCloseMultiSelect'}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nDocumentControls.propTypes = {\n  isDisabled: PropTypes.bool,\n  pageLabels: PropTypes.arrayOf(PropTypes.string),\n  toggleDocumentControl: PropTypes.func,\n  shouldShowControls: PropTypes.bool,\n};\n\nexport default DocumentControls;\n","import DocumentControls from './DocumentControls';\n\nexport default DocumentControls;","import core from 'core';\nimport actions from 'actions';\nimport extractPagesWithAnnotations from './extractPagesWithAnnotations';\nimport fireEvent from './fireEvent';\nimport Events from 'constants/events';\nimport DataElements from 'src/constants/dataElement';\n\nexport const extractPagesToMerge = (pageNumbers) => {\n  // extract pages and put the data on the iFrame window element for another instance of WebViewer to access\n  window.extractedDataPromise = extractPagesWithAnnotations(pageNumbers);\n  window.pagesExtracted = pageNumbers;\n};\n\nexport const mergeDocument = (srcToMerge, mergeToPage, shouldFireEvent = true) => (dispatch) => {\n  dispatch(actions.openElement(DataElements.LOADING_MODAL));\n\n  return new Promise((resolve, reject) => {\n    core.mergeDocument(srcToMerge, mergeToPage).then((mergeResults) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      core.setCurrentPage(mergeToPage);\n\n      if (shouldFireEvent) {\n        fireEvent(Events.DOCUMENT_MERGED, mergeResults);\n      }\n\n      resolve(mergeResults);\n    }).catch((err) => {\n      reject(err);\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n    });\n  });\n};\n\nexport const mergeExternalWebViewerDocument = (viewerID, mergeToPage) => (dispatch) => {\n  return new Promise((resolve, reject) => {\n    const otherWebViewerIframe = window.parent.document.querySelector(`#${viewerID}`);\n    if (!otherWebViewerIframe) {\n      console.warn('Could not find other instance of WebViewer');\n      reject();\n    }\n\n    const extractedDataPromise = otherWebViewerIframe.contentWindow.extractedDataPromise;\n    if (!extractedDataPromise) {\n      console.warn('Could not retrieve data from other instance of WebViewer');\n      reject();\n    }\n\n    dispatch(actions.openElement(DataElements.LOADING_MODAL));\n    extractedDataPromise.then((docToMerge) => {\n      dispatch(mergeDocument(docToMerge, mergeToPage, false)).then(({ filename, pages }) => {\n        fireEvent(Events.DOCUMENT_MERGED, { filename, pages: otherWebViewerIframe.contentWindow.pagesExtracted });\n        dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n        resolve({ filename, pages });\n      });\n    }).catch((err) => {\n      dispatch(actions.closeElement(DataElements.LOADING_MODAL));\n      reject(err);\n    });\n  });\n};","import debounce from 'lodash/debounce';\nimport React, { useEffect, useRef, useState } from 'react';\nimport { shallowEqual, useDispatch, useSelector } from 'react-redux';\nimport { List } from 'react-virtualized';\nimport Measure from 'react-measure';\nimport classNames from 'classnames';\nimport { isIE11 } from 'helpers/device';\n\nimport Thumbnail from 'components/Thumbnail';\nimport DocumentControls from 'components/DocumentControls';\nimport Button from 'components/Button';\n\nimport core from 'core';\nimport { extractPagesToMerge, mergeDocument, mergeExternalWebViewerDocument } from 'helpers/pageManipulation';\nimport selectors from 'selectors';\nimport actions from 'actions';\nimport Events from 'constants/events';\nimport DataElements from 'constants/dataElement';\nimport fireEvent from 'helpers/fireEvent';\n\nimport './ThumbnailsPanel.scss';\nimport getRootNode from 'helpers/getRootNode';\nimport { useTranslation } from 'react-i18next';\n\nconst dataTransferWebViewerFrameKey = 'dataTransferWebViewerFrame';\n\nconst ZOOM_RANGE_MIN = '100';\nconst ZOOM_RANGE_MAX = '1000';\nconst ZOOM_RANGE_STEP = '50';\nconst MAX_COLUMNS = 16;\n\nconst hoverAreaHeight = 25;\n\nconst ThumbnailsPanel = ({ panelSelector, parentDataElement }) => {\n  const [\n    isLeftPanelOpen,\n    isDisabled,\n    totalPages,\n    currentPage,\n    selectedPageIndexes,\n    isThumbnailMergingEnabled,\n    isThumbnailReorderingEnabled,\n    isMultipleViewerMerging,\n    isThumbnailControlDisabled,\n    isThumbnailSliderDisabled,\n    isReaderMode,\n    isDocumentReadOnly,\n    totalPagesFromSecondaryDocumentViewer,\n    activeDocumentViewerKey,\n    isRightClickEnabled,\n  ] = useSelector(\n    (state) => [\n      selectors.isElementOpen(state, 'leftPanel'),\n      selectors.isElementDisabled(state, 'thumbnailsPanel'),\n      selectors.getTotalPages(state),\n      selectors.getCurrentPage(state),\n      selectors.getSelectedThumbnailPageIndexes(state),\n      selectors.getIsThumbnailMergingEnabled(state),\n      selectors.getIsThumbnailReorderingEnabled(state),\n      selectors.getIsMultipleViewerMerging(state),\n      selectors.isElementDisabled(state, 'thumbnailControl'),\n      selectors.isElementDisabled(state, 'thumbnailsSizeSlider'),\n      selectors.isReaderMode(state),\n      selectors.isDocumentReadOnly(state),\n      selectors.getTotalPages(state, 2),\n      selectors.getActiveDocumentViewerKey(state),\n      selectors.openingPageManipulationOverlayByRightClickEnabled(state),\n    ],\n    shallowEqual,\n  );\n\n  const [t] = useTranslation();\n\n  const listRef = useRef();\n  const pendingThumbs = useRef([]);\n  const thumbs = useRef([]);\n  const afterMovePageNumber = useRef(null);\n\n  const [isOfficeEditor, setIsOfficeEditor] = useState(false);\n  const [canLoad, setCanLoad] = useState(true);\n  const [height, setHeight] = useState(0);\n  const [width, setWidth] = useState(0);\n  const [draggingOverPageIndex, setDraggingOverPageIndex] = useState(null);\n  const [isDraggingToPreviousPage, setDraggingToPreviousPage] = useState(false);\n  const [numberOfColumns, setNumberOfColumns] = useState(1);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const [thumbnailSize, setThumbnailSize] = useState(150);\n  const [lastTimeTriggered, setLastTimeTriggered] = useState(0);\n  const [globalIndex, setGlobalIndex] = useState(0);\n  const pageCount = activeDocumentViewerKey === 2 ? totalPagesFromSecondaryDocumentViewer : totalPages;\n\n  const dispatch = useDispatch();\n\n  // If memory becomes an issue, change this to use pageNumbers.\n  // Instead of a debounced drawAnnotations function, perhaps use\n  // a function that first checks for the pageNumber in this map\n  // before calling drawAnnotations on a page.\n  let activeThumbRenders = {};\n\n  const getThumbnailSize = (pageWidth, pageHeight) => {\n    let width;\n    let height;\n    let ratio;\n\n    if (pageWidth > pageHeight) {\n      ratio = pageWidth / thumbnailSize;\n      width = thumbnailSize;\n      height = Math.round(pageHeight / ratio);\n    } else {\n      ratio = pageHeight / thumbnailSize;\n      width = Math.round(pageWidth / ratio); // Chrome has trouble displaying borders of non integer width canvases.\n      height = thumbnailSize;\n    }\n\n    return {\n      width,\n      height,\n    };\n  };\n\n  const updateAnnotations = (pageIndex) => {\n    const thumbContainer = thumbs.current && thumbs.current[pageIndex] && thumbs.current[pageIndex].element;\n    if (!thumbContainer) {\n      return;\n    }\n\n    const pageNumber = pageIndex + 1;\n    const pageWidth = core.getPageWidth(pageNumber);\n    const pageHeight = core.getPageHeight(pageNumber);\n\n    const { width, height } = getThumbnailSize(pageWidth, pageHeight);\n\n    const annotCanvas = thumbContainer.querySelector('.annotation-image') || document.createElement('canvas');\n    annotCanvas.className = 'annotation-image';\n    annotCanvas.style.maxWidth = `${thumbnailSize}px`;\n    annotCanvas.style.maxHeight = `${thumbnailSize}px`;\n    const ctx = annotCanvas.getContext('2d');\n\n    let zoom = 1;\n    let rotation = core.getCompleteRotation(pageNumber);\n    if (rotation < 0) {\n      rotation += 4;\n    }\n    const multiplier = window.Core.getCanvasMultiplier();\n\n    if (rotation % 2 === 0) {\n      annotCanvas.width = width;\n      annotCanvas.height = height;\n      zoom = annotCanvas.width / pageWidth;\n      zoom /= multiplier;\n    } else {\n      annotCanvas.width = height;\n      annotCanvas.height = width;\n\n      zoom = annotCanvas.height / pageWidth;\n      zoom /= multiplier;\n    }\n\n    thumbContainer.appendChild(annotCanvas);\n    core.setAnnotationCanvasTransform(ctx, zoom, rotation);\n\n    let options = {\n      pageNumber,\n      overrideCanvas: annotCanvas,\n    };\n\n    const thumb = thumbContainer.querySelector('.page-image');\n\n    if (thumb) {\n      options = {\n        ...options,\n        overridePageRotation: rotation,\n        overridePageCanvas: thumb,\n      };\n    } else {\n      return;\n    }\n\n    if (!activeThumbRenders[pageNumber]) {\n      activeThumbRenders[pageNumber] = debounce(core.drawAnnotations, 112);\n    }\n    const debouncedDraw = activeThumbRenders[pageNumber];\n    debouncedDraw(options);\n  };\n\n  useEffect(() => {\n    const onBeginRendering = () => {\n      setCanLoad(false);\n    };\n\n    const onFinishedRendering = (needsMoreRendering) => {\n      if (!needsMoreRendering) {\n        setCanLoad(true);\n      }\n    };\n\n    const onDocumentLoaded = () => {\n      if (core.getDocument()?.getType() === 'officeEditor') {\n        setIsOfficeEditor(true);\n      } else {\n        setIsOfficeEditor(false);\n      }\n      activeThumbRenders = {};\n      dispatch(actions.setSelectedPageThumbnails([]));\n    };\n\n    const onPageComplete = () => {\n      if (afterMovePageNumber.current) {\n        core.setCurrentPage(afterMovePageNumber.current);\n        afterMovePageNumber.current = null;\n      }\n    };\n\n    core.addEventListener('beginRendering', onBeginRendering);\n    core.addEventListener('finishedRendering', onFinishedRendering);\n    core.addEventListener('documentLoaded', onDocumentLoaded);\n    core.addEventListener('pageComplete', onPageComplete);\n\n\n    // The document might have already been loaded before this component is mounted.\n    // If document is already loaded, call 'onDocumentLoaded()' manually to update the state properly.\n    if (core.getDocument()) {\n      onDocumentLoaded();\n    }\n\n    return () => {\n      core.removeEventListener('beginRendering', onBeginRendering);\n      core.removeEventListener('finishedRendering', onFinishedRendering);\n      core.removeEventListener('documentLoaded', onDocumentLoaded);\n      core.removeEventListener('pageComplete', onPageComplete);\n    };\n  }, []);\n\n  useEffect(() => {\n    const onPagesUpdated = (changes) => {\n      if (!changes) {\n        return;\n      }\n      let updatedPagesIndexes = Array.from(selectedPageIndexes);\n\n      if (changes.removed) {\n        updatedPagesIndexes = updatedPagesIndexes.filter((pageIndex) => changes.removed.indexOf(pageIndex + 1) === -1);\n      }\n\n      if (changes.moved) {\n        updatedPagesIndexes = updatedPagesIndexes.map((pageIndex) => (changes.moved[pageIndex + 1] ? changes.moved[pageIndex + 1] - 1 : pageIndex),\n        );\n      }\n\n      const isPageAddedBefore = changes.added && (changes.added[0] - 1) <= updatedPagesIndexes[0];\n      if (updatedPagesIndexes.length === 1 && isPageAddedBefore) {\n        updatedPagesIndexes = changes.added.map((pageNumber) => pageNumber - 1);\n      }\n\n      dispatch(actions.setSelectedPageThumbnails(updatedPagesIndexes));\n    };\n\n    core.addEventListener('pagesUpdated', onPagesUpdated);\n\n    return () => core.removeEventListener('pagesUpdated', onPagesUpdated);\n  }, [selectedPageIndexes]);\n\n  useEffect(() => {\n    listRef.current?.scrollToRow(Math.floor((currentPage - 1) / numberOfColumns));\n    const onAnnotationChanged = (annots) => {\n      const indices = [];\n\n      annots.forEach((annot) => {\n        const pageIndex = annot.PageNumber - 1;\n        if (!annot.Listable || indices.indexOf(pageIndex) > -1) {\n          return;\n        }\n        indices.push(pageIndex);\n\n        updateAnnotations(pageIndex);\n      });\n    };\n\n    const onPageNumberUpdated = (pageNumber) => {\n      const pageIndex = pageNumber - 1;\n      listRef.current?.scrollToRow(Math.floor(pageIndex / numberOfColumns));\n    };\n\n    core.addEventListener('pageNumberUpdated', onPageNumberUpdated);\n    core.addEventListener('annotationChanged', onAnnotationChanged);\n    core.addEventListener('annotationHidden', onAnnotationChanged);\n\n    return () => {\n      core.removeEventListener('pageNumberUpdated', onPageNumberUpdated);\n      core.removeEventListener('annotationChanged', onAnnotationChanged);\n      core.removeEventListener('annotationHidden', onAnnotationChanged);\n    };\n  }, [thumbnailSize, numberOfColumns]);\n\n  useEffect(() => {\n    if (isReaderMode || isDocumentReadOnly) {\n      dispatch(actions.setSelectedPageThumbnails([]));\n      dispatch(actions.setThumbnailSelectingPages(false));\n    }\n  }, [isReaderMode, isDocumentReadOnly]);\n\n  // if disabled, or is office editor or left panel is not open when we are not in customize mode, return\n  if (isDisabled || isOfficeEditor || (!isLeftPanelOpen && !panelSelector)) {\n    return null;\n  }\n  const onDragEnd = () => {\n    setIsDragging(false);\n    setDraggingOverPageIndex(null);\n  };\n\n  const scrollToRowHelper = (index, change, time) => {\n    const now = new Date().getTime();\n    if (index < pageCount - 1 && index > 0 && now - lastTimeTriggered >= time) {\n      listRef.current?.scrollToRow(Math.floor((index + change) / numberOfColumns));\n      setLastTimeTriggered(now);\n      return index + change;\n    }\n    return index;\n  };\n\n  const onDragOver = (e, index) => {\n    // 'preventDefault' to prevent opening pdf dropped in and 'stopPropagation' to keep parent from opening pdf\n    e.preventDefault();\n    e.stopPropagation();\n    if (!isThumbnailReorderingEnabled && !isThumbnailMergingEnabled) {\n      return;\n    }\n\n    const thumbnail = e.target.getBoundingClientRect();\n    if (numberOfColumns > 1) {\n      // row with more than 1 thumbnail so user are dragging to the left and right\n      setDraggingToPreviousPage(!(e.pageX > thumbnail.x + thumbnail.width / 2));\n    } else {\n      setDraggingToPreviousPage(!(e.pageY > thumbnail.y + thumbnail.height / 2));\n    }\n\n    setDraggingOverPageIndex(index);\n    const virtualizedThumbnailContainerElement = getRootNode().querySelector('#virtualized-thumbnails-container');\n    const { y, bottom } = virtualizedThumbnailContainerElement.getBoundingClientRect();\n\n    if (e.pageY < y + hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, -1, 400));\n    } else if (e.pageY > bottom - hoverAreaHeight * 4) {\n      setGlobalIndex(scrollToRowHelper(index, 1, 400));\n    }\n  };\n\n  const scrollDown = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, 1, 200));\n  };\n  const scrollUp = () => {\n    setGlobalIndex(scrollToRowHelper(globalIndex, -1, 200));\n  };\n\n  const onDragStart = (e, index) => {\n    setGlobalIndex(index);\n    setIsDragging(true);\n    const draggingSelectedPage = selectedPageIndexes.some((i) => i === index);\n    const pagesToMove = draggingSelectedPage ? selectedPageIndexes.map((index) => index + 1) : [index + 1];\n    fireEvent(Events.THUMBNAIL_DRAGGED);\n    // need to set 'text' to empty for drag to work in FireFox and mobile\n    e.dataTransfer.setData('text', '');\n\n    if (pagesToMove.length > 1) {\n      // can't set to null so set to new instance of an image\n      e.dataTransfer.setDragImage(new Image(), 0, 0);\n    }\n\n    if (isThumbnailMergingEnabled && isMultipleViewerMerging) {\n      e.dataTransfer.dropEffect = 'move';\n      e.dataTransfer.effectAllowed = 'all';\n      e.dataTransfer.setData(dataTransferWebViewerFrameKey, window.frameElement.id);\n      extractPagesToMerge(pagesToMove);\n    }\n\n    if (!draggingSelectedPage) {\n      dispatch(actions.setSelectedPageThumbnails([index]));\n    }\n\n    core.setCurrentPage(index + 1);\n  };\n\n  const onDrop = (e) => {\n    e.preventDefault();\n    const { files } = e.dataTransfer;\n    const insertTo = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n    let externalPageWebViewerFrameId;\n    if (!isIE11) {\n      // at this time of writing, IE11 does not really have support for getData\n      externalPageWebViewerFrameId = e.dataTransfer.getData(dataTransferWebViewerFrameKey);\n    }\n    const mergingDocument =\n      (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) || files.length;\n    const currentPageIndex = currentPage - 1;\n\n    if (isThumbnailMergingEnabled && mergingDocument) {\n      if (externalPageWebViewerFrameId && window.frameElement.id !== externalPageWebViewerFrameId) {\n        dispatch(mergeExternalWebViewerDocument(externalPageWebViewerFrameId, insertTo));\n      } else if (files.length) {\n        Array.from(files).forEach((file) => {\n          dispatch(mergeDocument(file, insertTo));\n        });\n      }\n    } else if (isThumbnailReorderingEnabled && !mergingDocument) {\n      if (draggingOverPageIndex !== null) {\n        const targetPageNumber = isDraggingToPreviousPage ? draggingOverPageIndex + 1 : draggingOverPageIndex + 2;\n        const draggingSelectedPage = selectedPageIndexes.some((i) => i === currentPageIndex);\n        const pageNumbersToMove = draggingSelectedPage ? selectedPageIndexes.map((i) => i + 1) : [currentPage];\n        afterMovePageNumber.current = targetPageNumber - pageNumbersToMove.filter((p) => p < targetPageNumber).length;\n        core.movePages(pageNumbersToMove, targetPageNumber);\n        const updatedPagesNumbers = [];\n        for (let offset = 0; offset < pageNumbersToMove.length; offset++) {\n          updatedPagesNumbers.push(afterMovePageNumber.current + offset);\n        }\n        fireEvent(Events.THUMBNAIL_DROPPED, { pageNumbersBeforeMove: pageNumbersToMove, pagesNumbersAfterMove: updatedPagesNumbers, numberOfPagesMoved: updatedPagesNumbers.length });\n      }\n    }\n    setDraggingOverPageIndex(null);\n    setIsDragging(false);\n  };\n\n  const onLoad = (pageIndex, element, id) => {\n    if (!thumbIsLoaded(pageIndex) && !thumbIsPending(pageIndex)) {\n      thumbs.current[pageIndex] = {\n        element,\n        loaded: false,\n      };\n\n      pendingThumbs.current.push({\n        pageIndex,\n        id,\n      });\n    }\n  };\n\n  const removeFromPendingThumbs = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const thumbIsLoaded = (pageIndex) => thumbs.current[pageIndex]?.loaded;\n\n  const thumbIsPending = (pageIndex) => getPendingThumbIndex(pageIndex) !== -1;\n\n  const onCancel = (pageIndex) => {\n    const index = getPendingThumbIndex(pageIndex);\n    if (index !== -1) {\n      core.cancelLoadThumbnail(pendingThumbs.current[index].id);\n      pendingThumbs.current.splice(index, 1);\n    }\n  };\n\n  const onRightClick = (event, pageIndex) => {\n    event.preventDefault();\n    core.setCurrentPage(pageIndex + 1);\n    if (!selectedPageIndexes.includes(pageIndex)) {\n      dispatch(actions.setSelectedPageThumbnails([pageIndex]));\n    }\n\n    if (isReaderMode || isDocumentReadOnly) {\n      return;\n    }\n\n    dispatch(actions.setPageManipulationOverlayAlternativePosition({ left: event.pageX, right: 'auto', top: event.pageY }));\n    dispatch(actions.openElements([DataElements.PAGE_MANIPULATION_OVERLAY]));\n  };\n\n  const getPendingThumbIndex = (pageIndex) => pendingThumbs.current.findIndex((thumbStatus) => thumbStatus.pageIndex === pageIndex);\n\n  const onRemove = (pageIndex) => {\n    onCancel(pageIndex);\n    const canvases = thumbs.current[pageIndex]?.element?.querySelectorAll('canvas');\n    if (canvases?.length) {\n      canvases.forEach((c) => {\n        c.height = 0;\n        c.width = 0;\n      });\n    }\n\n    if (activeThumbRenders[pageIndex]) {\n      activeThumbRenders[pageIndex].cancel();\n    }\n    thumbs.current[pageIndex] = null;\n  };\n\n  const renderThumbnails = ({ index, key, style }) => {\n    const className = classNames({\n      columnsOfThumbnails: numberOfColumns > 1,\n      row: true,\n    });\n    const allowPageOperationsUI = !(isReaderMode || isDocumentReadOnly);\n\n    return (\n      <div role=\"row\" aria-label=\"row\" className={className} key={key} style={style}>\n        {new Array(numberOfColumns).fill().map((_, columnIndex) => {\n          const thumbIndex = index * numberOfColumns + columnIndex;\n          const allowDragAndDrop = allowPageOperationsUI && (isThumbnailMergingEnabled || isThumbnailReorderingEnabled);\n          const showPlaceHolder = allowDragAndDrop && draggingOverPageIndex === thumbIndex;\n\n          return thumbIndex < pageCount ? (\n            <React.Fragment key={thumbIndex}>\n              {(numberOfColumns > 1 || thumbIndex === 0) && showPlaceHolder && isDraggingToPreviousPage && <div key={`placeholder1-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n              <div key={thumbIndex} role=\"cell\" onDragEnd={onDragEnd} className=\"cellThumbContainer\" onContextMenu={(e) => isRightClickEnabled && onRightClick(e, thumbIndex)}>\n                <Thumbnail\n                  isDraggable={allowDragAndDrop}\n                  isSelected={selectedPageIndexes.includes(thumbIndex)}\n                  index={thumbIndex}\n                  canLoad={canLoad}\n                  onLoad={onLoad}\n                  onCancel={onCancel}\n                  onRemove={onRemove}\n                  onDragStart={onDragStart}\n                  onDragOver={onDragOver}\n                  onFinishLoading={removeFromPendingThumbs}\n                  updateAnnotations={updateAnnotations}\n                  shouldShowControls={allowPageOperationsUI}\n                  thumbnailSize={thumbnailSize}\n                  panelSelector={panelSelector}\n                />\n              </div>\n              {showPlaceHolder && !isDraggingToPreviousPage && <div key={`placeholder2-${thumbIndex}`} className=\"thumbnailPlaceholder\" />}\n            </React.Fragment>\n          ) : null;\n        })}\n      </div>\n    );\n  };\n\n  const onPanelResize = ({ bounds }) => {\n    setHeight(bounds.height);\n    setWidth(bounds.width);\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(bounds.width / thumbnailSize))));\n  };\n\n  const updateNumberOfColumns = () => {\n    setNumberOfColumns(Math.min(MAX_COLUMNS, Math.max(1, Math.floor(width / thumbnailSize))));\n  };\n\n  const thumbnailHeight = isThumbnailControlDisabled ? Number(thumbnailSize) + 50 : Number(thumbnailSize) + 80;\n  const shouldShowControls = !(isReaderMode || isDocumentReadOnly);\n  const thumbnailAutoScrollAreaStyle = {\n    'height': `${hoverAreaHeight}px`,\n  };\n\n  return (\n    <React.Fragment>\n      {!isThumbnailSliderDisabled && <div data-element=\"thumbnailsSizeSlider\" className=\"thumbnail-slider-container\">\n        <Button\n          img=\"icon-zoom-thumb-out\"\n          title=\"action.zoomOut\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize - Number(ZOOM_RANGE_STEP) > Number(ZOOM_RANGE_STEP)) {\n              setThumbnailSize(thumbnailSize - Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbOutButton\"\n        />\n        <input\n          role='slider'\n          type=\"range\"\n          aria-label='thumbnail size slider'\n          min={ZOOM_RANGE_MIN}\n          max={ZOOM_RANGE_MAX}\n          value={thumbnailSize}\n          aria-valuemin={ZOOM_RANGE_MIN}\n          aria-valuemax={ZOOM_RANGE_MAX}\n          aria-valuenow={thumbnailSize}\n          onChange={(e) => {\n            setThumbnailSize(Number(e.target.value));\n            updateNumberOfColumns();\n          }}\n          step={ZOOM_RANGE_STEP}\n          className=\"thumbnail-slider\"\n          id=\"thumbnailSize\"\n        />\n        <Button\n          img=\"icon-zoom-thumb-in\"\n          title=\"action.zoomIn\"\n          hideTooltipShortcut\n          onClick={() => {\n            if (thumbnailSize + Number(ZOOM_RANGE_STEP) < 1001) {\n              setThumbnailSize(thumbnailSize + Number(ZOOM_RANGE_STEP));\n              updateNumberOfColumns();\n            }\n          }}\n          dataElement=\"zoomThumbInButton\"\n        />\n      </div>}\n      <Measure bounds onResize={onPanelResize} key={thumbnailSize}>\n        {({ measureRef }) => (\n          <div className={`Panel ThumbnailsPanel ${panelSelector}`} id=\"virtualized-thumbnails-container\" data-element=\"thumbnailsPanel\" onDrop={onDrop} ref={measureRef}>\n            <div className=\"virtualized-thumbnails-container\">\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollUp} style={thumbnailAutoScrollAreaStyle}></div> : ''\n              }\n              <List\n                ref={listRef}\n                height={height}\n                width={width}\n                rowHeight={thumbnailHeight}\n                // Round it to a whole number because React-Virtualized list library doesn't round it for us and throws errors when rendering non whole number rows\n                // use ceiling rather than floor so that an extra row can be created in case the items can't be evenly distributed between rows\n                rowCount={Math.ceil(pageCount / numberOfColumns)}\n                rowRenderer={renderThumbnails}\n                overscanRowCount={3}\n                className={'thumbnailsList'}\n                style={{ outline: 'none' }}\n                // Ensure we show the current page in the thumbnails when we open the panel\n                scrollToIndex={Math.floor((currentPage - 1) / numberOfColumns)}\n                role='grid'\n                aria-label={t('component.thumbnailsPanel')}\n              />\n              {isDragging ?\n                <div className=\"thumbnailAutoScrollArea\" onDragOver={scrollDown} style={{ ...thumbnailAutoScrollAreaStyle, 'bottom': '70px' }}></div> : ''\n              }\n            </div>\n          </div>\n        )}\n      </Measure>\n      <DocumentControls shouldShowControls={shouldShowControls} parentElement={parentDataElement || panelSelector}/>\n    </React.Fragment>\n  );\n};\n\nexport default ThumbnailsPanel;\n","import ThumbnailsPanel from './ThumbnailsPanel';\n\nexport default ThumbnailsPanel;\n"],"sourceRoot":""}