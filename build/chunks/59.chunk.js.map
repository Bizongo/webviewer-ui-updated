{"version":3,"sources":["webpack:///./src/components/FilterAnnotModal/FilterAnnotModal.scss?db83","webpack:///./src/components/FilterAnnotModal/FilterAnnotModal.scss","webpack:///./src/components/FilterAnnotModal/FilterAnnotModal.js","webpack:///./src/components/FilterAnnotModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","window","isApryseWebViewerWebComponent","document","head","appendChild","webComponents","getElementsByTagName","length","findNestedWebComponents","tagName","root","elements","querySelectorAll","forEach","el","push","shadowRoot","clonedStyleTags","webComponent","onload","styleNode","innerHTML","cloneNode","exports","locals","___CSS_LOADER_API_IMPORT___","TABS_ID","FilterAnnotModal","_useSelector2","_slicedToArray","useSelector","state","selectors","isElementDisabled","DataElements","FILTER_MODAL","isElementOpen","getColorMap","getSelectedTab","getAnnotationFilters","getIsMeasurementAnnotationFilterEnabled","isDisabled","isOpen","colorMap","selectedTab","annotationFilters","isMeasurementAnnotationFilterEnabled","t","useTranslation","dispatch","useDispatch","_useState2","useState","authors","setAuthors","_useState4","annotTypes","setAnnotTypes","_useState6","colors","setColorTypes","_useState8","statuses","setStatusTypes","_useState10","authorFilter","setAuthorFilter","_useState12","typesFilter","setTypesFilter","_useState14","colorFilter","setColorFilter","_useState16","checkRepliesForAuthorFilter","setCheckRepliesForAuthorFilter","_useState18","isDocumentFilterActive","setIsDocumentFilterActive","_useState20","statusFilter","setStatusFilter","_useState22","filterCount","setFilterCount","_useState24","ifShowAnnotationStatus","setIfShowAnnotationStatus","getIconColor","annot","_colorMap$key","key","mapAnnotationToKey","iconColor","similarColorExist","currColors","newColor","colorObject","map","c","Object","assign","R","parseInt","concat","G","B","filter","Math","abs","filterApply","newFilter","documentViewerKey","arguments","undefined","type","author","color","status","isMeasurementAnnotation","IT","getCustomData","measurementKey","includes","getAnnotationClass","core","getDisplayAuthor","_step","allReplies","getReplies","_iterator","_createForOfIteratorHelper","s","n","done","reply","value","err","e","f","getStatus","actions","setCustomNoteFilter","setAnnotationFilters","includeReplies","typeFilter","redrawList","getDocumentViewers","documentViewer","index","getAnnotationManager","getAnnotationsList","shouldHide","NoView","drawAnnotationsFromList","fireEvent","Events","ANNOTATION_FILTER_CHANGED","types","closeModal","filterClear","closeElement","setToolMode","defaultTool","useEffect","clearAllFilters","addEventListener","removeEventListener","_ref","annotLists","annots","apply","_toConsumableArray","Hidden","authorsToBeAdded","Set","annotTypesToBeAdded","annotColorsToBeAdded","annotStatusesToBeAdded","displayAuthor","add","Core","Annotations","WidgetAnnotation","StickyAnnotation","isReply","Link","rgbaToHex","A","ANNOTATION_STATUS_FILTER_PANEL_BUTTON","setSelectedTab","ANNOTATION_USER_FILTER_PANEL_BUTTON","modalClass","classNames","Modal","open","closed","React","createElement","className","data-element","onMouseDown","FocusTrap","locked","focusLastOnUnlock","stopPropagation","Swipeable","onSwipedDown","preventDefaultTouchmoveEvent","Button","img","onClick","title","Tabs","id","Tab","dataElement","ANNOTATION_COLOR_FILTER_PANEL_BUTTON","ANNOTATION_TYPE_FILTER_PANEL_BUTTON","Fragment","TabPanel","val","Choice","label","Tooltip","checked","onChange","indexOf","target","getAttribute","style","background","getHexToRgbaString","sort","type1","type2","toLocaleLowerCase","disabled"],"mappings":"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","file":"chunks/59.chunk.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/postcss-loader/src/index.js??postcss!../../../node_modules/sass-loader/dist/cjs.js!./FilterAnnotModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\n                function findNestedWebComponents(tagName, root = document) {\n                  const elements = [];\n\n                  // Check direct children\n                  root.querySelectorAll(tagName).forEach(el => elements.push(el));\n\n                  // Check shadow DOMs\n                  root.querySelectorAll('*').forEach(el => {\n                    if (el.shadowRoot) {\n                      elements.push(...findNestedWebComponents(tagName, el.shadowRoot));\n                    }\n                  });\n\n                  return elements;\n                }\n                if (!window.isApryseWebViewerWebComponent) {\n                  document.head.appendChild(styleTag);\n                  return;\n                }\n\n                let webComponents;\n                // First we see if the webcomponent is at the document level\n                webComponents = document.getElementsByTagName('apryse-webviewer');\n                // If not, we check have to check if it is nested in another webcomponent\n                if (!webComponents.length) {\n                  webComponents = findNestedWebComponents('apryse-webviewer');\n                }\n                // Now we append the style tag to each webcomponent\n                const clonedStyleTags = [];\n                for (let i = 0; i < webComponents.length; i++) {\n                  const webComponent = webComponents[i];\n                  if (i === 0) {\n                    webComponent.shadowRoot.appendChild(styleTag);\n                    styleTag.onload = function () {\n                      if (clonedStyleTags.length > 0) {\n                        clonedStyleTags.forEach((styleNode) => {\n                          // eslint-disable-next-line no-unsanitized/property\n                          styleNode.innerHTML = styleTag.innerHTML;\n                        });\n                      }\n                    };\n                  } else {\n                    const styleNode = styleTag.cloneNode(true);\n                    webComponent.shadowRoot.appendChild(styleNode);\n                    clonedStyleTags.push(styleNode);\n                  }\n                }\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".open.FilterAnnotModal{visibility:visible}.closed.FilterAnnotModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.FilterAnnotModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.FilterAnnotModal .modal-container .wrapper .modal-content{padding:10px}.FilterAnnotModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.FilterAnnotModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.FilterAnnotModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.FilterAnnotModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.FilterAnnotModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.FilterAnnotModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.FilterAnnotModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.FilterAnnotModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.FilterAnnotModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.FilterAnnotModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .footer .modal-button{padding:23px 8px}}.FilterAnnotModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .swipe-indicator{display:none}}.FilterAnnotModal .container{overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .FilterAnnotModal .container,.FilterAnnotModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .FilterAnnotModal .container,.FilterAnnotModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .container,.FilterAnnotModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .container,.FilterAnnotModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}.FilterAnnotModal .container .filter-modal .body .tab-list{width:100%;height:28px;display:flex;border-radius:4px;color:var(--text-color)}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button{border-bottom:2px solid #fff!important;padding:0 20px!important;text-align:center;vertical-align:middle;line-height:24px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;display:flex;border-radius:0;cursor:pointer}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button:hover{color:#7d69ff;border-bottom:2px solid #7d69ff!important}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button:hover .tabs_icon{color:#7d69ff}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button.selected{color:#7d69ff;border-bottom:2px solid #7d69ff!important;cursor:default}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button.selected .tabs_icon{color:#7d69ff}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button .tabs_icon{height:10px;width:20px;margin-top:2px;margin-right:6px}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-divider{width:1px;background:var(--divider)}.FilterAnnotModal{font-size:.9em}.FilterAnnotModal .container{display:flex;flex-direction:column;align-items:center;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);width:360px}.FilterAnnotModal .container .message{font-size:14px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .FilterAnnotModal .container .message{font-size:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .FilterAnnotModal .container .message{font-size:16px}}.FilterAnnotModal .container .filter-modal{display:flex;flex-direction:column;width:100%}.FilterAnnotModal .container .filter-modal .divider{height:1px;width:100%;background:var(--divider)}.FilterAnnotModal .container .filter-modal .header{display:flex;justify-content:space-between;margin:16px;font-size:16px;font-weight:700;align-items:center;height:24px}.FilterAnnotModal .container .filter-modal .header .Button{height:24px}.FilterAnnotModal .container .filter-modal .body{padding:16px}.FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button{padding:0;border:none;background-color:transparent}:host(:not([data-tabbing=true])) .FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button,html:not([data-tabbing=true]) .FilterAnnotModal .container .filter-modal .body .tab-list .tab-options-button{outline:none}.FilterAnnotModal .container .filter-modal .body .filter-options{height:200px;width:100%}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel{height:100%;width:100%;display:flex;flex-direction:column}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .include-replies{display:flex;height:20px;margin-top:12px}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .include-replies label{color:var(--gray-7)}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .three-column-filter{margin-top:20px;overflow-y:scroll;display:grid;grid-gap:5px 16px;grid-template-columns:repeat(3,minmax(0,1fr))}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .color-filters{margin-top:20px;overflow-y:scroll;display:grid;grid-gap:16px;grid-template-columns:repeat(5,minmax(0,1fr))}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .buttons{display:grid;padding:6px 0;grid-template-columns:100px 100px}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .colorSelect{display:flex;flex-direction:row}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel .colorSelect .colorCell{width:22px;height:22px;border-radius:10000000px;margin-left:4px}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel label{overflow:hidden}.FilterAnnotModal .container .filter-modal .body .filter-options .tab-panel label div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.FilterAnnotModal .container .filter-modal .settings-body{display:flex;flex-direction:column;padding:16px;font-size:var(--font-size-default);grid-gap:12px;gap:12px}.FilterAnnotModal .container .filter-modal .settings-body .settings-header{font-weight:var(--font-weight-bold)}.FilterAnnotModal .container .filter-modal .settings-body .settings{display:flex;flex-direction:column;grid-gap:8px;gap:8px}.FilterAnnotModal .container .filter-modal .settings-body .settings .setting{display:flex;flex-direction:row;grid-gap:16px;gap:16px}.FilterAnnotModal .container .filter-modal .footer{display:flex;justify-content:space-between;width:100%;padding:16px;margin-top:0}.FilterAnnotModal .container .filter-modal .footer .Button{display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);padding:6px 18px;width:auto;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;height:32px;cursor:pointer}.FilterAnnotModal .container .filter-modal .footer .Button:hover{background:var(--primary-button-hover)}.FilterAnnotModal .container .filter-modal .footer .Button.disabled{background:var(--gray-6);border-color:var(--gray-6);cursor:not-allowed}.FilterAnnotModal .container .filter-modal .footer .filter-annot-clear{color:var(--secondary-button-text);background:none}.FilterAnnotModal .container .filter-modal .footer .filter-annot-clear:hover{color:var(--secondary-button-hover);background:none}\", \"\"]);\n// Exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};\nmodule.exports = exports;\n","import React, { useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useTranslation } from 'react-i18next';\nimport core from 'core';\nimport actions from 'actions';\nimport selectors from 'selectors';\nimport fireEvent from 'helpers/fireEvent';\nimport { Swipeable } from 'react-swipeable';\nimport { FocusTrap } from '@pdftron/webviewer-react-toolkit';\nimport defaultTool from 'constants/defaultTool';\nimport Events from 'constants/events';\nimport { mapAnnotationToKey } from 'constants/map';\nimport DataElements from 'constants/dataElement';\nimport { rgbaToHex, getHexToRgbaString } from 'helpers/color';\nimport { getAnnotationClass } from 'helpers/getAnnotationClass';\nimport Choice from 'components/Choice';\nimport Button from 'components/Button';\nimport { Tabs, Tab, TabPanel } from 'components/Tabs';\nimport Tooltip from 'components/Tooltip';\n\nimport './FilterAnnotModal.scss';\n\nconst TABS_ID = 'filterAnnotModal';\n\nconst FilterAnnotModal = () => {\n  const [isDisabled, isOpen, colorMap, selectedTab, annotationFilters, isMeasurementAnnotationFilterEnabled] = useSelector((state) => [\n    selectors.isElementDisabled(state, DataElements.FILTER_MODAL),\n    selectors.isElementOpen(state, DataElements.FILTER_MODAL),\n    selectors.getColorMap(state),\n    selectors.getSelectedTab(state, TABS_ID),\n    selectors.getAnnotationFilters(state),\n    selectors.getIsMeasurementAnnotationFilterEnabled(state),\n  ]);\n  const [t] = useTranslation();\n  const dispatch = useDispatch();\n\n  const [authors, setAuthors] = useState([]);\n  const [annotTypes, setAnnotTypes] = useState([]);\n  const [colors, setColorTypes] = useState([]);\n  const [statuses, setStatusTypes] = useState([]);\n  const [authorFilter, setAuthorFilter] = useState([]);\n  const [typesFilter, setTypesFilter] = useState([]);\n  const [colorFilter, setColorFilter] = useState([]);\n  const [checkRepliesForAuthorFilter, setCheckRepliesForAuthorFilter] = useState(true);\n  const [isDocumentFilterActive, setIsDocumentFilterActive] = useState(false);\n  const [statusFilter, setStatusFilter] = useState([]);\n  const [filterCount, setFilterCount] = useState(0);\n  const [ifShowAnnotationStatus, setIfShowAnnotationStatus] = useState(false);\n\n  const getIconColor = (annot) => {\n    const key = mapAnnotationToKey(annot);\n    const iconColorProperty = colorMap[key]?.iconColor;\n\n    return annot[iconColorProperty];\n  };\n\n  const similarColorExist = (currColors, newColor) => {\n    const colorObject = currColors.map((c) => Object.assign({\n      R: parseInt(`${c[1]}${c[2]}`, 16),\n      G: parseInt(`${c[3]}${c[4]}`, 16),\n      B: parseInt(`${c[5]}${c[6]}`, 16)\n    }));\n\n    const threshold = 10;\n    const similarColors = colorObject\n      .filter((c) => Math.abs(newColor.R - c.R) < threshold\n        && Math.abs(newColor.G - c.G) < threshold\n        && Math.abs(newColor.B - c.B) < threshold);\n\n    return !!similarColors.length;\n  };\n\n  const filterApply = () => {\n    const newFilter = (annot, documentViewerKey = 1) => {\n      let type = true;\n      let author = true;\n      let color = true;\n      let status = true;\n      if (typesFilter.length > 0) {\n        const isMeasurementAnnotation = annot.IT || annot.getCustomData('trn-is-count');\n        if (isMeasurementAnnotationFilterEnabled && isMeasurementAnnotation) {\n          const measurementKey = mapAnnotationToKey(annot);\n          type = typesFilter.includes(measurementKey);\n        } else {\n          type = typesFilter.includes(getAnnotationClass(annot));\n        }\n      }\n      if (authorFilter.length > 0) {\n        author = authorFilter.includes(core.getDisplayAuthor(annot['Author'], documentViewerKey));\n        if (!author && checkRepliesForAuthorFilter) {\n          const allReplies = annot.getReplies();\n          for (const reply of allReplies) {\n            // Short-circuit the search if at least one reply is created by\n            // one of the desired authors\n            if (authorFilter.includes(core.getDisplayAuthor(reply['Author'], documentViewerKey))) {\n              author = true;\n              break;\n            }\n          }\n        }\n      }\n      if (colorFilter.length > 0) {\n        const iconColor = getIconColor(annot);\n        if (iconColor) {\n          color = similarColorExist(colorFilter, iconColor);\n        } else {\n          // check for default color if no color is available\n          color = colorFilter.includes('#485056');\n        }\n      }\n      if (statusFilter.length > 0) {\n        if (annot.getStatus()) {\n          status = statusFilter.includes(annot.getStatus());\n        } else {\n          status = statusFilter.includes('None');\n        }\n      }\n      return type && author && color && status;\n    };\n    dispatch(actions.setCustomNoteFilter(newFilter));\n    dispatch(actions.setAnnotationFilters({\n      isDocumentFilterActive,\n      includeReplies: checkRepliesForAuthorFilter,\n      authorFilter,\n      colorFilter,\n      typeFilter: typesFilter,\n      statusFilter\n    }));\n    const redrawList = [];\n    if (isDocumentFilterActive) {\n      core.getDocumentViewers().forEach((documentViewer, index) => documentViewer.getAnnotationManager()\n        .getAnnotationsList().forEach((annot) => {\n          const shouldHide = !newFilter(annot, index + 1);\n          if (shouldHide !== annot.NoView) {\n            annot.NoView = shouldHide;\n            redrawList.push(annot);\n          }\n        }));\n    } else {\n      core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager()\n        .getAnnotationsList().forEach((annot) => {\n          if (annot.NoView === true) {\n            annot.NoView = false;\n            redrawList.push(annot);\n          }\n        }));\n    }\n    core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager().drawAnnotationsFromList(redrawList));\n    fireEvent(\n      Events.ANNOTATION_FILTER_CHANGED,\n      {\n        types: typesFilter,\n        authors: authorFilter,\n        colors: colorFilter,\n        statuses: statusFilter,\n        checkRepliesForAuthorFilter\n      }\n    );\n    closeModal();\n  };\n\n  const filterClear = () => {\n    setCheckRepliesForAuthorFilter(false);\n    setIsDocumentFilterActive(false);\n    setAuthorFilter([]);\n    setTypesFilter([]);\n    setColorFilter([]);\n    setStatusFilter([]);\n\n    const redrawList = [];\n    core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager().getAnnotationsList()\n      .forEach((annot) => {\n        if (annot.NoView === true) {\n          annot.NoView = false;\n          redrawList.push(annot);\n        }\n      }));\n    core.getDocumentViewers().forEach((documentViewer) => documentViewer.getAnnotationManager().drawAnnotationsFromList(redrawList));\n  };\n\n  const closeModal = () => {\n    dispatch(actions.closeElement(DataElements.FILTER_MODAL));\n    core.setToolMode(defaultTool);\n  };\n\n  useEffect(() => {\n    const clearAllFilters = () => {\n      filterClear();\n      filterApply();\n    };\n    core.addEventListener('documentUnloaded', clearAllFilters);\n    return () => {\n      core.removeEventListener('documentUnloaded', clearAllFilters);\n    };\n  }, []);\n\n  useEffect(() => {\n    const annotLists = core.getDocumentViewers().map((documentViewer) => documentViewer.getAnnotationManager().getAnnotationsList());\n    const annots = [].concat(...annotLists).filter((annot) => !annot.Hidden);\n    // set is a great way to remove any duplicate additions and ensure the unique items are present\n    // the only gotcha that it should not be used by state since not always it will trigger a rerender\n    const authorsToBeAdded = new Set();\n    const annotTypesToBeAdded = new Set();\n    const annotColorsToBeAdded = new Set();\n    const annotStatusesToBeAdded = new Set();\n    annots.forEach((annot) => {\n      const displayAuthor = core.getDisplayAuthor(annot['Author']);\n      if (displayAuthor && displayAuthor !== '') {\n        authorsToBeAdded.add(displayAuthor);\n      }\n      // We don't show it in the filter for WidgetAnnotation or StickyAnnotation or LinkAnnotation from the comments\n      if (\n        annot instanceof window.Core.Annotations.WidgetAnnotation ||\n        (annot instanceof window.Core.Annotations.StickyAnnotation && annot.isReply()) ||\n        annot instanceof window.Core.Annotations.Link\n      ) {\n        return;\n      }\n\n      // If the annotation is also measurement, and the API is on, we want to instead add the measurement type\n      const isMeasurementAnnotation = annot.IT || annot.getCustomData('trn-is-count');\n      if (isMeasurementAnnotationFilterEnabled && isMeasurementAnnotation) {\n        const measurementKey = mapAnnotationToKey(annot);\n        annotTypesToBeAdded.add(measurementKey);\n      } else {\n        annotTypesToBeAdded.add(getAnnotationClass(annot));\n      }\n      const iconColor = getIconColor(annot);\n      if (iconColor && !similarColorExist([...annotColorsToBeAdded], iconColor)) {\n        annotColorsToBeAdded.add(rgbaToHex(iconColor.R, iconColor.G, iconColor.B, iconColor.A));\n      }\n\n      if (annot.getStatus()) {\n        annotStatusesToBeAdded.add(annot.getStatus());\n      } else {\n        annotStatusesToBeAdded.add('None');\n      }\n    });\n\n    setAuthors([...authorsToBeAdded]);\n    setAnnotTypes([...annotTypesToBeAdded]);\n    setColorTypes([...annotColorsToBeAdded]);\n    setStatusTypes([...annotStatusesToBeAdded]);\n\n    core.addEventListener('documentUnloaded', closeModal);\n    return () => {\n      core.removeEventListener('documentUnloaded', closeModal);\n    };\n  }, [isOpen, isMeasurementAnnotationFilterEnabled]);\n\n  useEffect(() => {\n    if (selectedTab === DataElements.ANNOTATION_STATUS_FILTER_PANEL_BUTTON && !ifShowAnnotationStatus) {\n      dispatch(actions.setSelectedTab(TABS_ID, DataElements.ANNOTATION_USER_FILTER_PANEL_BUTTON));\n    }\n  }, [isOpen, selectedTab, ifShowAnnotationStatus]);\n\n  useEffect(() => {\n    setFilterCount(\n      (checkRepliesForAuthorFilter ? 1 : 0) +\n      (isDocumentFilterActive ? 1 : 0) +\n      authorFilter.length +\n      colorFilter.length +\n      typesFilter.length +\n      statusFilter.length\n    );\n  }, [checkRepliesForAuthorFilter, isDocumentFilterActive, authorFilter, colorFilter, typesFilter, statusFilter]);\n\n  useEffect(() => {\n    setIfShowAnnotationStatus((statuses.length > 1) || (statuses.length === 1 && statuses[0] !== 'None'));\n  }, [statuses]);\n\n  useEffect(() => {\n    if (isOpen) {\n      setIsDocumentFilterActive(annotationFilters.isDocumentFilterActive);\n      setCheckRepliesForAuthorFilter(annotationFilters.includeReplies);\n      setAuthorFilter(annotationFilters.authorFilter);\n      setColorFilter(annotationFilters.colorFilter);\n      setTypesFilter(annotationFilters.typeFilter);\n      setStatusFilter(annotationFilters.statusFilter);\n    }\n  }, [isOpen]);\n\n  const renderAuthors = () => {\n    return (\n      <div className=\"user-filters three-column-filter\">\n        {[...authors].map((val, index) => {\n          return (\n            <Choice\n              type=\"checkbox\"\n              key={index}\n              label={<Tooltip content={val}><div>{val}</div></Tooltip>}\n              checked={authorFilter.includes(val)}\n              id={val}\n              onChange={(e) => {\n                if (authorFilter.indexOf(e.target.getAttribute('id')) === -1) {\n                  setAuthorFilter([...authorFilter, e.target.getAttribute('id')]);\n                } else {\n                  setAuthorFilter(authorFilter.filter((author) => author !== e.target.getAttribute('id')));\n                }\n              }}\n            />\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderAnnotTypes = () => {\n    return (\n      <div className=\"type-filters three-column-filter\">\n        {[...annotTypes]\n          .sort((type1, type2) => (t(`annotation.${type1}`) <= t(`annotation.${type2}`) ? -1 : 1))\n          .map((val, index) => {\n            return (\n              <Choice\n                type=\"checkbox\"\n                key={index}\n                label={<Tooltip content={t(`annotation.${val}`)}><div>{t(`annotation.${val}`)}</div></Tooltip>}\n                checked={typesFilter.includes(val)}\n                id={val}\n                onChange={(e) => {\n                  if (typesFilter.indexOf(e.target.getAttribute('id')) === -1) {\n                    setTypesFilter([...typesFilter, e.target.getAttribute('id')]);\n                  } else {\n                    setTypesFilter(typesFilter.filter((type) => type !== e.target.getAttribute('id')));\n                  }\n                }}\n              />\n            );\n          })}\n      </div>\n    );\n  };\n\n  const renderColorTypes = () => {\n    return (\n      <div className=\"color-filters\">\n        {[...colors].map((val, index) => {\n          return (\n            <div className=\"colorSelect\" key={`color${index}`}>\n              <Choice\n                type=\"checkbox\"\n                checked={colorFilter.includes(val)}\n                id={val}\n                onChange={(e) => {\n                  if (colorFilter.indexOf(e.target.getAttribute('id')) === -1) {\n                    setColorFilter([...colorFilter, e.target.getAttribute('id')]);\n                  } else {\n                    setColorFilter(colorFilter.filter((color) => color !== e.target.getAttribute('id')));\n                  }\n                }}\n              />\n              <div\n                className=\"colorCell\"\n                style={{\n                  background: getHexToRgbaString(val),\n                }}\n              ></div>\n            </div>\n          );\n        })}\n      </div>\n    );\n  };\n\n  const renderStatusTypes = () => {\n    return (\n      <div className=\"status-filters three-column-filter\">\n        {[...statuses].map((val, index) => {\n          return (\n            <Choice\n              type=\"checkbox\"\n              key={index}\n              checked={statusFilter.includes(val)}\n              label={t(`option.state.${val.toLocaleLowerCase()}`)}\n              id={val}\n              onChange={(e) => {\n                if (statusFilter.indexOf(e.target.getAttribute('id')) === -1) {\n                  setStatusFilter([...statusFilter, e.target.getAttribute('id')]);\n                } else {\n                  setStatusFilter(statusFilter.filter((status) => status !== e.target.getAttribute('id')));\n                }\n              }}\n            />\n          );\n        })}\n      </div>\n    );\n  };\n\n  const modalClass = classNames({\n    Modal: true,\n    FilterAnnotModal: true,\n    open: isOpen,\n    closed: !isOpen,\n  });\n\n  return isDisabled ? null : (\n    <div className={modalClass} data-element={DataElements.FILTER_MODAL} onMouseDown={closeModal}>\n      <FocusTrap locked={isOpen} focusLastOnUnlock>\n        <div className=\"container\" onMouseDown={(e) => e.stopPropagation()}>\n          {core.getAnnotationsList().length > 0 ? (\n            <div className=\"filter-modal\">\n              <Swipeable onSwipedDown={closeModal} preventDefaultTouchmoveEvent>\n                <div className=\"swipe-indicator\" />\n                <div className=\"header\">\n                  <div>{`${t('option.filterAnnotModal.filters')} (${filterCount})`}</div>\n                  <Button\n                    img=\"icon-close\"\n                    onClick={closeModal}\n                    title=\"action.close\"\n                  />\n                </div>\n              </Swipeable>\n              <div className=\"divider\"></div>\n              <div className=\"body\">\n                <Tabs id={TABS_ID}>\n                  <div className=\"tab-list\">\n                    <Tab dataElement={DataElements.ANNOTATION_USER_FILTER_PANEL_BUTTON}>\n                      <button className=\"tab-options-button\">\n                        {t('option.filterAnnotModal.user')}\n                      </button>\n                    </Tab>\n                    <div className=\"tab-options-divider\" />\n                    <Tab dataElement={DataElements.ANNOTATION_COLOR_FILTER_PANEL_BUTTON}>\n                      <button className=\"tab-options-button\">\n                        {t('option.filterAnnotModal.color')}\n                      </button>\n                    </Tab>\n                    <div className=\"tab-options-divider\" />\n                    <Tab dataElement={DataElements.ANNOTATION_TYPE_FILTER_PANEL_BUTTON}>\n                      <button className=\"tab-options-button\">\n                        {t('option.filterAnnotModal.type')}\n                      </button>\n                    </Tab>\n                    {ifShowAnnotationStatus && (\n                      <>\n                        <div className=\"tab-options-divider\" />\n                        <Tab dataElement={DataElements.ANNOTATION_STATUS_FILTER_PANEL_BUTTON}>\n                          <button className=\"tab-options-button\">\n                            {t('option.filterAnnotModal.status')}\n                          </button>\n                        </Tab>\n                      </>\n                    )}\n                  </div>\n                  <div className=\"filter-options\">\n                    <TabPanel dataElement=\"annotationUserFilterPanel\">\n                      {renderAuthors()}\n                    </TabPanel>\n                    <TabPanel dataElement=\"annotationColorFilterPanel\">\n                      {renderColorTypes()}\n                    </TabPanel>\n                    <TabPanel dataElement=\"annotationTypeFilterPanel\">\n                      {renderAnnotTypes()}\n                    </TabPanel>\n                    {ifShowAnnotationStatus && (\n                      <TabPanel dataElement=\"annotationStatusFilterPanel\">\n                        {renderStatusTypes()}\n                      </TabPanel>\n                    )}\n                  </div>\n                </Tabs>\n              </div>\n              <div className=\"divider\"></div>\n              <div className=\"settings-body\">\n                <div className=\"settings-header\">{t('option.filterAnnotModal.filterSettings')}</div>\n                <div className=\"settings\">\n                  <Choice\n                    label={t('option.filterAnnotModal.includeReplies')}\n                    checked={checkRepliesForAuthorFilter}\n                    onChange={(e) => setCheckRepliesForAuthorFilter(e.target.checked)}\n                    id=\"filter-annot-modal-include-replies\"\n                  />\n                  <Choice\n                    label={t('option.filterAnnotModal.filterDocument')}\n                    checked={isDocumentFilterActive}\n                    onChange={(e) => setIsDocumentFilterActive(e.target.checked)}\n                    id=\"filter-annot-modal-filter-document\"\n                  />\n                </div>\n              </div>\n              <div className=\"divider\"></div>\n              <div className=\"footer\">\n                <Button className=\"filter-annot-clear\" onClick={filterClear} label={t('action.clearAll')}\n                  disabled={filterCount === 0} />\n                <Button className=\"filter-annot-apply\" onClick={filterApply} label={t('action.apply')} />\n              </div>\n            </div>\n          ) : (\n            <div>\n              <div className=\"swipe-indicator\" />\n              <div className=\"message\">{t('message.noAnnotationsFilter')}</div>\n            </div>\n          )}\n        </div>\n      </FocusTrap>\n    </div>\n  );\n};\n\nexport default FilterAnnotModal;\n","import FilterAnnotModal from './FilterAnnotModal';\n\nexport default FilterAnnotModal;"],"sourceRoot":""}